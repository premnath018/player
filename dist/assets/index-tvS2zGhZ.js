(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))u(v);new MutationObserver(v=>{for(const M of v)if(M.type==="childList")for(const Z of M.addedNodes)Z.tagName==="LINK"&&Z.rel==="modulepreload"&&u(Z)}).observe(document,{childList:!0,subtree:!0});function n(v){const M={};return v.integrity&&(M.integrity=v.integrity),v.referrerPolicy&&(M.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?M.credentials="include":v.crossOrigin==="anonymous"?M.credentials="omit":M.credentials="same-origin",M}function u(v){if(v.ep)return;v.ep=!0;const M=n(v);fetch(v.href,M)}})();function Sp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ap={exports:{}},Bl={},wp={exports:{}},bn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=Symbol.for("react.element"),Iv=Symbol.for("react.portal"),bv=Symbol.for("react.fragment"),Rv=Symbol.for("react.strict_mode"),Nv=Symbol.for("react.profiler"),Cv=Symbol.for("react.provider"),Dv=Symbol.for("react.context"),Ov=Symbol.for("react.forward_ref"),Mv=Symbol.for("react.suspense"),Pv=Symbol.for("react.memo"),Lv=Symbol.for("react.lazy"),dg=Symbol.iterator;function xv(e){return e===null||typeof e!="object"?null:(e=dg&&e[dg]||e["@@iterator"],typeof e=="function"?e:null)}var Ip={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bp=Object.assign,Rp={};function pa(e,t,n){this.props=e,this.context=t,this.refs=Rp,this.updater=n||Ip}pa.prototype.isReactComponent={};pa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};pa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Np(){}Np.prototype=pa.prototype;function tf(e,t,n){this.props=e,this.context=t,this.refs=Rp,this.updater=n||Ip}var nf=tf.prototype=new Np;nf.constructor=tf;bp(nf,pa.prototype);nf.isPureReactComponent=!0;var gg=Array.isArray,Cp=Object.prototype.hasOwnProperty,rf={current:null},Dp={key:!0,ref:!0,__self:!0,__source:!0};function Op(e,t,n){var u,v={},M=null,Z=null;if(t!=null)for(u in t.ref!==void 0&&(Z=t.ref),t.key!==void 0&&(M=""+t.key),t)Cp.call(t,u)&&!Dp.hasOwnProperty(u)&&(v[u]=t[u]);var H=arguments.length-2;if(H===1)v.children=n;else if(1<H){for(var S=Array(H),Y=0;Y<H;Y++)S[Y]=arguments[Y+2];v.children=S}if(e&&e.defaultProps)for(u in H=e.defaultProps,H)v[u]===void 0&&(v[u]=H[u]);return{$$typeof:ss,type:e,key:M,ref:Z,props:v,_owner:rf.current}}function kv(e,t){return{$$typeof:ss,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function of(e){return typeof e=="object"&&e!==null&&e.$$typeof===ss}function Fv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var pg=/\/+/g;function ku(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Fv(""+e.key):t.toString(36)}function il(e,t,n,u,v){var M=typeof e;(M==="undefined"||M==="boolean")&&(e=null);var Z=!1;if(e===null)Z=!0;else switch(M){case"string":case"number":Z=!0;break;case"object":switch(e.$$typeof){case ss:case Iv:Z=!0}}if(Z)return Z=e,v=v(Z),e=u===""?"."+ku(Z,0):u,gg(v)?(n="",e!=null&&(n=e.replace(pg,"$&/")+"/"),il(v,t,n,"",function(Y){return Y})):v!=null&&(of(v)&&(v=kv(v,n+(!v.key||Z&&Z.key===v.key?"":(""+v.key).replace(pg,"$&/")+"/")+e)),t.push(v)),1;if(Z=0,u=u===""?".":u+":",gg(e))for(var H=0;H<e.length;H++){M=e[H];var S=u+ku(M,H);Z+=il(M,t,n,S,v)}else if(S=xv(e),typeof S=="function")for(e=S.call(e),H=0;!(M=e.next()).done;)M=M.value,S=u+ku(M,H++),Z+=il(M,t,n,S,v);else if(M==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return Z}function Gs(e,t,n){if(e==null)return e;var u=[],v=0;return il(e,u,"","",function(M){return t.call(n,M,v++)}),u}function Uv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xr={current:null},ol={transition:null},Zv={ReactCurrentDispatcher:xr,ReactCurrentBatchConfig:ol,ReactCurrentOwner:rf};function Mp(){throw Error("act(...) is not supported in production builds of React.")}bn.Children={map:Gs,forEach:function(e,t,n){Gs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gs(e,function(){t++}),t},toArray:function(e){return Gs(e,function(t){return t})||[]},only:function(e){if(!of(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};bn.Component=pa;bn.Fragment=bv;bn.Profiler=Nv;bn.PureComponent=tf;bn.StrictMode=Rv;bn.Suspense=Mv;bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zv;bn.act=Mp;bn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var u=bp({},e.props),v=e.key,M=e.ref,Z=e._owner;if(t!=null){if(t.ref!==void 0&&(M=t.ref,Z=rf.current),t.key!==void 0&&(v=""+t.key),e.type&&e.type.defaultProps)var H=e.type.defaultProps;for(S in t)Cp.call(t,S)&&!Dp.hasOwnProperty(S)&&(u[S]=t[S]===void 0&&H!==void 0?H[S]:t[S])}var S=arguments.length-2;if(S===1)u.children=n;else if(1<S){H=Array(S);for(var Y=0;Y<S;Y++)H[Y]=arguments[Y+2];u.children=H}return{$$typeof:ss,type:e.type,key:v,ref:M,props:u,_owner:Z}};bn.createContext=function(e){return e={$$typeof:Dv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Cv,_context:e},e.Consumer=e};bn.createElement=Op;bn.createFactory=function(e){var t=Op.bind(null,e);return t.type=e,t};bn.createRef=function(){return{current:null}};bn.forwardRef=function(e){return{$$typeof:Ov,render:e}};bn.isValidElement=of;bn.lazy=function(e){return{$$typeof:Lv,_payload:{_status:-1,_result:e},_init:Uv}};bn.memo=function(e,t){return{$$typeof:Pv,type:e,compare:t===void 0?null:t}};bn.startTransition=function(e){var t=ol.transition;ol.transition={};try{e()}finally{ol.transition=t}};bn.unstable_act=Mp;bn.useCallback=function(e,t){return xr.current.useCallback(e,t)};bn.useContext=function(e){return xr.current.useContext(e)};bn.useDebugValue=function(){};bn.useDeferredValue=function(e){return xr.current.useDeferredValue(e)};bn.useEffect=function(e,t){return xr.current.useEffect(e,t)};bn.useId=function(){return xr.current.useId()};bn.useImperativeHandle=function(e,t,n){return xr.current.useImperativeHandle(e,t,n)};bn.useInsertionEffect=function(e,t){return xr.current.useInsertionEffect(e,t)};bn.useLayoutEffect=function(e,t){return xr.current.useLayoutEffect(e,t)};bn.useMemo=function(e,t){return xr.current.useMemo(e,t)};bn.useReducer=function(e,t,n){return xr.current.useReducer(e,t,n)};bn.useRef=function(e){return xr.current.useRef(e)};bn.useState=function(e){return xr.current.useState(e)};bn.useSyncExternalStore=function(e,t,n){return xr.current.useSyncExternalStore(e,t,n)};bn.useTransition=function(){return xr.current.useTransition()};bn.version="18.3.1";wp.exports=bn;var Rn=wp.exports;const Bv=Sp(Rn);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv=Rn,jv=Symbol.for("react.element"),qv=Symbol.for("react.fragment"),Yv=Object.prototype.hasOwnProperty,zv=Gv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hv={key:!0,ref:!0,__self:!0,__source:!0};function Pp(e,t,n){var u,v={},M=null,Z=null;n!==void 0&&(M=""+n),t.key!==void 0&&(M=""+t.key),t.ref!==void 0&&(Z=t.ref);for(u in t)Yv.call(t,u)&&!Hv.hasOwnProperty(u)&&(v[u]=t[u]);if(e&&e.defaultProps)for(u in t=e.defaultProps,t)v[u]===void 0&&(v[u]=t[u]);return{$$typeof:jv,type:e,key:M,ref:Z,props:v,_owner:zv.current}}Bl.Fragment=qv;Bl.jsx=Pp;Bl.jsxs=Pp;Ap.exports=Bl;var vn=Ap.exports,lc={},Lp={exports:{}},Kr={},xp={exports:{}},kp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(we,Me){var je=we.length;we.push(Me);e:for(;0<je;){var Ie=je-1>>>1,Le=we[Ie];if(0<v(Le,Me))we[Ie]=Me,we[je]=Le,je=Ie;else break e}}function n(we){return we.length===0?null:we[0]}function u(we){if(we.length===0)return null;var Me=we[0],je=we.pop();if(je!==Me){we[0]=je;e:for(var Ie=0,Le=we.length,Qe=Le>>>1;Ie<Qe;){var nt=2*(Ie+1)-1,Re=we[nt],Fe=nt+1,Tt=we[Fe];if(0>v(Re,je))Fe<Le&&0>v(Tt,Re)?(we[Ie]=Tt,we[Fe]=je,Ie=Fe):(we[Ie]=Re,we[nt]=je,Ie=nt);else if(Fe<Le&&0>v(Tt,je))we[Ie]=Tt,we[Fe]=je,Ie=Fe;else break e}}return Me}function v(we,Me){var je=we.sortIndex-Me.sortIndex;return je!==0?je:we.id-Me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var M=performance;e.unstable_now=function(){return M.now()}}else{var Z=Date,H=Z.now();e.unstable_now=function(){return Z.now()-H}}var S=[],Y=[],A=1,o=null,i=3,_=!1,E=!1,f=!1,R=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,r=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function l(we){for(var Me=n(Y);Me!==null;){if(Me.callback===null)u(Y);else if(Me.startTime<=we)u(Y),Me.sortIndex=Me.expirationTime,t(S,Me);else break;Me=n(Y)}}function p(we){if(f=!1,l(we),!E)if(n(S)!==null)E=!0,Ne(N);else{var Me=n(Y);Me!==null&&ae(p,Me.startTime-we)}}function N(we,Me){E=!1,f&&(f=!1,y(F),F=-1),_=!0;var je=i;try{for(l(Me),o=n(S);o!==null&&(!(o.expirationTime>Me)||we&&!ne());){var Ie=o.callback;if(typeof Ie=="function"){o.callback=null,i=o.priorityLevel;var Le=Ie(o.expirationTime<=Me);Me=e.unstable_now(),typeof Le=="function"?o.callback=Le:o===n(S)&&u(S),l(Me)}else u(S);o=n(S)}if(o!==null)var Qe=!0;else{var nt=n(Y);nt!==null&&ae(p,nt.startTime-Me),Qe=!1}return Qe}finally{o=null,i=je,_=!1}}var U=!1,q=null,F=-1,oe=5,x=-1;function ne(){return!(e.unstable_now()-x<oe)}function de(){if(q!==null){var we=e.unstable_now();x=we;var Me=!0;try{Me=q(!0,we)}finally{Me?$():(U=!1,q=null)}}else U=!1}var $;if(typeof r=="function")$=function(){r(de)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,he=ue.port2;ue.port1.onmessage=de,$=function(){he.postMessage(null)}}else $=function(){R(de,0)};function Ne(we){q=we,U||(U=!0,$())}function ae(we,Me){F=R(function(){we(e.unstable_now())},Me)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(we){we.callback=null},e.unstable_continueExecution=function(){E||_||(E=!0,Ne(N))},e.unstable_forceFrameRate=function(we){0>we||125<we?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<we?Math.floor(1e3/we):5},e.unstable_getCurrentPriorityLevel=function(){return i},e.unstable_getFirstCallbackNode=function(){return n(S)},e.unstable_next=function(we){switch(i){case 1:case 2:case 3:var Me=3;break;default:Me=i}var je=i;i=Me;try{return we()}finally{i=je}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(we,Me){switch(we){case 1:case 2:case 3:case 4:case 5:break;default:we=3}var je=i;i=we;try{return Me()}finally{i=je}},e.unstable_scheduleCallback=function(we,Me,je){var Ie=e.unstable_now();switch(typeof je=="object"&&je!==null?(je=je.delay,je=typeof je=="number"&&0<je?Ie+je:Ie):je=Ie,we){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=je+Le,we={id:A++,callback:Me,priorityLevel:we,startTime:je,expirationTime:Le,sortIndex:-1},je>Ie?(we.sortIndex=je,t(Y,we),n(S)===null&&we===n(Y)&&(f?(y(F),F=-1):f=!0,ae(p,je-Ie))):(we.sortIndex=Le,t(S,we),E||_||(E=!0,Ne(N))),we},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(we){var Me=i;return function(){var je=i;i=Me;try{return we.apply(this,arguments)}finally{i=je}}}})(kp);xp.exports=kp;var Vv=xp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv=Rn,Vr=Vv;function en(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fp=new Set,Ya={};function No(e,t){sa(e,t),sa(e+"Capture",t)}function sa(e,t){for(Ya[e]=t,e=0;e<t.length;e++)Fp.add(t[e])}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uc=Object.prototype.hasOwnProperty,Wv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hg={},mg={};function Qv(e){return uc.call(mg,e)?!0:uc.call(hg,e)?!1:Wv.test(e)?mg[e]=!0:(hg[e]=!0,!1)}function Xv(e,t,n,u){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return u?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $v(e,t,n,u){if(t===null||typeof t>"u"||Xv(e,t,n,u))return!0;if(u)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kr(e,t,n,u,v,M,Z){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=u,this.attributeNamespace=v,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=M,this.removeEmptyString=Z}var Sr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Sr[e]=new kr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Sr[t]=new kr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Sr[e]=new kr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Sr[e]=new kr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Sr[e]=new kr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Sr[e]=new kr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Sr[e]=new kr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Sr[e]=new kr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Sr[e]=new kr(e,5,!1,e.toLowerCase(),null,!1,!1)});var af=/[\-:]([a-z])/g;function sf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(af,sf);Sr[t]=new kr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(af,sf);Sr[t]=new kr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(af,sf);Sr[t]=new kr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Sr[e]=new kr(e,1,!1,e.toLowerCase(),null,!1,!1)});Sr.xlinkHref=new kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Sr[e]=new kr(e,1,!1,e.toLowerCase(),null,!0,!0)});function lf(e,t,n,u){var v=Sr.hasOwnProperty(t)?Sr[t]:null;(v!==null?v.type!==0:u||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($v(t,n,v,u)&&(n=null),u||v===null?Qv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):v.mustUseProperty?e[v.propertyName]=n===null?v.type===3?!1:"":n:(t=v.attributeName,u=v.attributeNamespace,n===null?e.removeAttribute(t):(v=v.type,n=v===3||v===4&&n===!0?"":""+n,u?e.setAttributeNS(u,t,n):e.setAttribute(t,n))))}var xi=Kv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,js=Symbol.for("react.element"),qo=Symbol.for("react.portal"),Yo=Symbol.for("react.fragment"),uf=Symbol.for("react.strict_mode"),cc=Symbol.for("react.profiler"),Up=Symbol.for("react.provider"),Zp=Symbol.for("react.context"),cf=Symbol.for("react.forward_ref"),fc=Symbol.for("react.suspense"),dc=Symbol.for("react.suspense_list"),ff=Symbol.for("react.memo"),qi=Symbol.for("react.lazy"),Bp=Symbol.for("react.offscreen"),yg=Symbol.iterator;function Aa(e){return e===null||typeof e!="object"?null:(e=yg&&e[yg]||e["@@iterator"],typeof e=="function"?e:null)}var er=Object.assign,Fu;function Oa(e){if(Fu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fu=t&&t[1]||""}return`
`+Fu+e}var Uu=!1;function Zu(e,t){if(!e||Uu)return"";Uu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(Y){var u=Y}Reflect.construct(e,[],t)}else{try{t.call()}catch(Y){u=Y}e.call(t.prototype)}else{try{throw Error()}catch(Y){u=Y}e()}}catch(Y){if(Y&&u&&typeof Y.stack=="string"){for(var v=Y.stack.split(`
`),M=u.stack.split(`
`),Z=v.length-1,H=M.length-1;1<=Z&&0<=H&&v[Z]!==M[H];)H--;for(;1<=Z&&0<=H;Z--,H--)if(v[Z]!==M[H]){if(Z!==1||H!==1)do if(Z--,H--,0>H||v[Z]!==M[H]){var S=`
`+v[Z].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=Z&&0<=H);break}}}finally{Uu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Oa(e):""}function Jv(e){switch(e.tag){case 5:return Oa(e.type);case 16:return Oa("Lazy");case 13:return Oa("Suspense");case 19:return Oa("SuspenseList");case 0:case 2:case 15:return e=Zu(e.type,!1),e;case 11:return e=Zu(e.type.render,!1),e;case 1:return e=Zu(e.type,!0),e;default:return""}}function gc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yo:return"Fragment";case qo:return"Portal";case cc:return"Profiler";case uf:return"StrictMode";case fc:return"Suspense";case dc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Zp:return(e.displayName||"Context")+".Consumer";case Up:return(e._context.displayName||"Context")+".Provider";case cf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ff:return t=e.displayName||null,t!==null?t:gc(e.type)||"Memo";case qi:t=e._payload,e=e._init;try{return gc(e(t))}catch{}}return null}function eE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gc(t);case 8:return t===uf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ro(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tE(e){var t=Gp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),u=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var v=n.get,M=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return v.call(this)},set:function(Z){u=""+Z,M.call(this,Z)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return u},setValue:function(Z){u=""+Z},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qs(e){e._valueTracker||(e._valueTracker=tE(e))}function jp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),u="";return e&&(u=Gp(e)?e.checked?"true":"false":e.value),e=u,e!==n?(t.setValue(e),!0):!1}function ml(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pc(e,t){var n=t.checked;return er({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vg(e,t){var n=t.defaultValue==null?"":t.defaultValue,u=t.checked!=null?t.checked:t.defaultChecked;n=ro(t.value!=null?t.value:n),e._wrapperState={initialChecked:u,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qp(e,t){t=t.checked,t!=null&&lf(e,"checked",t,!1)}function hc(e,t){qp(e,t);var n=ro(t.value),u=t.type;if(n!=null)u==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mc(e,t.type,n):t.hasOwnProperty("defaultValue")&&mc(e,t.type,ro(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Eg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var u=t.type;if(!(u!=="submit"&&u!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function mc(e,t,n){(t!=="number"||ml(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ma=Array.isArray;function ta(e,t,n,u){if(e=e.options,t){t={};for(var v=0;v<n.length;v++)t["$"+n[v]]=!0;for(n=0;n<e.length;n++)v=t.hasOwnProperty("$"+e[n].value),e[n].selected!==v&&(e[n].selected=v),v&&u&&(e[n].defaultSelected=!0)}else{for(n=""+ro(n),t=null,v=0;v<e.length;v++){if(e[v].value===n){e[v].selected=!0,u&&(e[v].defaultSelected=!0);return}t!==null||e[v].disabled||(t=e[v])}t!==null&&(t.selected=!0)}}function yc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(en(91));return er({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _g(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(en(92));if(Ma(n)){if(1<n.length)throw Error(en(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ro(n)}}function Yp(e,t){var n=ro(t.value),u=ro(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),u!=null&&(e.defaultValue=""+u)}function Tg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ys,Hp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,u,v){MSApp.execUnsafeLocalFunction(function(){return e(t,n,u,v)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ys=Ys||document.createElement("div"),Ys.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ys.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function za(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nE=["Webkit","ms","Moz","O"];Object.keys(xa).forEach(function(e){nE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xa[t]=xa[e]})});function Vp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xa.hasOwnProperty(e)&&xa[e]?(""+t).trim():t+"px"}function Kp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var u=n.indexOf("--")===0,v=Vp(n,t[n],u);n==="float"&&(n="cssFloat"),u?e.setProperty(n,v):e[n]=v}}var rE=er({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ec(e,t){if(t){if(rE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(en(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(en(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(en(61))}if(t.style!=null&&typeof t.style!="object")throw Error(en(62))}}function _c(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tc=null;function df(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sc=null,na=null,ra=null;function Sg(e){if(e=cs(e)){if(typeof Sc!="function")throw Error(en(280));var t=e.stateNode;t&&(t=zl(t),Sc(e.stateNode,e.type,t))}}function Wp(e){na?ra?ra.push(e):ra=[e]:na=e}function Qp(){if(na){var e=na,t=ra;if(ra=na=null,Sg(e),t)for(e=0;e<t.length;e++)Sg(t[e])}}function Xp(e,t){return e(t)}function $p(){}var Bu=!1;function Jp(e,t,n){if(Bu)return e(t,n);Bu=!0;try{return Xp(e,t,n)}finally{Bu=!1,(na!==null||ra!==null)&&($p(),Qp())}}function Ha(e,t){var n=e.stateNode;if(n===null)return null;var u=zl(n);if(u===null)return null;n=u[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(en(231,t,typeof n));return n}var Ac=!1;if(Oi)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){Ac=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{Ac=!1}function iE(e,t,n,u,v,M,Z,H,S){var Y=Array.prototype.slice.call(arguments,3);try{t.apply(n,Y)}catch(A){this.onError(A)}}var ka=!1,yl=null,vl=!1,wc=null,oE={onError:function(e){ka=!0,yl=e}};function aE(e,t,n,u,v,M,Z,H,S){ka=!1,yl=null,iE.apply(oE,arguments)}function sE(e,t,n,u,v,M,Z,H,S){if(aE.apply(this,arguments),ka){if(ka){var Y=yl;ka=!1,yl=null}else throw Error(en(198));vl||(vl=!0,wc=Y)}}function Co(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function eh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ag(e){if(Co(e)!==e)throw Error(en(188))}function lE(e){var t=e.alternate;if(!t){if(t=Co(e),t===null)throw Error(en(188));return t!==e?null:e}for(var n=e,u=t;;){var v=n.return;if(v===null)break;var M=v.alternate;if(M===null){if(u=v.return,u!==null){n=u;continue}break}if(v.child===M.child){for(M=v.child;M;){if(M===n)return Ag(v),e;if(M===u)return Ag(v),t;M=M.sibling}throw Error(en(188))}if(n.return!==u.return)n=v,u=M;else{for(var Z=!1,H=v.child;H;){if(H===n){Z=!0,n=v,u=M;break}if(H===u){Z=!0,u=v,n=M;break}H=H.sibling}if(!Z){for(H=M.child;H;){if(H===n){Z=!0,n=M,u=v;break}if(H===u){Z=!0,u=M,n=v;break}H=H.sibling}if(!Z)throw Error(en(189))}}if(n.alternate!==u)throw Error(en(190))}if(n.tag!==3)throw Error(en(188));return n.stateNode.current===n?e:t}function th(e){return e=lE(e),e!==null?nh(e):null}function nh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nh(e);if(t!==null)return t;e=e.sibling}return null}var rh=Vr.unstable_scheduleCallback,wg=Vr.unstable_cancelCallback,uE=Vr.unstable_shouldYield,cE=Vr.unstable_requestPaint,sr=Vr.unstable_now,fE=Vr.unstable_getCurrentPriorityLevel,gf=Vr.unstable_ImmediatePriority,ih=Vr.unstable_UserBlockingPriority,El=Vr.unstable_NormalPriority,dE=Vr.unstable_LowPriority,oh=Vr.unstable_IdlePriority,Gl=null,Si=null;function gE(e){if(Si&&typeof Si.onCommitFiberRoot=="function")try{Si.onCommitFiberRoot(Gl,e,void 0,(e.current.flags&128)===128)}catch{}}var mi=Math.clz32?Math.clz32:mE,pE=Math.log,hE=Math.LN2;function mE(e){return e>>>=0,e===0?32:31-(pE(e)/hE|0)|0}var zs=64,Hs=4194304;function Pa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _l(e,t){var n=e.pendingLanes;if(n===0)return 0;var u=0,v=e.suspendedLanes,M=e.pingedLanes,Z=n&268435455;if(Z!==0){var H=Z&~v;H!==0?u=Pa(H):(M&=Z,M!==0&&(u=Pa(M)))}else Z=n&~v,Z!==0?u=Pa(Z):M!==0&&(u=Pa(M));if(u===0)return 0;if(t!==0&&t!==u&&!(t&v)&&(v=u&-u,M=t&-t,v>=M||v===16&&(M&4194240)!==0))return t;if(u&4&&(u|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=u;0<t;)n=31-mi(t),v=1<<n,u|=e[n],t&=~v;return u}function yE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vE(e,t){for(var n=e.suspendedLanes,u=e.pingedLanes,v=e.expirationTimes,M=e.pendingLanes;0<M;){var Z=31-mi(M),H=1<<Z,S=v[Z];S===-1?(!(H&n)||H&u)&&(v[Z]=yE(H,t)):S<=t&&(e.expiredLanes|=H),M&=~H}}function Ic(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ah(){var e=zs;return zs<<=1,!(zs&4194240)&&(zs=64),e}function Gu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ls(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mi(t),e[t]=n}function EE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<n;){var v=31-mi(n),M=1<<v;t[v]=0,u[v]=-1,e[v]=-1,n&=~M}}function pf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var u=31-mi(n),v=1<<u;v&t|e[u]&t&&(e[u]|=t),n&=~v}}var Gn=0;function sh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lh,hf,uh,ch,fh,bc=!1,Vs=[],Wi=null,Qi=null,Xi=null,Va=new Map,Ka=new Map,zi=[],_E="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ig(e,t){switch(e){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":Va.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ka.delete(t.pointerId)}}function Ia(e,t,n,u,v,M){return e===null||e.nativeEvent!==M?(e={blockedOn:t,domEventName:n,eventSystemFlags:u,nativeEvent:M,targetContainers:[v]},t!==null&&(t=cs(t),t!==null&&hf(t)),e):(e.eventSystemFlags|=u,t=e.targetContainers,v!==null&&t.indexOf(v)===-1&&t.push(v),e)}function TE(e,t,n,u,v){switch(t){case"focusin":return Wi=Ia(Wi,e,t,n,u,v),!0;case"dragenter":return Qi=Ia(Qi,e,t,n,u,v),!0;case"mouseover":return Xi=Ia(Xi,e,t,n,u,v),!0;case"pointerover":var M=v.pointerId;return Va.set(M,Ia(Va.get(M)||null,e,t,n,u,v)),!0;case"gotpointercapture":return M=v.pointerId,Ka.set(M,Ia(Ka.get(M)||null,e,t,n,u,v)),!0}return!1}function dh(e){var t=vo(e.target);if(t!==null){var n=Co(t);if(n!==null){if(t=n.tag,t===13){if(t=eh(n),t!==null){e.blockedOn=t,fh(e.priority,function(){uh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function al(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Rc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var u=new n.constructor(n.type,n);Tc=u,n.target.dispatchEvent(u),Tc=null}else return t=cs(n),t!==null&&hf(t),e.blockedOn=n,!1;t.shift()}return!0}function bg(e,t,n){al(e)&&n.delete(t)}function SE(){bc=!1,Wi!==null&&al(Wi)&&(Wi=null),Qi!==null&&al(Qi)&&(Qi=null),Xi!==null&&al(Xi)&&(Xi=null),Va.forEach(bg),Ka.forEach(bg)}function ba(e,t){e.blockedOn===t&&(e.blockedOn=null,bc||(bc=!0,Vr.unstable_scheduleCallback(Vr.unstable_NormalPriority,SE)))}function Wa(e){function t(v){return ba(v,e)}if(0<Vs.length){ba(Vs[0],e);for(var n=1;n<Vs.length;n++){var u=Vs[n];u.blockedOn===e&&(u.blockedOn=null)}}for(Wi!==null&&ba(Wi,e),Qi!==null&&ba(Qi,e),Xi!==null&&ba(Xi,e),Va.forEach(t),Ka.forEach(t),n=0;n<zi.length;n++)u=zi[n],u.blockedOn===e&&(u.blockedOn=null);for(;0<zi.length&&(n=zi[0],n.blockedOn===null);)dh(n),n.blockedOn===null&&zi.shift()}var ia=xi.ReactCurrentBatchConfig,Tl=!0;function AE(e,t,n,u){var v=Gn,M=ia.transition;ia.transition=null;try{Gn=1,mf(e,t,n,u)}finally{Gn=v,ia.transition=M}}function wE(e,t,n,u){var v=Gn,M=ia.transition;ia.transition=null;try{Gn=4,mf(e,t,n,u)}finally{Gn=v,ia.transition=M}}function mf(e,t,n,u){if(Tl){var v=Rc(e,t,n,u);if(v===null)Xu(e,t,u,Sl,n),Ig(e,u);else if(TE(v,e,t,n,u))u.stopPropagation();else if(Ig(e,u),t&4&&-1<_E.indexOf(e)){for(;v!==null;){var M=cs(v);if(M!==null&&lh(M),M=Rc(e,t,n,u),M===null&&Xu(e,t,u,Sl,n),M===v)break;v=M}v!==null&&u.stopPropagation()}else Xu(e,t,u,null,n)}}var Sl=null;function Rc(e,t,n,u){if(Sl=null,e=df(u),e=vo(e),e!==null)if(t=Co(e),t===null)e=null;else if(n=t.tag,n===13){if(e=eh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Sl=e,null}function gh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fE()){case gf:return 1;case ih:return 4;case El:case dE:return 16;case oh:return 536870912;default:return 16}default:return 16}}var Vi=null,yf=null,sl=null;function ph(){if(sl)return sl;var e,t=yf,n=t.length,u,v="value"in Vi?Vi.value:Vi.textContent,M=v.length;for(e=0;e<n&&t[e]===v[e];e++);var Z=n-e;for(u=1;u<=Z&&t[n-u]===v[M-u];u++);return sl=v.slice(e,1<u?1-u:void 0)}function ll(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ks(){return!0}function Rg(){return!1}function Wr(e){function t(n,u,v,M,Z){this._reactName=n,this._targetInst=v,this.type=u,this.nativeEvent=M,this.target=Z,this.currentTarget=null;for(var H in e)e.hasOwnProperty(H)&&(n=e[H],this[H]=n?n(M):M[H]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Ks:Rg,this.isPropagationStopped=Rg,this}return er(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),t}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vf=Wr(ha),us=er({},ha,{view:0,detail:0}),IE=Wr(us),ju,qu,Ra,jl=er({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ef,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ra&&(Ra&&e.type==="mousemove"?(ju=e.screenX-Ra.screenX,qu=e.screenY-Ra.screenY):qu=ju=0,Ra=e),ju)},movementY:function(e){return"movementY"in e?e.movementY:qu}}),Ng=Wr(jl),bE=er({},jl,{dataTransfer:0}),RE=Wr(bE),NE=er({},us,{relatedTarget:0}),Yu=Wr(NE),CE=er({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),DE=Wr(CE),OE=er({},ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ME=Wr(OE),PE=er({},ha,{data:0}),Cg=Wr(PE),LE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kE[e])?!!t[e]:!1}function Ef(){return FE}var UE=er({},us,{key:function(e){if(e.key){var t=LE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ll(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ef,charCode:function(e){return e.type==="keypress"?ll(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ll(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ZE=Wr(UE),BE=er({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dg=Wr(BE),GE=er({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ef}),jE=Wr(GE),qE=er({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),YE=Wr(qE),zE=er({},jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HE=Wr(zE),VE=[9,13,27,32],_f=Oi&&"CompositionEvent"in window,Fa=null;Oi&&"documentMode"in document&&(Fa=document.documentMode);var KE=Oi&&"TextEvent"in window&&!Fa,hh=Oi&&(!_f||Fa&&8<Fa&&11>=Fa),Og=" ",Mg=!1;function mh(e,t){switch(e){case"keyup":return VE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zo=!1;function WE(e,t){switch(e){case"compositionend":return yh(t);case"keypress":return t.which!==32?null:(Mg=!0,Og);case"textInput":return e=t.data,e===Og&&Mg?null:e;default:return null}}function QE(e,t){if(zo)return e==="compositionend"||!_f&&mh(e,t)?(e=ph(),sl=yf=Vi=null,zo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hh&&t.locale!=="ko"?null:t.data;default:return null}}var XE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XE[e.type]:t==="textarea"}function vh(e,t,n,u){Wp(u),t=Al(t,"onChange"),0<t.length&&(n=new vf("onChange","change",null,n,u),e.push({event:n,listeners:t}))}var Ua=null,Qa=null;function $E(e){Ch(e,0)}function ql(e){var t=Ko(e);if(jp(t))return e}function JE(e,t){if(e==="change")return t}var Eh=!1;if(Oi){var zu;if(Oi){var Hu="oninput"in document;if(!Hu){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),Hu=typeof Lg.oninput=="function"}zu=Hu}else zu=!1;Eh=zu&&(!document.documentMode||9<document.documentMode)}function xg(){Ua&&(Ua.detachEvent("onpropertychange",_h),Qa=Ua=null)}function _h(e){if(e.propertyName==="value"&&ql(Qa)){var t=[];vh(t,Qa,e,df(e)),Jp($E,t)}}function e_(e,t,n){e==="focusin"?(xg(),Ua=t,Qa=n,Ua.attachEvent("onpropertychange",_h)):e==="focusout"&&xg()}function t_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ql(Qa)}function n_(e,t){if(e==="click")return ql(t)}function r_(e,t){if(e==="input"||e==="change")return ql(t)}function i_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vi=typeof Object.is=="function"?Object.is:i_;function Xa(e,t){if(vi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),u=Object.keys(t);if(n.length!==u.length)return!1;for(u=0;u<n.length;u++){var v=n[u];if(!uc.call(t,v)||!vi(e[v],t[v]))return!1}return!0}function kg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fg(e,t){var n=kg(e);e=0;for(var u;n;){if(n.nodeType===3){if(u=e+n.textContent.length,e<=t&&u>=t)return{node:n,offset:t-e};e=u}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kg(n)}}function Th(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Th(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sh(){for(var e=window,t=ml();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ml(e.document)}return t}function Tf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function o_(e){var t=Sh(),n=e.focusedElem,u=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Th(n.ownerDocument.documentElement,n)){if(u!==null&&Tf(n)){if(t=u.start,e=u.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var v=n.textContent.length,M=Math.min(u.start,v);u=u.end===void 0?M:Math.min(u.end,v),!e.extend&&M>u&&(v=u,u=M,M=v),v=Fg(n,M);var Z=Fg(n,u);v&&Z&&(e.rangeCount!==1||e.anchorNode!==v.node||e.anchorOffset!==v.offset||e.focusNode!==Z.node||e.focusOffset!==Z.offset)&&(t=t.createRange(),t.setStart(v.node,v.offset),e.removeAllRanges(),M>u?(e.addRange(t),e.extend(Z.node,Z.offset)):(t.setEnd(Z.node,Z.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var a_=Oi&&"documentMode"in document&&11>=document.documentMode,Ho=null,Nc=null,Za=null,Cc=!1;function Ug(e,t,n){var u=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cc||Ho==null||Ho!==ml(u)||(u=Ho,"selectionStart"in u&&Tf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Za&&Xa(Za,u)||(Za=u,u=Al(Nc,"onSelect"),0<u.length&&(t=new vf("onSelect","select",null,t,n),e.push({event:t,listeners:u}),t.target=Ho)))}function Ws(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vo={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionend:Ws("Transition","TransitionEnd")},Vu={},Ah={};Oi&&(Ah=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Yl(e){if(Vu[e])return Vu[e];if(!Vo[e])return e;var t=Vo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ah)return Vu[e]=t[n];return e}var wh=Yl("animationend"),Ih=Yl("animationiteration"),bh=Yl("animationstart"),Rh=Yl("transitionend"),Nh=new Map,Zg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oo(e,t){Nh.set(e,t),No(t,[e])}for(var Ku=0;Ku<Zg.length;Ku++){var Wu=Zg[Ku],s_=Wu.toLowerCase(),l_=Wu[0].toUpperCase()+Wu.slice(1);oo(s_,"on"+l_)}oo(wh,"onAnimationEnd");oo(Ih,"onAnimationIteration");oo(bh,"onAnimationStart");oo("dblclick","onDoubleClick");oo("focusin","onFocus");oo("focusout","onBlur");oo(Rh,"onTransitionEnd");sa("onMouseEnter",["mouseout","mouseover"]);sa("onMouseLeave",["mouseout","mouseover"]);sa("onPointerEnter",["pointerout","pointerover"]);sa("onPointerLeave",["pointerout","pointerover"]);No("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));No("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));No("onBeforeInput",["compositionend","keypress","textInput","paste"]);No("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));No("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));No("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u_=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function Bg(e,t,n){var u=e.type||"unknown-event";e.currentTarget=n,sE(u,t,void 0,e),e.currentTarget=null}function Ch(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var u=e[n],v=u.event;u=u.listeners;e:{var M=void 0;if(t)for(var Z=u.length-1;0<=Z;Z--){var H=u[Z],S=H.instance,Y=H.currentTarget;if(H=H.listener,S!==M&&v.isPropagationStopped())break e;Bg(v,H,Y),M=S}else for(Z=0;Z<u.length;Z++){if(H=u[Z],S=H.instance,Y=H.currentTarget,H=H.listener,S!==M&&v.isPropagationStopped())break e;Bg(v,H,Y),M=S}}}if(vl)throw e=wc,vl=!1,wc=null,e}function Wn(e,t){var n=t[Lc];n===void 0&&(n=t[Lc]=new Set);var u=e+"__bubble";n.has(u)||(Dh(t,e,2,!1),n.add(u))}function Qu(e,t,n){var u=0;t&&(u|=4),Dh(n,e,u,t)}var Qs="_reactListening"+Math.random().toString(36).slice(2);function $a(e){if(!e[Qs]){e[Qs]=!0,Fp.forEach(function(n){n!=="selectionchange"&&(u_.has(n)||Qu(n,!1,e),Qu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qs]||(t[Qs]=!0,Qu("selectionchange",!1,t))}}function Dh(e,t,n,u){switch(gh(t)){case 1:var v=AE;break;case 4:v=wE;break;default:v=mf}n=v.bind(null,t,n,e),v=void 0,!Ac||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(v=!0),u?v!==void 0?e.addEventListener(t,n,{capture:!0,passive:v}):e.addEventListener(t,n,!0):v!==void 0?e.addEventListener(t,n,{passive:v}):e.addEventListener(t,n,!1)}function Xu(e,t,n,u,v){var M=u;if(!(t&1)&&!(t&2)&&u!==null)e:for(;;){if(u===null)return;var Z=u.tag;if(Z===3||Z===4){var H=u.stateNode.containerInfo;if(H===v||H.nodeType===8&&H.parentNode===v)break;if(Z===4)for(Z=u.return;Z!==null;){var S=Z.tag;if((S===3||S===4)&&(S=Z.stateNode.containerInfo,S===v||S.nodeType===8&&S.parentNode===v))return;Z=Z.return}for(;H!==null;){if(Z=vo(H),Z===null)return;if(S=Z.tag,S===5||S===6){u=M=Z;continue e}H=H.parentNode}}u=u.return}Jp(function(){var Y=M,A=df(n),o=[];e:{var i=Nh.get(e);if(i!==void 0){var _=vf,E=e;switch(e){case"keypress":if(ll(n)===0)break e;case"keydown":case"keyup":_=ZE;break;case"focusin":E="focus",_=Yu;break;case"focusout":E="blur",_=Yu;break;case"beforeblur":case"afterblur":_=Yu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Ng;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=RE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=jE;break;case wh:case Ih:case bh:_=DE;break;case Rh:_=YE;break;case"scroll":_=IE;break;case"wheel":_=HE;break;case"copy":case"cut":case"paste":_=ME;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Dg}var f=(t&4)!==0,R=!f&&e==="scroll",y=f?i!==null?i+"Capture":null:i;f=[];for(var r=Y,l;r!==null;){l=r;var p=l.stateNode;if(l.tag===5&&p!==null&&(l=p,y!==null&&(p=Ha(r,y),p!=null&&f.push(Ja(r,p,l)))),R)break;r=r.return}0<f.length&&(i=new _(i,E,null,n,A),o.push({event:i,listeners:f}))}}if(!(t&7)){e:{if(i=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",i&&n!==Tc&&(E=n.relatedTarget||n.fromElement)&&(vo(E)||E[Mi]))break e;if((_||i)&&(i=A.window===A?A:(i=A.ownerDocument)?i.defaultView||i.parentWindow:window,_?(E=n.relatedTarget||n.toElement,_=Y,E=E?vo(E):null,E!==null&&(R=Co(E),E!==R||E.tag!==5&&E.tag!==6)&&(E=null)):(_=null,E=Y),_!==E)){if(f=Ng,p="onMouseLeave",y="onMouseEnter",r="mouse",(e==="pointerout"||e==="pointerover")&&(f=Dg,p="onPointerLeave",y="onPointerEnter",r="pointer"),R=_==null?i:Ko(_),l=E==null?i:Ko(E),i=new f(p,r+"leave",_,n,A),i.target=R,i.relatedTarget=l,p=null,vo(A)===Y&&(f=new f(y,r+"enter",E,n,A),f.target=l,f.relatedTarget=R,p=f),R=p,_&&E)t:{for(f=_,y=E,r=0,l=f;l;l=jo(l))r++;for(l=0,p=y;p;p=jo(p))l++;for(;0<r-l;)f=jo(f),r--;for(;0<l-r;)y=jo(y),l--;for(;r--;){if(f===y||y!==null&&f===y.alternate)break t;f=jo(f),y=jo(y)}f=null}else f=null;_!==null&&Gg(o,i,_,f,!1),E!==null&&R!==null&&Gg(o,R,E,f,!0)}}e:{if(i=Y?Ko(Y):window,_=i.nodeName&&i.nodeName.toLowerCase(),_==="select"||_==="input"&&i.type==="file")var N=JE;else if(Pg(i))if(Eh)N=r_;else{N=t_;var U=e_}else(_=i.nodeName)&&_.toLowerCase()==="input"&&(i.type==="checkbox"||i.type==="radio")&&(N=n_);if(N&&(N=N(e,Y))){vh(o,N,n,A);break e}U&&U(e,i,Y),e==="focusout"&&(U=i._wrapperState)&&U.controlled&&i.type==="number"&&mc(i,"number",i.value)}switch(U=Y?Ko(Y):window,e){case"focusin":(Pg(U)||U.contentEditable==="true")&&(Ho=U,Nc=Y,Za=null);break;case"focusout":Za=Nc=Ho=null;break;case"mousedown":Cc=!0;break;case"contextmenu":case"mouseup":case"dragend":Cc=!1,Ug(o,n,A);break;case"selectionchange":if(a_)break;case"keydown":case"keyup":Ug(o,n,A)}var q;if(_f)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else zo?mh(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(hh&&n.locale!=="ko"&&(zo||F!=="onCompositionStart"?F==="onCompositionEnd"&&zo&&(q=ph()):(Vi=A,yf="value"in Vi?Vi.value:Vi.textContent,zo=!0)),U=Al(Y,F),0<U.length&&(F=new Cg(F,e,null,n,A),o.push({event:F,listeners:U}),q?F.data=q:(q=yh(n),q!==null&&(F.data=q)))),(q=KE?WE(e,n):QE(e,n))&&(Y=Al(Y,"onBeforeInput"),0<Y.length&&(A=new Cg("onBeforeInput","beforeinput",null,n,A),o.push({event:A,listeners:Y}),A.data=q))}Ch(o,t)})}function Ja(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Al(e,t){for(var n=t+"Capture",u=[];e!==null;){var v=e,M=v.stateNode;v.tag===5&&M!==null&&(v=M,M=Ha(e,n),M!=null&&u.unshift(Ja(e,M,v)),M=Ha(e,t),M!=null&&u.push(Ja(e,M,v))),e=e.return}return u}function jo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gg(e,t,n,u,v){for(var M=t._reactName,Z=[];n!==null&&n!==u;){var H=n,S=H.alternate,Y=H.stateNode;if(S!==null&&S===u)break;H.tag===5&&Y!==null&&(H=Y,v?(S=Ha(n,M),S!=null&&Z.unshift(Ja(n,S,H))):v||(S=Ha(n,M),S!=null&&Z.push(Ja(n,S,H)))),n=n.return}Z.length!==0&&e.push({event:t,listeners:Z})}var c_=/\r\n?/g,f_=/\u0000|\uFFFD/g;function jg(e){return(typeof e=="string"?e:""+e).replace(c_,`
`).replace(f_,"")}function Xs(e,t,n){if(t=jg(t),jg(e)!==t&&n)throw Error(en(425))}function wl(){}var Dc=null,Oc=null;function Mc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pc=typeof setTimeout=="function"?setTimeout:void 0,d_=typeof clearTimeout=="function"?clearTimeout:void 0,qg=typeof Promise=="function"?Promise:void 0,g_=typeof queueMicrotask=="function"?queueMicrotask:typeof qg<"u"?function(e){return qg.resolve(null).then(e).catch(p_)}:Pc;function p_(e){setTimeout(function(){throw e})}function $u(e,t){var n=t,u=0;do{var v=n.nextSibling;if(e.removeChild(n),v&&v.nodeType===8)if(n=v.data,n==="/$"){if(u===0){e.removeChild(v),Wa(t);return}u--}else n!=="$"&&n!=="$?"&&n!=="$!"||u++;n=v}while(n);Wa(t)}function $i(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ma=Math.random().toString(36).slice(2),Ti="__reactFiber$"+ma,es="__reactProps$"+ma,Mi="__reactContainer$"+ma,Lc="__reactEvents$"+ma,h_="__reactListeners$"+ma,m_="__reactHandles$"+ma;function vo(e){var t=e[Ti];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mi]||n[Ti]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Yg(e);e!==null;){if(n=e[Ti])return n;e=Yg(e)}return t}e=n,n=e.parentNode}return null}function cs(e){return e=e[Ti]||e[Mi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ko(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(en(33))}function zl(e){return e[es]||null}var xc=[],Wo=-1;function ao(e){return{current:e}}function Qn(e){0>Wo||(e.current=xc[Wo],xc[Wo]=null,Wo--)}function Hn(e,t){Wo++,xc[Wo]=e.current,e.current=t}var io={},Cr=ao(io),Zr=ao(!1),Ao=io;function la(e,t){var n=e.type.contextTypes;if(!n)return io;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===t)return u.__reactInternalMemoizedMaskedChildContext;var v={},M;for(M in n)v[M]=t[M];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=v),v}function Br(e){return e=e.childContextTypes,e!=null}function Il(){Qn(Zr),Qn(Cr)}function zg(e,t,n){if(Cr.current!==io)throw Error(en(168));Hn(Cr,t),Hn(Zr,n)}function Oh(e,t,n){var u=e.stateNode;if(t=t.childContextTypes,typeof u.getChildContext!="function")return n;u=u.getChildContext();for(var v in u)if(!(v in t))throw Error(en(108,eE(e)||"Unknown",v));return er({},n,u)}function bl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||io,Ao=Cr.current,Hn(Cr,e),Hn(Zr,Zr.current),!0}function Hg(e,t,n){var u=e.stateNode;if(!u)throw Error(en(169));n?(e=Oh(e,t,Ao),u.__reactInternalMemoizedMergedChildContext=e,Qn(Zr),Qn(Cr),Hn(Cr,e)):Qn(Zr),Hn(Zr,n)}var Ri=null,Hl=!1,Ju=!1;function Mh(e){Ri===null?Ri=[e]:Ri.push(e)}function y_(e){Hl=!0,Mh(e)}function so(){if(!Ju&&Ri!==null){Ju=!0;var e=0,t=Gn;try{var n=Ri;for(Gn=1;e<n.length;e++){var u=n[e];do u=u(!0);while(u!==null)}Ri=null,Hl=!1}catch(v){throw Ri!==null&&(Ri=Ri.slice(e+1)),rh(gf,so),v}finally{Gn=t,Ju=!1}}return null}var Qo=[],Xo=0,Rl=null,Nl=0,ni=[],ri=0,wo=null,Ni=1,Ci="";function mo(e,t){Qo[Xo++]=Nl,Qo[Xo++]=Rl,Rl=e,Nl=t}function Ph(e,t,n){ni[ri++]=Ni,ni[ri++]=Ci,ni[ri++]=wo,wo=e;var u=Ni;e=Ci;var v=32-mi(u)-1;u&=~(1<<v),n+=1;var M=32-mi(t)+v;if(30<M){var Z=v-v%5;M=(u&(1<<Z)-1).toString(32),u>>=Z,v-=Z,Ni=1<<32-mi(t)+v|n<<v|u,Ci=M+e}else Ni=1<<M|n<<v|u,Ci=e}function Sf(e){e.return!==null&&(mo(e,1),Ph(e,1,0))}function Af(e){for(;e===Rl;)Rl=Qo[--Xo],Qo[Xo]=null,Nl=Qo[--Xo],Qo[Xo]=null;for(;e===wo;)wo=ni[--ri],ni[ri]=null,Ci=ni[--ri],ni[ri]=null,Ni=ni[--ri],ni[ri]=null}var Hr=null,zr=null,Xn=!1,hi=null;function Lh(e,t){var n=ii(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Vg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Hr=e,zr=$i(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Hr=e,zr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wo!==null?{id:Ni,overflow:Ci}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ii(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Hr=e,zr=null,!0):!1;default:return!1}}function kc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fc(e){if(Xn){var t=zr;if(t){var n=t;if(!Vg(e,t)){if(kc(e))throw Error(en(418));t=$i(n.nextSibling);var u=Hr;t&&Vg(e,t)?Lh(u,n):(e.flags=e.flags&-4097|2,Xn=!1,Hr=e)}}else{if(kc(e))throw Error(en(418));e.flags=e.flags&-4097|2,Xn=!1,Hr=e}}}function Kg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Hr=e}function $s(e){if(e!==Hr)return!1;if(!Xn)return Kg(e),Xn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mc(e.type,e.memoizedProps)),t&&(t=zr)){if(kc(e))throw xh(),Error(en(418));for(;t;)Lh(e,t),t=$i(t.nextSibling)}if(Kg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(en(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){zr=$i(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}zr=null}}else zr=Hr?$i(e.stateNode.nextSibling):null;return!0}function xh(){for(var e=zr;e;)e=$i(e.nextSibling)}function ua(){zr=Hr=null,Xn=!1}function wf(e){hi===null?hi=[e]:hi.push(e)}var v_=xi.ReactCurrentBatchConfig;function Na(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(en(309));var u=n.stateNode}if(!u)throw Error(en(147,e));var v=u,M=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===M?t.ref:(t=function(Z){var H=v.refs;Z===null?delete H[M]:H[M]=Z},t._stringRef=M,t)}if(typeof e!="string")throw Error(en(284));if(!n._owner)throw Error(en(290,e))}return e}function Js(e,t){throw e=Object.prototype.toString.call(t),Error(en(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wg(e){var t=e._init;return t(e._payload)}function kh(e){function t(y,r){if(e){var l=y.deletions;l===null?(y.deletions=[r],y.flags|=16):l.push(r)}}function n(y,r){if(!e)return null;for(;r!==null;)t(y,r),r=r.sibling;return null}function u(y,r){for(y=new Map;r!==null;)r.key!==null?y.set(r.key,r):y.set(r.index,r),r=r.sibling;return y}function v(y,r){return y=no(y,r),y.index=0,y.sibling=null,y}function M(y,r,l){return y.index=l,e?(l=y.alternate,l!==null?(l=l.index,l<r?(y.flags|=2,r):l):(y.flags|=2,r)):(y.flags|=1048576,r)}function Z(y){return e&&y.alternate===null&&(y.flags|=2),y}function H(y,r,l,p){return r===null||r.tag!==6?(r=ac(l,y.mode,p),r.return=y,r):(r=v(r,l),r.return=y,r)}function S(y,r,l,p){var N=l.type;return N===Yo?A(y,r,l.props.children,p,l.key):r!==null&&(r.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===qi&&Wg(N)===r.type)?(p=v(r,l.props),p.ref=Na(y,r,l),p.return=y,p):(p=hl(l.type,l.key,l.props,null,y.mode,p),p.ref=Na(y,r,l),p.return=y,p)}function Y(y,r,l,p){return r===null||r.tag!==4||r.stateNode.containerInfo!==l.containerInfo||r.stateNode.implementation!==l.implementation?(r=sc(l,y.mode,p),r.return=y,r):(r=v(r,l.children||[]),r.return=y,r)}function A(y,r,l,p,N){return r===null||r.tag!==7?(r=So(l,y.mode,p,N),r.return=y,r):(r=v(r,l),r.return=y,r)}function o(y,r,l){if(typeof r=="string"&&r!==""||typeof r=="number")return r=ac(""+r,y.mode,l),r.return=y,r;if(typeof r=="object"&&r!==null){switch(r.$$typeof){case js:return l=hl(r.type,r.key,r.props,null,y.mode,l),l.ref=Na(y,null,r),l.return=y,l;case qo:return r=sc(r,y.mode,l),r.return=y,r;case qi:var p=r._init;return o(y,p(r._payload),l)}if(Ma(r)||Aa(r))return r=So(r,y.mode,l,null),r.return=y,r;Js(y,r)}return null}function i(y,r,l,p){var N=r!==null?r.key:null;if(typeof l=="string"&&l!==""||typeof l=="number")return N!==null?null:H(y,r,""+l,p);if(typeof l=="object"&&l!==null){switch(l.$$typeof){case js:return l.key===N?S(y,r,l,p):null;case qo:return l.key===N?Y(y,r,l,p):null;case qi:return N=l._init,i(y,r,N(l._payload),p)}if(Ma(l)||Aa(l))return N!==null?null:A(y,r,l,p,null);Js(y,l)}return null}function _(y,r,l,p,N){if(typeof p=="string"&&p!==""||typeof p=="number")return y=y.get(l)||null,H(r,y,""+p,N);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case js:return y=y.get(p.key===null?l:p.key)||null,S(r,y,p,N);case qo:return y=y.get(p.key===null?l:p.key)||null,Y(r,y,p,N);case qi:var U=p._init;return _(y,r,l,U(p._payload),N)}if(Ma(p)||Aa(p))return y=y.get(l)||null,A(r,y,p,N,null);Js(r,p)}return null}function E(y,r,l,p){for(var N=null,U=null,q=r,F=r=0,oe=null;q!==null&&F<l.length;F++){q.index>F?(oe=q,q=null):oe=q.sibling;var x=i(y,q,l[F],p);if(x===null){q===null&&(q=oe);break}e&&q&&x.alternate===null&&t(y,q),r=M(x,r,F),U===null?N=x:U.sibling=x,U=x,q=oe}if(F===l.length)return n(y,q),Xn&&mo(y,F),N;if(q===null){for(;F<l.length;F++)q=o(y,l[F],p),q!==null&&(r=M(q,r,F),U===null?N=q:U.sibling=q,U=q);return Xn&&mo(y,F),N}for(q=u(y,q);F<l.length;F++)oe=_(q,y,F,l[F],p),oe!==null&&(e&&oe.alternate!==null&&q.delete(oe.key===null?F:oe.key),r=M(oe,r,F),U===null?N=oe:U.sibling=oe,U=oe);return e&&q.forEach(function(ne){return t(y,ne)}),Xn&&mo(y,F),N}function f(y,r,l,p){var N=Aa(l);if(typeof N!="function")throw Error(en(150));if(l=N.call(l),l==null)throw Error(en(151));for(var U=N=null,q=r,F=r=0,oe=null,x=l.next();q!==null&&!x.done;F++,x=l.next()){q.index>F?(oe=q,q=null):oe=q.sibling;var ne=i(y,q,x.value,p);if(ne===null){q===null&&(q=oe);break}e&&q&&ne.alternate===null&&t(y,q),r=M(ne,r,F),U===null?N=ne:U.sibling=ne,U=ne,q=oe}if(x.done)return n(y,q),Xn&&mo(y,F),N;if(q===null){for(;!x.done;F++,x=l.next())x=o(y,x.value,p),x!==null&&(r=M(x,r,F),U===null?N=x:U.sibling=x,U=x);return Xn&&mo(y,F),N}for(q=u(y,q);!x.done;F++,x=l.next())x=_(q,y,F,x.value,p),x!==null&&(e&&x.alternate!==null&&q.delete(x.key===null?F:x.key),r=M(x,r,F),U===null?N=x:U.sibling=x,U=x);return e&&q.forEach(function(de){return t(y,de)}),Xn&&mo(y,F),N}function R(y,r,l,p){if(typeof l=="object"&&l!==null&&l.type===Yo&&l.key===null&&(l=l.props.children),typeof l=="object"&&l!==null){switch(l.$$typeof){case js:e:{for(var N=l.key,U=r;U!==null;){if(U.key===N){if(N=l.type,N===Yo){if(U.tag===7){n(y,U.sibling),r=v(U,l.props.children),r.return=y,y=r;break e}}else if(U.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===qi&&Wg(N)===U.type){n(y,U.sibling),r=v(U,l.props),r.ref=Na(y,U,l),r.return=y,y=r;break e}n(y,U);break}else t(y,U);U=U.sibling}l.type===Yo?(r=So(l.props.children,y.mode,p,l.key),r.return=y,y=r):(p=hl(l.type,l.key,l.props,null,y.mode,p),p.ref=Na(y,r,l),p.return=y,y=p)}return Z(y);case qo:e:{for(U=l.key;r!==null;){if(r.key===U)if(r.tag===4&&r.stateNode.containerInfo===l.containerInfo&&r.stateNode.implementation===l.implementation){n(y,r.sibling),r=v(r,l.children||[]),r.return=y,y=r;break e}else{n(y,r);break}else t(y,r);r=r.sibling}r=sc(l,y.mode,p),r.return=y,y=r}return Z(y);case qi:return U=l._init,R(y,r,U(l._payload),p)}if(Ma(l))return E(y,r,l,p);if(Aa(l))return f(y,r,l,p);Js(y,l)}return typeof l=="string"&&l!==""||typeof l=="number"?(l=""+l,r!==null&&r.tag===6?(n(y,r.sibling),r=v(r,l),r.return=y,y=r):(n(y,r),r=ac(l,y.mode,p),r.return=y,y=r),Z(y)):n(y,r)}return R}var ca=kh(!0),Fh=kh(!1),Cl=ao(null),Dl=null,$o=null,If=null;function bf(){If=$o=Dl=null}function Rf(e){var t=Cl.current;Qn(Cl),e._currentValue=t}function Uc(e,t,n){for(;e!==null;){var u=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,u!==null&&(u.childLanes|=t)):u!==null&&(u.childLanes&t)!==t&&(u.childLanes|=t),e===n)break;e=e.return}}function oa(e,t){Dl=e,If=$o=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ur=!0),e.firstContext=null)}function ai(e){var t=e._currentValue;if(If!==e)if(e={context:e,memoizedValue:t,next:null},$o===null){if(Dl===null)throw Error(en(308));$o=e,Dl.dependencies={lanes:0,firstContext:e}}else $o=$o.next=e;return t}var Eo=null;function Nf(e){Eo===null?Eo=[e]:Eo.push(e)}function Uh(e,t,n,u){var v=t.interleaved;return v===null?(n.next=n,Nf(t)):(n.next=v.next,v.next=n),t.interleaved=n,Pi(e,u)}function Pi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Yi=!1;function Cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Di(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ji(e,t,n){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,On&2){var v=u.pending;return v===null?t.next=t:(t.next=v.next,v.next=t),u.pending=t,Pi(e,n)}return v=u.interleaved,v===null?(t.next=t,Nf(u)):(t.next=v.next,v.next=t),u.interleaved=t,Pi(e,n)}function ul(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var u=t.lanes;u&=e.pendingLanes,n|=u,t.lanes=n,pf(e,n)}}function Qg(e,t){var n=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,n===u)){var v=null,M=null;if(n=n.firstBaseUpdate,n!==null){do{var Z={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};M===null?v=M=Z:M=M.next=Z,n=n.next}while(n!==null);M===null?v=M=t:M=M.next=t}else v=M=t;n={baseState:u.baseState,firstBaseUpdate:v,lastBaseUpdate:M,shared:u.shared,effects:u.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ol(e,t,n,u){var v=e.updateQueue;Yi=!1;var M=v.firstBaseUpdate,Z=v.lastBaseUpdate,H=v.shared.pending;if(H!==null){v.shared.pending=null;var S=H,Y=S.next;S.next=null,Z===null?M=Y:Z.next=Y,Z=S;var A=e.alternate;A!==null&&(A=A.updateQueue,H=A.lastBaseUpdate,H!==Z&&(H===null?A.firstBaseUpdate=Y:H.next=Y,A.lastBaseUpdate=S))}if(M!==null){var o=v.baseState;Z=0,A=Y=S=null,H=M;do{var i=H.lane,_=H.eventTime;if((u&i)===i){A!==null&&(A=A.next={eventTime:_,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var E=e,f=H;switch(i=t,_=n,f.tag){case 1:if(E=f.payload,typeof E=="function"){o=E.call(_,o,i);break e}o=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=f.payload,i=typeof E=="function"?E.call(_,o,i):E,i==null)break e;o=er({},o,i);break e;case 2:Yi=!0}}H.callback!==null&&H.lane!==0&&(e.flags|=64,i=v.effects,i===null?v.effects=[H]:i.push(H))}else _={eventTime:_,lane:i,tag:H.tag,payload:H.payload,callback:H.callback,next:null},A===null?(Y=A=_,S=o):A=A.next=_,Z|=i;if(H=H.next,H===null){if(H=v.shared.pending,H===null)break;i=H,H=i.next,i.next=null,v.lastBaseUpdate=i,v.shared.pending=null}}while(!0);if(A===null&&(S=o),v.baseState=S,v.firstBaseUpdate=Y,v.lastBaseUpdate=A,t=v.shared.interleaved,t!==null){v=t;do Z|=v.lane,v=v.next;while(v!==t)}else M===null&&(v.shared.lanes=0);bo|=Z,e.lanes=Z,e.memoizedState=o}}function Xg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var u=e[t],v=u.callback;if(v!==null){if(u.callback=null,u=n,typeof v!="function")throw Error(en(191,v));v.call(u)}}}var fs={},Ai=ao(fs),ts=ao(fs),ns=ao(fs);function _o(e){if(e===fs)throw Error(en(174));return e}function Df(e,t){switch(Hn(ns,t),Hn(ts,e),Hn(Ai,fs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vc(t,e)}Qn(Ai),Hn(Ai,t)}function fa(){Qn(Ai),Qn(ts),Qn(ns)}function Bh(e){_o(ns.current);var t=_o(Ai.current),n=vc(t,e.type);t!==n&&(Hn(ts,e),Hn(Ai,n))}function Of(e){ts.current===e&&(Qn(Ai),Qn(ts))}var $n=ao(0);function Ml(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ec=[];function Mf(){for(var e=0;e<ec.length;e++)ec[e]._workInProgressVersionPrimary=null;ec.length=0}var cl=xi.ReactCurrentDispatcher,tc=xi.ReactCurrentBatchConfig,Io=0,Jn=null,fr=null,mr=null,Pl=!1,Ba=!1,rs=0,E_=0;function br(){throw Error(en(321))}function Pf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vi(e[n],t[n]))return!1;return!0}function Lf(e,t,n,u,v,M){if(Io=M,Jn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cl.current=e===null||e.memoizedState===null?A_:w_,e=n(u,v),Ba){M=0;do{if(Ba=!1,rs=0,25<=M)throw Error(en(301));M+=1,mr=fr=null,t.updateQueue=null,cl.current=I_,e=n(u,v)}while(Ba)}if(cl.current=Ll,t=fr!==null&&fr.next!==null,Io=0,mr=fr=Jn=null,Pl=!1,t)throw Error(en(300));return e}function xf(){var e=rs!==0;return rs=0,e}function _i(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?Jn.memoizedState=mr=e:mr=mr.next=e,mr}function si(){if(fr===null){var e=Jn.alternate;e=e!==null?e.memoizedState:null}else e=fr.next;var t=mr===null?Jn.memoizedState:mr.next;if(t!==null)mr=t,fr=e;else{if(e===null)throw Error(en(310));fr=e,e={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},mr===null?Jn.memoizedState=mr=e:mr=mr.next=e}return mr}function is(e,t){return typeof t=="function"?t(e):t}function nc(e){var t=si(),n=t.queue;if(n===null)throw Error(en(311));n.lastRenderedReducer=e;var u=fr,v=u.baseQueue,M=n.pending;if(M!==null){if(v!==null){var Z=v.next;v.next=M.next,M.next=Z}u.baseQueue=v=M,n.pending=null}if(v!==null){M=v.next,u=u.baseState;var H=Z=null,S=null,Y=M;do{var A=Y.lane;if((Io&A)===A)S!==null&&(S=S.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),u=Y.hasEagerState?Y.eagerState:e(u,Y.action);else{var o={lane:A,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};S===null?(H=S=o,Z=u):S=S.next=o,Jn.lanes|=A,bo|=A}Y=Y.next}while(Y!==null&&Y!==M);S===null?Z=u:S.next=H,vi(u,t.memoizedState)||(Ur=!0),t.memoizedState=u,t.baseState=Z,t.baseQueue=S,n.lastRenderedState=u}if(e=n.interleaved,e!==null){v=e;do M=v.lane,Jn.lanes|=M,bo|=M,v=v.next;while(v!==e)}else v===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function rc(e){var t=si(),n=t.queue;if(n===null)throw Error(en(311));n.lastRenderedReducer=e;var u=n.dispatch,v=n.pending,M=t.memoizedState;if(v!==null){n.pending=null;var Z=v=v.next;do M=e(M,Z.action),Z=Z.next;while(Z!==v);vi(M,t.memoizedState)||(Ur=!0),t.memoizedState=M,t.baseQueue===null&&(t.baseState=M),n.lastRenderedState=M}return[M,u]}function Gh(){}function jh(e,t){var n=Jn,u=si(),v=t(),M=!vi(u.memoizedState,v);if(M&&(u.memoizedState=v,Ur=!0),u=u.queue,kf(zh.bind(null,n,u,e),[e]),u.getSnapshot!==t||M||mr!==null&&mr.memoizedState.tag&1){if(n.flags|=2048,os(9,Yh.bind(null,n,u,v,t),void 0,null),yr===null)throw Error(en(349));Io&30||qh(n,t,v)}return v}function qh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Jn.updateQueue,t===null?(t={lastEffect:null,stores:null},Jn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Yh(e,t,n,u){t.value=n,t.getSnapshot=u,Hh(t)&&Vh(e)}function zh(e,t,n){return n(function(){Hh(t)&&Vh(e)})}function Hh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vi(e,n)}catch{return!0}}function Vh(e){var t=Pi(e,1);t!==null&&yi(t,e,1,-1)}function $g(e){var t=_i();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:e},t.queue=e,e=e.dispatch=S_.bind(null,Jn,e),[t.memoizedState,e]}function os(e,t,n,u){return e={tag:e,create:t,destroy:n,deps:u,next:null},t=Jn.updateQueue,t===null?(t={lastEffect:null,stores:null},Jn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(u=n.next,n.next=e,e.next=u,t.lastEffect=e)),e}function Kh(){return si().memoizedState}function fl(e,t,n,u){var v=_i();Jn.flags|=e,v.memoizedState=os(1|t,n,void 0,u===void 0?null:u)}function Vl(e,t,n,u){var v=si();u=u===void 0?null:u;var M=void 0;if(fr!==null){var Z=fr.memoizedState;if(M=Z.destroy,u!==null&&Pf(u,Z.deps)){v.memoizedState=os(t,n,M,u);return}}Jn.flags|=e,v.memoizedState=os(1|t,n,M,u)}function Jg(e,t){return fl(8390656,8,e,t)}function kf(e,t){return Vl(2048,8,e,t)}function Wh(e,t){return Vl(4,2,e,t)}function Qh(e,t){return Vl(4,4,e,t)}function Xh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $h(e,t,n){return n=n!=null?n.concat([e]):null,Vl(4,4,Xh.bind(null,t,e),n)}function Ff(){}function Jh(e,t){var n=si();t=t===void 0?null:t;var u=n.memoizedState;return u!==null&&t!==null&&Pf(t,u[1])?u[0]:(n.memoizedState=[e,t],e)}function em(e,t){var n=si();t=t===void 0?null:t;var u=n.memoizedState;return u!==null&&t!==null&&Pf(t,u[1])?u[0]:(e=e(),n.memoizedState=[e,t],e)}function tm(e,t,n){return Io&21?(vi(n,t)||(n=ah(),Jn.lanes|=n,bo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ur=!0),e.memoizedState=n)}function __(e,t){var n=Gn;Gn=n!==0&&4>n?n:4,e(!0);var u=tc.transition;tc.transition={};try{e(!1),t()}finally{Gn=n,tc.transition=u}}function nm(){return si().memoizedState}function T_(e,t,n){var u=to(e);if(n={lane:u,action:n,hasEagerState:!1,eagerState:null,next:null},rm(e))im(t,n);else if(n=Uh(e,t,n,u),n!==null){var v=Lr();yi(n,e,u,v),om(n,t,u)}}function S_(e,t,n){var u=to(e),v={lane:u,action:n,hasEagerState:!1,eagerState:null,next:null};if(rm(e))im(t,v);else{var M=e.alternate;if(e.lanes===0&&(M===null||M.lanes===0)&&(M=t.lastRenderedReducer,M!==null))try{var Z=t.lastRenderedState,H=M(Z,n);if(v.hasEagerState=!0,v.eagerState=H,vi(H,Z)){var S=t.interleaved;S===null?(v.next=v,Nf(t)):(v.next=S.next,S.next=v),t.interleaved=v;return}}catch{}finally{}n=Uh(e,t,v,u),n!==null&&(v=Lr(),yi(n,e,u,v),om(n,t,u))}}function rm(e){var t=e.alternate;return e===Jn||t!==null&&t===Jn}function im(e,t){Ba=Pl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function om(e,t,n){if(n&4194240){var u=t.lanes;u&=e.pendingLanes,n|=u,t.lanes=n,pf(e,n)}}var Ll={readContext:ai,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},A_={readContext:ai,useCallback:function(e,t){return _i().memoizedState=[e,t===void 0?null:t],e},useContext:ai,useEffect:Jg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,fl(4194308,4,Xh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fl(4194308,4,e,t)},useInsertionEffect:function(e,t){return fl(4,2,e,t)},useMemo:function(e,t){var n=_i();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var u=_i();return t=n!==void 0?n(t):t,u.memoizedState=u.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},u.queue=e,e=e.dispatch=T_.bind(null,Jn,e),[u.memoizedState,e]},useRef:function(e){var t=_i();return e={current:e},t.memoizedState=e},useState:$g,useDebugValue:Ff,useDeferredValue:function(e){return _i().memoizedState=e},useTransition:function(){var e=$g(!1),t=e[0];return e=__.bind(null,e[1]),_i().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var u=Jn,v=_i();if(Xn){if(n===void 0)throw Error(en(407));n=n()}else{if(n=t(),yr===null)throw Error(en(349));Io&30||qh(u,t,n)}v.memoizedState=n;var M={value:n,getSnapshot:t};return v.queue=M,Jg(zh.bind(null,u,M,e),[e]),u.flags|=2048,os(9,Yh.bind(null,u,M,n,t),void 0,null),n},useId:function(){var e=_i(),t=yr.identifierPrefix;if(Xn){var n=Ci,u=Ni;n=(u&~(1<<32-mi(u)-1)).toString(32)+n,t=":"+t+"R"+n,n=rs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=E_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},w_={readContext:ai,useCallback:Jh,useContext:ai,useEffect:kf,useImperativeHandle:$h,useInsertionEffect:Wh,useLayoutEffect:Qh,useMemo:em,useReducer:nc,useRef:Kh,useState:function(){return nc(is)},useDebugValue:Ff,useDeferredValue:function(e){var t=si();return tm(t,fr.memoizedState,e)},useTransition:function(){var e=nc(is)[0],t=si().memoizedState;return[e,t]},useMutableSource:Gh,useSyncExternalStore:jh,useId:nm,unstable_isNewReconciler:!1},I_={readContext:ai,useCallback:Jh,useContext:ai,useEffect:kf,useImperativeHandle:$h,useInsertionEffect:Wh,useLayoutEffect:Qh,useMemo:em,useReducer:rc,useRef:Kh,useState:function(){return rc(is)},useDebugValue:Ff,useDeferredValue:function(e){var t=si();return fr===null?t.memoizedState=e:tm(t,fr.memoizedState,e)},useTransition:function(){var e=rc(is)[0],t=si().memoizedState;return[e,t]},useMutableSource:Gh,useSyncExternalStore:jh,useId:nm,unstable_isNewReconciler:!1};function gi(e,t){if(e&&e.defaultProps){t=er({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Zc(e,t,n,u){t=e.memoizedState,n=n(u,t),n=n==null?t:er({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Kl={isMounted:function(e){return(e=e._reactInternals)?Co(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var u=Lr(),v=to(e),M=Di(u,v);M.payload=t,n!=null&&(M.callback=n),t=Ji(e,M,v),t!==null&&(yi(t,e,v,u),ul(t,e,v))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var u=Lr(),v=to(e),M=Di(u,v);M.tag=1,M.payload=t,n!=null&&(M.callback=n),t=Ji(e,M,v),t!==null&&(yi(t,e,v,u),ul(t,e,v))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lr(),u=to(e),v=Di(n,u);v.tag=2,t!=null&&(v.callback=t),t=Ji(e,v,u),t!==null&&(yi(t,e,u,n),ul(t,e,u))}};function ep(e,t,n,u,v,M,Z){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,M,Z):t.prototype&&t.prototype.isPureReactComponent?!Xa(n,u)||!Xa(v,M):!0}function am(e,t,n){var u=!1,v=io,M=t.contextType;return typeof M=="object"&&M!==null?M=ai(M):(v=Br(t)?Ao:Cr.current,u=t.contextTypes,M=(u=u!=null)?la(e,v):io),t=new t(n,M),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Kl,e.stateNode=t,t._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=v,e.__reactInternalMemoizedMaskedChildContext=M),t}function tp(e,t,n,u){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,u),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,u),t.state!==e&&Kl.enqueueReplaceState(t,t.state,null)}function Bc(e,t,n,u){var v=e.stateNode;v.props=n,v.state=e.memoizedState,v.refs={},Cf(e);var M=t.contextType;typeof M=="object"&&M!==null?v.context=ai(M):(M=Br(t)?Ao:Cr.current,v.context=la(e,M)),v.state=e.memoizedState,M=t.getDerivedStateFromProps,typeof M=="function"&&(Zc(e,t,M,n),v.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(t=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),t!==v.state&&Kl.enqueueReplaceState(v,v.state,null),Ol(e,n,v,u),v.state=e.memoizedState),typeof v.componentDidMount=="function"&&(e.flags|=4194308)}function da(e,t){try{var n="",u=t;do n+=Jv(u),u=u.return;while(u);var v=n}catch(M){v=`
Error generating stack: `+M.message+`
`+M.stack}return{value:e,source:t,stack:v,digest:null}}function ic(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Gc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var b_=typeof WeakMap=="function"?WeakMap:Map;function sm(e,t,n){n=Di(-1,n),n.tag=3,n.payload={element:null};var u=t.value;return n.callback=function(){kl||(kl=!0,Xc=u),Gc(e,t)},n}function lm(e,t,n){n=Di(-1,n),n.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var v=t.value;n.payload=function(){return u(v)},n.callback=function(){Gc(e,t)}}var M=e.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(n.callback=function(){Gc(e,t),typeof u!="function"&&(eo===null?eo=new Set([this]):eo.add(this));var Z=t.stack;this.componentDidCatch(t.value,{componentStack:Z!==null?Z:""})}),n}function np(e,t,n){var u=e.pingCache;if(u===null){u=e.pingCache=new b_;var v=new Set;u.set(t,v)}else v=u.get(t),v===void 0&&(v=new Set,u.set(t,v));v.has(n)||(v.add(n),e=B_.bind(null,e,t,n),t.then(e,e))}function rp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ip(e,t,n,u,v){return e.mode&1?(e.flags|=65536,e.lanes=v,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Di(-1,1),t.tag=2,Ji(n,t,1))),n.lanes|=1),e)}var R_=xi.ReactCurrentOwner,Ur=!1;function Pr(e,t,n,u){t.child=e===null?Fh(t,null,n,u):ca(t,e.child,n,u)}function op(e,t,n,u,v){n=n.render;var M=t.ref;return oa(t,v),u=Lf(e,t,n,u,M,v),n=xf(),e!==null&&!Ur?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~v,Li(e,t,v)):(Xn&&n&&Sf(t),t.flags|=1,Pr(e,t,u,v),t.child)}function ap(e,t,n,u,v){if(e===null){var M=n.type;return typeof M=="function"&&!zf(M)&&M.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=M,um(e,t,M,u,v)):(e=hl(n.type,null,u,t,t.mode,v),e.ref=t.ref,e.return=t,t.child=e)}if(M=e.child,!(e.lanes&v)){var Z=M.memoizedProps;if(n=n.compare,n=n!==null?n:Xa,n(Z,u)&&e.ref===t.ref)return Li(e,t,v)}return t.flags|=1,e=no(M,u),e.ref=t.ref,e.return=t,t.child=e}function um(e,t,n,u,v){if(e!==null){var M=e.memoizedProps;if(Xa(M,u)&&e.ref===t.ref)if(Ur=!1,t.pendingProps=u=M,(e.lanes&v)!==0)e.flags&131072&&(Ur=!0);else return t.lanes=e.lanes,Li(e,t,v)}return jc(e,t,n,u,v)}function cm(e,t,n){var u=t.pendingProps,v=u.children,M=e!==null?e.memoizedState:null;if(u.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hn(ea,Yr),Yr|=n;else{if(!(n&1073741824))return e=M!==null?M.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Hn(ea,Yr),Yr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=M!==null?M.baseLanes:n,Hn(ea,Yr),Yr|=u}else M!==null?(u=M.baseLanes|n,t.memoizedState=null):u=n,Hn(ea,Yr),Yr|=u;return Pr(e,t,v,n),t.child}function fm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jc(e,t,n,u,v){var M=Br(n)?Ao:Cr.current;return M=la(t,M),oa(t,v),n=Lf(e,t,n,u,M,v),u=xf(),e!==null&&!Ur?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~v,Li(e,t,v)):(Xn&&u&&Sf(t),t.flags|=1,Pr(e,t,n,v),t.child)}function sp(e,t,n,u,v){if(Br(n)){var M=!0;bl(t)}else M=!1;if(oa(t,v),t.stateNode===null)dl(e,t),am(t,n,u),Bc(t,n,u,v),u=!0;else if(e===null){var Z=t.stateNode,H=t.memoizedProps;Z.props=H;var S=Z.context,Y=n.contextType;typeof Y=="object"&&Y!==null?Y=ai(Y):(Y=Br(n)?Ao:Cr.current,Y=la(t,Y));var A=n.getDerivedStateFromProps,o=typeof A=="function"||typeof Z.getSnapshotBeforeUpdate=="function";o||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(H!==u||S!==Y)&&tp(t,Z,u,Y),Yi=!1;var i=t.memoizedState;Z.state=i,Ol(t,u,Z,v),S=t.memoizedState,H!==u||i!==S||Zr.current||Yi?(typeof A=="function"&&(Zc(t,n,A,u),S=t.memoizedState),(H=Yi||ep(t,n,H,u,i,S,Y))?(o||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(t.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=u,t.memoizedState=S),Z.props=u,Z.state=S,Z.context=Y,u=H):(typeof Z.componentDidMount=="function"&&(t.flags|=4194308),u=!1)}else{Z=t.stateNode,Zh(e,t),H=t.memoizedProps,Y=t.type===t.elementType?H:gi(t.type,H),Z.props=Y,o=t.pendingProps,i=Z.context,S=n.contextType,typeof S=="object"&&S!==null?S=ai(S):(S=Br(n)?Ao:Cr.current,S=la(t,S));var _=n.getDerivedStateFromProps;(A=typeof _=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(H!==o||i!==S)&&tp(t,Z,u,S),Yi=!1,i=t.memoizedState,Z.state=i,Ol(t,u,Z,v);var E=t.memoizedState;H!==o||i!==E||Zr.current||Yi?(typeof _=="function"&&(Zc(t,n,_,u),E=t.memoizedState),(Y=Yi||ep(t,n,Y,u,i,E,S)||!1)?(A||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(u,E,S),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(u,E,S)),typeof Z.componentDidUpdate=="function"&&(t.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof Z.componentDidUpdate!="function"||H===e.memoizedProps&&i===e.memoizedState||(t.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||H===e.memoizedProps&&i===e.memoizedState||(t.flags|=1024),t.memoizedProps=u,t.memoizedState=E),Z.props=u,Z.state=E,Z.context=S,u=Y):(typeof Z.componentDidUpdate!="function"||H===e.memoizedProps&&i===e.memoizedState||(t.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||H===e.memoizedProps&&i===e.memoizedState||(t.flags|=1024),u=!1)}return qc(e,t,n,u,M,v)}function qc(e,t,n,u,v,M){fm(e,t);var Z=(t.flags&128)!==0;if(!u&&!Z)return v&&Hg(t,n,!1),Li(e,t,M);u=t.stateNode,R_.current=t;var H=Z&&typeof n.getDerivedStateFromError!="function"?null:u.render();return t.flags|=1,e!==null&&Z?(t.child=ca(t,e.child,null,M),t.child=ca(t,null,H,M)):Pr(e,t,H,M),t.memoizedState=u.state,v&&Hg(t,n,!0),t.child}function dm(e){var t=e.stateNode;t.pendingContext?zg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zg(e,t.context,!1),Df(e,t.containerInfo)}function lp(e,t,n,u,v){return ua(),wf(v),t.flags|=256,Pr(e,t,n,u),t.child}var Yc={dehydrated:null,treeContext:null,retryLane:0};function zc(e){return{baseLanes:e,cachePool:null,transitions:null}}function gm(e,t,n){var u=t.pendingProps,v=$n.current,M=!1,Z=(t.flags&128)!==0,H;if((H=Z)||(H=e!==null&&e.memoizedState===null?!1:(v&2)!==0),H?(M=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(v|=1),Hn($n,v&1),e===null)return Fc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(Z=u.children,e=u.fallback,M?(u=t.mode,M=t.child,Z={mode:"hidden",children:Z},!(u&1)&&M!==null?(M.childLanes=0,M.pendingProps=Z):M=Xl(Z,u,0,null),e=So(e,u,n,null),M.return=t,e.return=t,M.sibling=e,t.child=M,t.child.memoizedState=zc(n),t.memoizedState=Yc,e):Uf(t,Z));if(v=e.memoizedState,v!==null&&(H=v.dehydrated,H!==null))return N_(e,t,Z,u,H,v,n);if(M){M=u.fallback,Z=t.mode,v=e.child,H=v.sibling;var S={mode:"hidden",children:u.children};return!(Z&1)&&t.child!==v?(u=t.child,u.childLanes=0,u.pendingProps=S,t.deletions=null):(u=no(v,S),u.subtreeFlags=v.subtreeFlags&14680064),H!==null?M=no(H,M):(M=So(M,Z,n,null),M.flags|=2),M.return=t,u.return=t,u.sibling=M,t.child=u,u=M,M=t.child,Z=e.child.memoizedState,Z=Z===null?zc(n):{baseLanes:Z.baseLanes|n,cachePool:null,transitions:Z.transitions},M.memoizedState=Z,M.childLanes=e.childLanes&~n,t.memoizedState=Yc,u}return M=e.child,e=M.sibling,u=no(M,{mode:"visible",children:u.children}),!(t.mode&1)&&(u.lanes=n),u.return=t,u.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=u,t.memoizedState=null,u}function Uf(e,t){return t=Xl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function el(e,t,n,u){return u!==null&&wf(u),ca(t,e.child,null,n),e=Uf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function N_(e,t,n,u,v,M,Z){if(n)return t.flags&256?(t.flags&=-257,u=ic(Error(en(422))),el(e,t,Z,u)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(M=u.fallback,v=t.mode,u=Xl({mode:"visible",children:u.children},v,0,null),M=So(M,v,Z,null),M.flags|=2,u.return=t,M.return=t,u.sibling=M,t.child=u,t.mode&1&&ca(t,e.child,null,Z),t.child.memoizedState=zc(Z),t.memoizedState=Yc,M);if(!(t.mode&1))return el(e,t,Z,null);if(v.data==="$!"){if(u=v.nextSibling&&v.nextSibling.dataset,u)var H=u.dgst;return u=H,M=Error(en(419)),u=ic(M,u,void 0),el(e,t,Z,u)}if(H=(Z&e.childLanes)!==0,Ur||H){if(u=yr,u!==null){switch(Z&-Z){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=v&(u.suspendedLanes|Z)?0:v,v!==0&&v!==M.retryLane&&(M.retryLane=v,Pi(e,v),yi(u,e,v,-1))}return Yf(),u=ic(Error(en(421))),el(e,t,Z,u)}return v.data==="$?"?(t.flags|=128,t.child=e.child,t=G_.bind(null,e),v._reactRetry=t,null):(e=M.treeContext,zr=$i(v.nextSibling),Hr=t,Xn=!0,hi=null,e!==null&&(ni[ri++]=Ni,ni[ri++]=Ci,ni[ri++]=wo,Ni=e.id,Ci=e.overflow,wo=t),t=Uf(t,u.children),t.flags|=4096,t)}function up(e,t,n){e.lanes|=t;var u=e.alternate;u!==null&&(u.lanes|=t),Uc(e.return,t,n)}function oc(e,t,n,u,v){var M=e.memoizedState;M===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:u,tail:n,tailMode:v}:(M.isBackwards=t,M.rendering=null,M.renderingStartTime=0,M.last=u,M.tail=n,M.tailMode=v)}function pm(e,t,n){var u=t.pendingProps,v=u.revealOrder,M=u.tail;if(Pr(e,t,u.children,n),u=$n.current,u&2)u=u&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&up(e,n,t);else if(e.tag===19)up(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(Hn($n,u),!(t.mode&1))t.memoizedState=null;else switch(v){case"forwards":for(n=t.child,v=null;n!==null;)e=n.alternate,e!==null&&Ml(e)===null&&(v=n),n=n.sibling;n=v,n===null?(v=t.child,t.child=null):(v=n.sibling,n.sibling=null),oc(t,!1,v,n,M);break;case"backwards":for(n=null,v=t.child,t.child=null;v!==null;){if(e=v.alternate,e!==null&&Ml(e)===null){t.child=v;break}e=v.sibling,v.sibling=n,n=v,v=e}oc(t,!0,n,null,M);break;case"together":oc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function dl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Li(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),bo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(en(153));if(t.child!==null){for(e=t.child,n=no(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=no(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function C_(e,t,n){switch(t.tag){case 3:dm(t),ua();break;case 5:Bh(t);break;case 1:Br(t.type)&&bl(t);break;case 4:Df(t,t.stateNode.containerInfo);break;case 10:var u=t.type._context,v=t.memoizedProps.value;Hn(Cl,u._currentValue),u._currentValue=v;break;case 13:if(u=t.memoizedState,u!==null)return u.dehydrated!==null?(Hn($n,$n.current&1),t.flags|=128,null):n&t.child.childLanes?gm(e,t,n):(Hn($n,$n.current&1),e=Li(e,t,n),e!==null?e.sibling:null);Hn($n,$n.current&1);break;case 19:if(u=(n&t.childLanes)!==0,e.flags&128){if(u)return pm(e,t,n);t.flags|=128}if(v=t.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Hn($n,$n.current),u)break;return null;case 22:case 23:return t.lanes=0,cm(e,t,n)}return Li(e,t,n)}var hm,Hc,mm,ym;hm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hc=function(){};mm=function(e,t,n,u){var v=e.memoizedProps;if(v!==u){e=t.stateNode,_o(Ai.current);var M=null;switch(n){case"input":v=pc(e,v),u=pc(e,u),M=[];break;case"select":v=er({},v,{value:void 0}),u=er({},u,{value:void 0}),M=[];break;case"textarea":v=yc(e,v),u=yc(e,u),M=[];break;default:typeof v.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=wl)}Ec(n,u);var Z;n=null;for(Y in v)if(!u.hasOwnProperty(Y)&&v.hasOwnProperty(Y)&&v[Y]!=null)if(Y==="style"){var H=v[Y];for(Z in H)H.hasOwnProperty(Z)&&(n||(n={}),n[Z]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(Ya.hasOwnProperty(Y)?M||(M=[]):(M=M||[]).push(Y,null));for(Y in u){var S=u[Y];if(H=v!=null?v[Y]:void 0,u.hasOwnProperty(Y)&&S!==H&&(S!=null||H!=null))if(Y==="style")if(H){for(Z in H)!H.hasOwnProperty(Z)||S&&S.hasOwnProperty(Z)||(n||(n={}),n[Z]="");for(Z in S)S.hasOwnProperty(Z)&&H[Z]!==S[Z]&&(n||(n={}),n[Z]=S[Z])}else n||(M||(M=[]),M.push(Y,n)),n=S;else Y==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,H=H?H.__html:void 0,S!=null&&H!==S&&(M=M||[]).push(Y,S)):Y==="children"?typeof S!="string"&&typeof S!="number"||(M=M||[]).push(Y,""+S):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(Ya.hasOwnProperty(Y)?(S!=null&&Y==="onScroll"&&Wn("scroll",e),M||H===S||(M=[])):(M=M||[]).push(Y,S))}n&&(M=M||[]).push("style",n);var Y=M;(t.updateQueue=Y)&&(t.flags|=4)}};ym=function(e,t,n,u){n!==u&&(t.flags|=4)};function Ca(e,t){if(!Xn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var u=null;n!==null;)n.alternate!==null&&(u=n),n=n.sibling;u===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Rr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,u=0;if(t)for(var v=e.child;v!==null;)n|=v.lanes|v.childLanes,u|=v.subtreeFlags&14680064,u|=v.flags&14680064,v.return=e,v=v.sibling;else for(v=e.child;v!==null;)n|=v.lanes|v.childLanes,u|=v.subtreeFlags,u|=v.flags,v.return=e,v=v.sibling;return e.subtreeFlags|=u,e.childLanes=n,t}function D_(e,t,n){var u=t.pendingProps;switch(Af(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rr(t),null;case 1:return Br(t.type)&&Il(),Rr(t),null;case 3:return u=t.stateNode,fa(),Qn(Zr),Qn(Cr),Mf(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&($s(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hi!==null&&(ef(hi),hi=null))),Hc(e,t),Rr(t),null;case 5:Of(t);var v=_o(ns.current);if(n=t.type,e!==null&&t.stateNode!=null)mm(e,t,n,u,v),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!u){if(t.stateNode===null)throw Error(en(166));return Rr(t),null}if(e=_o(Ai.current),$s(t)){u=t.stateNode,n=t.type;var M=t.memoizedProps;switch(u[Ti]=t,u[es]=M,e=(t.mode&1)!==0,n){case"dialog":Wn("cancel",u),Wn("close",u);break;case"iframe":case"object":case"embed":Wn("load",u);break;case"video":case"audio":for(v=0;v<La.length;v++)Wn(La[v],u);break;case"source":Wn("error",u);break;case"img":case"image":case"link":Wn("error",u),Wn("load",u);break;case"details":Wn("toggle",u);break;case"input":vg(u,M),Wn("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!M.multiple},Wn("invalid",u);break;case"textarea":_g(u,M),Wn("invalid",u)}Ec(n,M),v=null;for(var Z in M)if(M.hasOwnProperty(Z)){var H=M[Z];Z==="children"?typeof H=="string"?u.textContent!==H&&(M.suppressHydrationWarning!==!0&&Xs(u.textContent,H,e),v=["children",H]):typeof H=="number"&&u.textContent!==""+H&&(M.suppressHydrationWarning!==!0&&Xs(u.textContent,H,e),v=["children",""+H]):Ya.hasOwnProperty(Z)&&H!=null&&Z==="onScroll"&&Wn("scroll",u)}switch(n){case"input":qs(u),Eg(u,M,!0);break;case"textarea":qs(u),Tg(u);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(u.onclick=wl)}u=v,t.updateQueue=u,u!==null&&(t.flags|=4)}else{Z=v.nodeType===9?v:v.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=Z.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=Z.createElement(n,{is:u.is}):(e=Z.createElement(n),n==="select"&&(Z=e,u.multiple?Z.multiple=!0:u.size&&(Z.size=u.size))):e=Z.createElementNS(e,n),e[Ti]=t,e[es]=u,hm(e,t,!1,!1),t.stateNode=e;e:{switch(Z=_c(n,u),n){case"dialog":Wn("cancel",e),Wn("close",e),v=u;break;case"iframe":case"object":case"embed":Wn("load",e),v=u;break;case"video":case"audio":for(v=0;v<La.length;v++)Wn(La[v],e);v=u;break;case"source":Wn("error",e),v=u;break;case"img":case"image":case"link":Wn("error",e),Wn("load",e),v=u;break;case"details":Wn("toggle",e),v=u;break;case"input":vg(e,u),v=pc(e,u),Wn("invalid",e);break;case"option":v=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},v=er({},u,{value:void 0}),Wn("invalid",e);break;case"textarea":_g(e,u),v=yc(e,u),Wn("invalid",e);break;default:v=u}Ec(n,v),H=v;for(M in H)if(H.hasOwnProperty(M)){var S=H[M];M==="style"?Kp(e,S):M==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&Hp(e,S)):M==="children"?typeof S=="string"?(n!=="textarea"||S!=="")&&za(e,S):typeof S=="number"&&za(e,""+S):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(Ya.hasOwnProperty(M)?S!=null&&M==="onScroll"&&Wn("scroll",e):S!=null&&lf(e,M,S,Z))}switch(n){case"input":qs(e),Eg(e,u,!1);break;case"textarea":qs(e),Tg(e);break;case"option":u.value!=null&&e.setAttribute("value",""+ro(u.value));break;case"select":e.multiple=!!u.multiple,M=u.value,M!=null?ta(e,!!u.multiple,M,!1):u.defaultValue!=null&&ta(e,!!u.multiple,u.defaultValue,!0);break;default:typeof v.onClick=="function"&&(e.onclick=wl)}switch(n){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rr(t),null;case 6:if(e&&t.stateNode!=null)ym(e,t,e.memoizedProps,u);else{if(typeof u!="string"&&t.stateNode===null)throw Error(en(166));if(n=_o(ns.current),_o(Ai.current),$s(t)){if(u=t.stateNode,n=t.memoizedProps,u[Ti]=t,(M=u.nodeValue!==n)&&(e=Hr,e!==null))switch(e.tag){case 3:Xs(u.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xs(u.nodeValue,n,(e.mode&1)!==0)}M&&(t.flags|=4)}else u=(n.nodeType===9?n:n.ownerDocument).createTextNode(u),u[Ti]=t,t.stateNode=u}return Rr(t),null;case 13:if(Qn($n),u=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xn&&zr!==null&&t.mode&1&&!(t.flags&128))xh(),ua(),t.flags|=98560,M=!1;else if(M=$s(t),u!==null&&u.dehydrated!==null){if(e===null){if(!M)throw Error(en(318));if(M=t.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(en(317));M[Ti]=t}else ua(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rr(t),M=!1}else hi!==null&&(ef(hi),hi=null),M=!0;if(!M)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(t.child.flags|=8192,t.mode&1&&(e===null||$n.current&1?dr===0&&(dr=3):Yf())),t.updateQueue!==null&&(t.flags|=4),Rr(t),null);case 4:return fa(),Hc(e,t),e===null&&$a(t.stateNode.containerInfo),Rr(t),null;case 10:return Rf(t.type._context),Rr(t),null;case 17:return Br(t.type)&&Il(),Rr(t),null;case 19:if(Qn($n),M=t.memoizedState,M===null)return Rr(t),null;if(u=(t.flags&128)!==0,Z=M.rendering,Z===null)if(u)Ca(M,!1);else{if(dr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(Z=Ml(e),Z!==null){for(t.flags|=128,Ca(M,!1),u=Z.updateQueue,u!==null&&(t.updateQueue=u,t.flags|=4),t.subtreeFlags=0,u=n,n=t.child;n!==null;)M=n,e=u,M.flags&=14680066,Z=M.alternate,Z===null?(M.childLanes=0,M.lanes=e,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=Z.childLanes,M.lanes=Z.lanes,M.child=Z.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=Z.memoizedProps,M.memoizedState=Z.memoizedState,M.updateQueue=Z.updateQueue,M.type=Z.type,e=Z.dependencies,M.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Hn($n,$n.current&1|2),t.child}e=e.sibling}M.tail!==null&&sr()>ga&&(t.flags|=128,u=!0,Ca(M,!1),t.lanes=4194304)}else{if(!u)if(e=Ml(Z),e!==null){if(t.flags|=128,u=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ca(M,!0),M.tail===null&&M.tailMode==="hidden"&&!Z.alternate&&!Xn)return Rr(t),null}else 2*sr()-M.renderingStartTime>ga&&n!==1073741824&&(t.flags|=128,u=!0,Ca(M,!1),t.lanes=4194304);M.isBackwards?(Z.sibling=t.child,t.child=Z):(n=M.last,n!==null?n.sibling=Z:t.child=Z,M.last=Z)}return M.tail!==null?(t=M.tail,M.rendering=t,M.tail=t.sibling,M.renderingStartTime=sr(),t.sibling=null,n=$n.current,Hn($n,u?n&1|2:n&1),t):(Rr(t),null);case 22:case 23:return qf(),u=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(t.flags|=8192),u&&t.mode&1?Yr&1073741824&&(Rr(t),t.subtreeFlags&6&&(t.flags|=8192)):Rr(t),null;case 24:return null;case 25:return null}throw Error(en(156,t.tag))}function O_(e,t){switch(Af(t),t.tag){case 1:return Br(t.type)&&Il(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fa(),Qn(Zr),Qn(Cr),Mf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Of(t),null;case 13:if(Qn($n),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(en(340));ua()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qn($n),null;case 4:return fa(),null;case 10:return Rf(t.type._context),null;case 22:case 23:return qf(),null;case 24:return null;default:return null}}var tl=!1,Nr=!1,M_=typeof WeakSet=="function"?WeakSet:Set,un=null;function Jo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(u){ir(e,t,u)}else n.current=null}function Vc(e,t,n){try{n()}catch(u){ir(e,t,u)}}var cp=!1;function P_(e,t){if(Dc=Tl,e=Sh(),Tf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var u=n.getSelection&&n.getSelection();if(u&&u.rangeCount!==0){n=u.anchorNode;var v=u.anchorOffset,M=u.focusNode;u=u.focusOffset;try{n.nodeType,M.nodeType}catch{n=null;break e}var Z=0,H=-1,S=-1,Y=0,A=0,o=e,i=null;t:for(;;){for(var _;o!==n||v!==0&&o.nodeType!==3||(H=Z+v),o!==M||u!==0&&o.nodeType!==3||(S=Z+u),o.nodeType===3&&(Z+=o.nodeValue.length),(_=o.firstChild)!==null;)i=o,o=_;for(;;){if(o===e)break t;if(i===n&&++Y===v&&(H=Z),i===M&&++A===u&&(S=Z),(_=o.nextSibling)!==null)break;o=i,i=o.parentNode}o=_}n=H===-1||S===-1?null:{start:H,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(Oc={focusedElem:e,selectionRange:n},Tl=!1,un=t;un!==null;)if(t=un,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,un=e;else for(;un!==null;){t=un;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var f=E.memoizedProps,R=E.memoizedState,y=t.stateNode,r=y.getSnapshotBeforeUpdate(t.elementType===t.type?f:gi(t.type,f),R);y.__reactInternalSnapshotBeforeUpdate=r}break;case 3:var l=t.stateNode.containerInfo;l.nodeType===1?l.textContent="":l.nodeType===9&&l.documentElement&&l.removeChild(l.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(en(163))}}catch(p){ir(t,t.return,p)}if(e=t.sibling,e!==null){e.return=t.return,un=e;break}un=t.return}return E=cp,cp=!1,E}function Ga(e,t,n){var u=t.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var v=u=u.next;do{if((v.tag&e)===e){var M=v.destroy;v.destroy=void 0,M!==void 0&&Vc(t,n,M)}v=v.next}while(v!==u)}}function Wl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var u=n.create;n.destroy=u()}n=n.next}while(n!==t)}}function Kc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function vm(e){var t=e.alternate;t!==null&&(e.alternate=null,vm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ti],delete t[es],delete t[Lc],delete t[h_],delete t[m_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Em(e){return e.tag===5||e.tag===3||e.tag===4}function fp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Em(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wc(e,t,n){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wl));else if(u!==4&&(e=e.child,e!==null))for(Wc(e,t,n),e=e.sibling;e!==null;)Wc(e,t,n),e=e.sibling}function Qc(e,t,n){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(Qc(e,t,n),e=e.sibling;e!==null;)Qc(e,t,n),e=e.sibling}var _r=null,pi=!1;function ji(e,t,n){for(n=n.child;n!==null;)_m(e,t,n),n=n.sibling}function _m(e,t,n){if(Si&&typeof Si.onCommitFiberUnmount=="function")try{Si.onCommitFiberUnmount(Gl,n)}catch{}switch(n.tag){case 5:Nr||Jo(n,t);case 6:var u=_r,v=pi;_r=null,ji(e,t,n),_r=u,pi=v,_r!==null&&(pi?(e=_r,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):_r.removeChild(n.stateNode));break;case 18:_r!==null&&(pi?(e=_r,n=n.stateNode,e.nodeType===8?$u(e.parentNode,n):e.nodeType===1&&$u(e,n),Wa(e)):$u(_r,n.stateNode));break;case 4:u=_r,v=pi,_r=n.stateNode.containerInfo,pi=!0,ji(e,t,n),_r=u,pi=v;break;case 0:case 11:case 14:case 15:if(!Nr&&(u=n.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){v=u=u.next;do{var M=v,Z=M.destroy;M=M.tag,Z!==void 0&&(M&2||M&4)&&Vc(n,t,Z),v=v.next}while(v!==u)}ji(e,t,n);break;case 1:if(!Nr&&(Jo(n,t),u=n.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=n.memoizedProps,u.state=n.memoizedState,u.componentWillUnmount()}catch(H){ir(n,t,H)}ji(e,t,n);break;case 21:ji(e,t,n);break;case 22:n.mode&1?(Nr=(u=Nr)||n.memoizedState!==null,ji(e,t,n),Nr=u):ji(e,t,n);break;default:ji(e,t,n)}}function dp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new M_),t.forEach(function(u){var v=j_.bind(null,e,u);n.has(u)||(n.add(u),u.then(v,v))})}}function di(e,t){var n=t.deletions;if(n!==null)for(var u=0;u<n.length;u++){var v=n[u];try{var M=e,Z=t,H=Z;e:for(;H!==null;){switch(H.tag){case 5:_r=H.stateNode,pi=!1;break e;case 3:_r=H.stateNode.containerInfo,pi=!0;break e;case 4:_r=H.stateNode.containerInfo,pi=!0;break e}H=H.return}if(_r===null)throw Error(en(160));_m(M,Z,v),_r=null,pi=!1;var S=v.alternate;S!==null&&(S.return=null),v.return=null}catch(Y){ir(v,t,Y)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tm(t,e),t=t.sibling}function Tm(e,t){var n=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(di(t,e),Ei(e),u&4){try{Ga(3,e,e.return),Wl(3,e)}catch(f){ir(e,e.return,f)}try{Ga(5,e,e.return)}catch(f){ir(e,e.return,f)}}break;case 1:di(t,e),Ei(e),u&512&&n!==null&&Jo(n,n.return);break;case 5:if(di(t,e),Ei(e),u&512&&n!==null&&Jo(n,n.return),e.flags&32){var v=e.stateNode;try{za(v,"")}catch(f){ir(e,e.return,f)}}if(u&4&&(v=e.stateNode,v!=null)){var M=e.memoizedProps,Z=n!==null?n.memoizedProps:M,H=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{H==="input"&&M.type==="radio"&&M.name!=null&&qp(v,M),_c(H,Z);var Y=_c(H,M);for(Z=0;Z<S.length;Z+=2){var A=S[Z],o=S[Z+1];A==="style"?Kp(v,o):A==="dangerouslySetInnerHTML"?Hp(v,o):A==="children"?za(v,o):lf(v,A,o,Y)}switch(H){case"input":hc(v,M);break;case"textarea":Yp(v,M);break;case"select":var i=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!M.multiple;var _=M.value;_!=null?ta(v,!!M.multiple,_,!1):i!==!!M.multiple&&(M.defaultValue!=null?ta(v,!!M.multiple,M.defaultValue,!0):ta(v,!!M.multiple,M.multiple?[]:"",!1))}v[es]=M}catch(f){ir(e,e.return,f)}}break;case 6:if(di(t,e),Ei(e),u&4){if(e.stateNode===null)throw Error(en(162));v=e.stateNode,M=e.memoizedProps;try{v.nodeValue=M}catch(f){ir(e,e.return,f)}}break;case 3:if(di(t,e),Ei(e),u&4&&n!==null&&n.memoizedState.isDehydrated)try{Wa(t.containerInfo)}catch(f){ir(e,e.return,f)}break;case 4:di(t,e),Ei(e);break;case 13:di(t,e),Ei(e),v=e.child,v.flags&8192&&(M=v.memoizedState!==null,v.stateNode.isHidden=M,!M||v.alternate!==null&&v.alternate.memoizedState!==null||(Gf=sr())),u&4&&dp(e);break;case 22:if(A=n!==null&&n.memoizedState!==null,e.mode&1?(Nr=(Y=Nr)||A,di(t,e),Nr=Y):di(t,e),Ei(e),u&8192){if(Y=e.memoizedState!==null,(e.stateNode.isHidden=Y)&&!A&&e.mode&1)for(un=e,A=e.child;A!==null;){for(o=un=A;un!==null;){switch(i=un,_=i.child,i.tag){case 0:case 11:case 14:case 15:Ga(4,i,i.return);break;case 1:Jo(i,i.return);var E=i.stateNode;if(typeof E.componentWillUnmount=="function"){u=i,n=i.return;try{t=u,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(f){ir(u,n,f)}}break;case 5:Jo(i,i.return);break;case 22:if(i.memoizedState!==null){pp(o);continue}}_!==null?(_.return=i,un=_):pp(o)}A=A.sibling}e:for(A=null,o=e;;){if(o.tag===5){if(A===null){A=o;try{v=o.stateNode,Y?(M=v.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(H=o.stateNode,S=o.memoizedProps.style,Z=S!=null&&S.hasOwnProperty("display")?S.display:null,H.style.display=Vp("display",Z))}catch(f){ir(e,e.return,f)}}}else if(o.tag===6){if(A===null)try{o.stateNode.nodeValue=Y?"":o.memoizedProps}catch(f){ir(e,e.return,f)}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===e)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;A===o&&(A=null),o=o.return}A===o&&(A=null),o.sibling.return=o.return,o=o.sibling}}break;case 19:di(t,e),Ei(e),u&4&&dp(e);break;case 21:break;default:di(t,e),Ei(e)}}function Ei(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Em(n)){var u=n;break e}n=n.return}throw Error(en(160))}switch(u.tag){case 5:var v=u.stateNode;u.flags&32&&(za(v,""),u.flags&=-33);var M=fp(e);Qc(e,M,v);break;case 3:case 4:var Z=u.stateNode.containerInfo,H=fp(e);Wc(e,H,Z);break;default:throw Error(en(161))}}catch(S){ir(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function L_(e,t,n){un=e,Sm(e)}function Sm(e,t,n){for(var u=(e.mode&1)!==0;un!==null;){var v=un,M=v.child;if(v.tag===22&&u){var Z=v.memoizedState!==null||tl;if(!Z){var H=v.alternate,S=H!==null&&H.memoizedState!==null||Nr;H=tl;var Y=Nr;if(tl=Z,(Nr=S)&&!Y)for(un=v;un!==null;)Z=un,S=Z.child,Z.tag===22&&Z.memoizedState!==null?hp(v):S!==null?(S.return=Z,un=S):hp(v);for(;M!==null;)un=M,Sm(M),M=M.sibling;un=v,tl=H,Nr=Y}gp(e)}else v.subtreeFlags&8772&&M!==null?(M.return=v,un=M):gp(e)}}function gp(e){for(;un!==null;){var t=un;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Nr||Wl(5,t);break;case 1:var u=t.stateNode;if(t.flags&4&&!Nr)if(n===null)u.componentDidMount();else{var v=t.elementType===t.type?n.memoizedProps:gi(t.type,n.memoizedProps);u.componentDidUpdate(v,n.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var M=t.updateQueue;M!==null&&Xg(t,M,u);break;case 3:var Z=t.updateQueue;if(Z!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Xg(t,Z,n)}break;case 5:var H=t.stateNode;if(n===null&&t.flags&4){n=H;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&n.focus();break;case"img":S.src&&(n.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var Y=t.alternate;if(Y!==null){var A=Y.memoizedState;if(A!==null){var o=A.dehydrated;o!==null&&Wa(o)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(en(163))}Nr||t.flags&512&&Kc(t)}catch(i){ir(t,t.return,i)}}if(t===e){un=null;break}if(n=t.sibling,n!==null){n.return=t.return,un=n;break}un=t.return}}function pp(e){for(;un!==null;){var t=un;if(t===e){un=null;break}var n=t.sibling;if(n!==null){n.return=t.return,un=n;break}un=t.return}}function hp(e){for(;un!==null;){var t=un;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Wl(4,t)}catch(S){ir(t,n,S)}break;case 1:var u=t.stateNode;if(typeof u.componentDidMount=="function"){var v=t.return;try{u.componentDidMount()}catch(S){ir(t,v,S)}}var M=t.return;try{Kc(t)}catch(S){ir(t,M,S)}break;case 5:var Z=t.return;try{Kc(t)}catch(S){ir(t,Z,S)}}}catch(S){ir(t,t.return,S)}if(t===e){un=null;break}var H=t.sibling;if(H!==null){H.return=t.return,un=H;break}un=t.return}}var x_=Math.ceil,xl=xi.ReactCurrentDispatcher,Zf=xi.ReactCurrentOwner,oi=xi.ReactCurrentBatchConfig,On=0,yr=null,ur=null,Tr=0,Yr=0,ea=ao(0),dr=0,as=null,bo=0,Ql=0,Bf=0,ja=null,Fr=null,Gf=0,ga=1/0,bi=null,kl=!1,Xc=null,eo=null,nl=!1,Ki=null,Fl=0,qa=0,$c=null,gl=-1,pl=0;function Lr(){return On&6?sr():gl!==-1?gl:gl=sr()}function to(e){return e.mode&1?On&2&&Tr!==0?Tr&-Tr:v_.transition!==null?(pl===0&&(pl=ah()),pl):(e=Gn,e!==0||(e=window.event,e=e===void 0?16:gh(e.type)),e):1}function yi(e,t,n,u){if(50<qa)throw qa=0,$c=null,Error(en(185));ls(e,n,u),(!(On&2)||e!==yr)&&(e===yr&&(!(On&2)&&(Ql|=n),dr===4&&Hi(e,Tr)),Gr(e,u),n===1&&On===0&&!(t.mode&1)&&(ga=sr()+500,Hl&&so()))}function Gr(e,t){var n=e.callbackNode;vE(e,t);var u=_l(e,e===yr?Tr:0);if(u===0)n!==null&&wg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=u&-u,e.callbackPriority!==t){if(n!=null&&wg(n),t===1)e.tag===0?y_(mp.bind(null,e)):Mh(mp.bind(null,e)),g_(function(){!(On&6)&&so()}),n=null;else{switch(sh(u)){case 1:n=gf;break;case 4:n=ih;break;case 16:n=El;break;case 536870912:n=oh;break;default:n=El}n=Dm(n,Am.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Am(e,t){if(gl=-1,pl=0,On&6)throw Error(en(327));var n=e.callbackNode;if(aa()&&e.callbackNode!==n)return null;var u=_l(e,e===yr?Tr:0);if(u===0)return null;if(u&30||u&e.expiredLanes||t)t=Ul(e,u);else{t=u;var v=On;On|=2;var M=Im();(yr!==e||Tr!==t)&&(bi=null,ga=sr()+500,To(e,t));do try{U_();break}catch(H){wm(e,H)}while(!0);bf(),xl.current=M,On=v,ur!==null?t=0:(yr=null,Tr=0,t=dr)}if(t!==0){if(t===2&&(v=Ic(e),v!==0&&(u=v,t=Jc(e,v))),t===1)throw n=as,To(e,0),Hi(e,u),Gr(e,sr()),n;if(t===6)Hi(e,u);else{if(v=e.current.alternate,!(u&30)&&!k_(v)&&(t=Ul(e,u),t===2&&(M=Ic(e),M!==0&&(u=M,t=Jc(e,M))),t===1))throw n=as,To(e,0),Hi(e,u),Gr(e,sr()),n;switch(e.finishedWork=v,e.finishedLanes=u,t){case 0:case 1:throw Error(en(345));case 2:yo(e,Fr,bi);break;case 3:if(Hi(e,u),(u&130023424)===u&&(t=Gf+500-sr(),10<t)){if(_l(e,0)!==0)break;if(v=e.suspendedLanes,(v&u)!==u){Lr(),e.pingedLanes|=e.suspendedLanes&v;break}e.timeoutHandle=Pc(yo.bind(null,e,Fr,bi),t);break}yo(e,Fr,bi);break;case 4:if(Hi(e,u),(u&4194240)===u)break;for(t=e.eventTimes,v=-1;0<u;){var Z=31-mi(u);M=1<<Z,Z=t[Z],Z>v&&(v=Z),u&=~M}if(u=v,u=sr()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*x_(u/1960))-u,10<u){e.timeoutHandle=Pc(yo.bind(null,e,Fr,bi),u);break}yo(e,Fr,bi);break;case 5:yo(e,Fr,bi);break;default:throw Error(en(329))}}}return Gr(e,sr()),e.callbackNode===n?Am.bind(null,e):null}function Jc(e,t){var n=ja;return e.current.memoizedState.isDehydrated&&(To(e,t).flags|=256),e=Ul(e,t),e!==2&&(t=Fr,Fr=n,t!==null&&ef(t)),e}function ef(e){Fr===null?Fr=e:Fr.push.apply(Fr,e)}function k_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var u=0;u<n.length;u++){var v=n[u],M=v.getSnapshot;v=v.value;try{if(!vi(M(),v))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hi(e,t){for(t&=~Bf,t&=~Ql,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mi(t),u=1<<n;e[n]=-1,t&=~u}}function mp(e){if(On&6)throw Error(en(327));aa();var t=_l(e,0);if(!(t&1))return Gr(e,sr()),null;var n=Ul(e,t);if(e.tag!==0&&n===2){var u=Ic(e);u!==0&&(t=u,n=Jc(e,u))}if(n===1)throw n=as,To(e,0),Hi(e,t),Gr(e,sr()),n;if(n===6)throw Error(en(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yo(e,Fr,bi),Gr(e,sr()),null}function jf(e,t){var n=On;On|=1;try{return e(t)}finally{On=n,On===0&&(ga=sr()+500,Hl&&so())}}function Ro(e){Ki!==null&&Ki.tag===0&&!(On&6)&&aa();var t=On;On|=1;var n=oi.transition,u=Gn;try{if(oi.transition=null,Gn=1,e)return e()}finally{Gn=u,oi.transition=n,On=t,!(On&6)&&so()}}function qf(){Yr=ea.current,Qn(ea)}function To(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,d_(n)),ur!==null)for(n=ur.return;n!==null;){var u=n;switch(Af(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Il();break;case 3:fa(),Qn(Zr),Qn(Cr),Mf();break;case 5:Of(u);break;case 4:fa();break;case 13:Qn($n);break;case 19:Qn($n);break;case 10:Rf(u.type._context);break;case 22:case 23:qf()}n=n.return}if(yr=e,ur=e=no(e.current,null),Tr=Yr=t,dr=0,as=null,Bf=Ql=bo=0,Fr=ja=null,Eo!==null){for(t=0;t<Eo.length;t++)if(n=Eo[t],u=n.interleaved,u!==null){n.interleaved=null;var v=u.next,M=n.pending;if(M!==null){var Z=M.next;M.next=v,u.next=Z}n.pending=u}Eo=null}return e}function wm(e,t){do{var n=ur;try{if(bf(),cl.current=Ll,Pl){for(var u=Jn.memoizedState;u!==null;){var v=u.queue;v!==null&&(v.pending=null),u=u.next}Pl=!1}if(Io=0,mr=fr=Jn=null,Ba=!1,rs=0,Zf.current=null,n===null||n.return===null){dr=1,as=t,ur=null;break}e:{var M=e,Z=n.return,H=n,S=t;if(t=Tr,H.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var Y=S,A=H,o=A.tag;if(!(A.mode&1)&&(o===0||o===11||o===15)){var i=A.alternate;i?(A.updateQueue=i.updateQueue,A.memoizedState=i.memoizedState,A.lanes=i.lanes):(A.updateQueue=null,A.memoizedState=null)}var _=rp(Z);if(_!==null){_.flags&=-257,ip(_,Z,H,M,t),_.mode&1&&np(M,Y,t),t=_,S=Y;var E=t.updateQueue;if(E===null){var f=new Set;f.add(S),t.updateQueue=f}else E.add(S);break e}else{if(!(t&1)){np(M,Y,t),Yf();break e}S=Error(en(426))}}else if(Xn&&H.mode&1){var R=rp(Z);if(R!==null){!(R.flags&65536)&&(R.flags|=256),ip(R,Z,H,M,t),wf(da(S,H));break e}}M=S=da(S,H),dr!==4&&(dr=2),ja===null?ja=[M]:ja.push(M),M=Z;do{switch(M.tag){case 3:M.flags|=65536,t&=-t,M.lanes|=t;var y=sm(M,S,t);Qg(M,y);break e;case 1:H=S;var r=M.type,l=M.stateNode;if(!(M.flags&128)&&(typeof r.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(eo===null||!eo.has(l)))){M.flags|=65536,t&=-t,M.lanes|=t;var p=lm(M,H,t);Qg(M,p);break e}}M=M.return}while(M!==null)}Rm(n)}catch(N){t=N,ur===n&&n!==null&&(ur=n=n.return);continue}break}while(!0)}function Im(){var e=xl.current;return xl.current=Ll,e===null?Ll:e}function Yf(){(dr===0||dr===3||dr===2)&&(dr=4),yr===null||!(bo&268435455)&&!(Ql&268435455)||Hi(yr,Tr)}function Ul(e,t){var n=On;On|=2;var u=Im();(yr!==e||Tr!==t)&&(bi=null,To(e,t));do try{F_();break}catch(v){wm(e,v)}while(!0);if(bf(),On=n,xl.current=u,ur!==null)throw Error(en(261));return yr=null,Tr=0,dr}function F_(){for(;ur!==null;)bm(ur)}function U_(){for(;ur!==null&&!uE();)bm(ur)}function bm(e){var t=Cm(e.alternate,e,Yr);e.memoizedProps=e.pendingProps,t===null?Rm(e):ur=t,Zf.current=null}function Rm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=O_(n,t),n!==null){n.flags&=32767,ur=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dr=6,ur=null;return}}else if(n=D_(n,t,Yr),n!==null){ur=n;return}if(t=t.sibling,t!==null){ur=t;return}ur=t=e}while(t!==null);dr===0&&(dr=5)}function yo(e,t,n){var u=Gn,v=oi.transition;try{oi.transition=null,Gn=1,Z_(e,t,n,u)}finally{oi.transition=v,Gn=u}return null}function Z_(e,t,n,u){do aa();while(Ki!==null);if(On&6)throw Error(en(327));n=e.finishedWork;var v=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(en(177));e.callbackNode=null,e.callbackPriority=0;var M=n.lanes|n.childLanes;if(EE(e,M),e===yr&&(ur=yr=null,Tr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nl||(nl=!0,Dm(El,function(){return aa(),null})),M=(n.flags&15990)!==0,n.subtreeFlags&15990||M){M=oi.transition,oi.transition=null;var Z=Gn;Gn=1;var H=On;On|=4,Zf.current=null,P_(e,n),Tm(n,e),o_(Oc),Tl=!!Dc,Oc=Dc=null,e.current=n,L_(n),cE(),On=H,Gn=Z,oi.transition=M}else e.current=n;if(nl&&(nl=!1,Ki=e,Fl=v),M=e.pendingLanes,M===0&&(eo=null),gE(n.stateNode),Gr(e,sr()),t!==null)for(u=e.onRecoverableError,n=0;n<t.length;n++)v=t[n],u(v.value,{componentStack:v.stack,digest:v.digest});if(kl)throw kl=!1,e=Xc,Xc=null,e;return Fl&1&&e.tag!==0&&aa(),M=e.pendingLanes,M&1?e===$c?qa++:(qa=0,$c=e):qa=0,so(),null}function aa(){if(Ki!==null){var e=sh(Fl),t=oi.transition,n=Gn;try{if(oi.transition=null,Gn=16>e?16:e,Ki===null)var u=!1;else{if(e=Ki,Ki=null,Fl=0,On&6)throw Error(en(331));var v=On;for(On|=4,un=e.current;un!==null;){var M=un,Z=M.child;if(un.flags&16){var H=M.deletions;if(H!==null){for(var S=0;S<H.length;S++){var Y=H[S];for(un=Y;un!==null;){var A=un;switch(A.tag){case 0:case 11:case 15:Ga(8,A,M)}var o=A.child;if(o!==null)o.return=A,un=o;else for(;un!==null;){A=un;var i=A.sibling,_=A.return;if(vm(A),A===Y){un=null;break}if(i!==null){i.return=_,un=i;break}un=_}}}var E=M.alternate;if(E!==null){var f=E.child;if(f!==null){E.child=null;do{var R=f.sibling;f.sibling=null,f=R}while(f!==null)}}un=M}}if(M.subtreeFlags&2064&&Z!==null)Z.return=M,un=Z;else e:for(;un!==null;){if(M=un,M.flags&2048)switch(M.tag){case 0:case 11:case 15:Ga(9,M,M.return)}var y=M.sibling;if(y!==null){y.return=M.return,un=y;break e}un=M.return}}var r=e.current;for(un=r;un!==null;){Z=un;var l=Z.child;if(Z.subtreeFlags&2064&&l!==null)l.return=Z,un=l;else e:for(Z=r;un!==null;){if(H=un,H.flags&2048)try{switch(H.tag){case 0:case 11:case 15:Wl(9,H)}}catch(N){ir(H,H.return,N)}if(H===Z){un=null;break e}var p=H.sibling;if(p!==null){p.return=H.return,un=p;break e}un=H.return}}if(On=v,so(),Si&&typeof Si.onPostCommitFiberRoot=="function")try{Si.onPostCommitFiberRoot(Gl,e)}catch{}u=!0}return u}finally{Gn=n,oi.transition=t}}return!1}function yp(e,t,n){t=da(n,t),t=sm(e,t,1),e=Ji(e,t,1),t=Lr(),e!==null&&(ls(e,1,t),Gr(e,t))}function ir(e,t,n){if(e.tag===3)yp(e,e,n);else for(;t!==null;){if(t.tag===3){yp(t,e,n);break}else if(t.tag===1){var u=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(eo===null||!eo.has(u))){e=da(n,e),e=lm(t,e,1),t=Ji(t,e,1),e=Lr(),t!==null&&(ls(t,1,e),Gr(t,e));break}}t=t.return}}function B_(e,t,n){var u=e.pingCache;u!==null&&u.delete(t),t=Lr(),e.pingedLanes|=e.suspendedLanes&n,yr===e&&(Tr&n)===n&&(dr===4||dr===3&&(Tr&130023424)===Tr&&500>sr()-Gf?To(e,0):Bf|=n),Gr(e,t)}function Nm(e,t){t===0&&(e.mode&1?(t=Hs,Hs<<=1,!(Hs&130023424)&&(Hs=4194304)):t=1);var n=Lr();e=Pi(e,t),e!==null&&(ls(e,t,n),Gr(e,n))}function G_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Nm(e,n)}function j_(e,t){var n=0;switch(e.tag){case 13:var u=e.stateNode,v=e.memoizedState;v!==null&&(n=v.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(en(314))}u!==null&&u.delete(t),Nm(e,n)}var Cm;Cm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zr.current)Ur=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ur=!1,C_(e,t,n);Ur=!!(e.flags&131072)}else Ur=!1,Xn&&t.flags&1048576&&Ph(t,Nl,t.index);switch(t.lanes=0,t.tag){case 2:var u=t.type;dl(e,t),e=t.pendingProps;var v=la(t,Cr.current);oa(t,n),v=Lf(null,t,u,e,v,n);var M=xf();return t.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Br(u)?(M=!0,bl(t)):M=!1,t.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Cf(t),v.updater=Kl,t.stateNode=v,v._reactInternals=t,Bc(t,u,e,n),t=qc(null,t,u,!0,M,n)):(t.tag=0,Xn&&M&&Sf(t),Pr(null,t,v,n),t=t.child),t;case 16:u=t.elementType;e:{switch(dl(e,t),e=t.pendingProps,v=u._init,u=v(u._payload),t.type=u,v=t.tag=Y_(u),e=gi(u,e),v){case 0:t=jc(null,t,u,e,n);break e;case 1:t=sp(null,t,u,e,n);break e;case 11:t=op(null,t,u,e,n);break e;case 14:t=ap(null,t,u,gi(u.type,e),n);break e}throw Error(en(306,u,""))}return t;case 0:return u=t.type,v=t.pendingProps,v=t.elementType===u?v:gi(u,v),jc(e,t,u,v,n);case 1:return u=t.type,v=t.pendingProps,v=t.elementType===u?v:gi(u,v),sp(e,t,u,v,n);case 3:e:{if(dm(t),e===null)throw Error(en(387));u=t.pendingProps,M=t.memoizedState,v=M.element,Zh(e,t),Ol(t,u,null,n);var Z=t.memoizedState;if(u=Z.element,M.isDehydrated)if(M={element:u,isDehydrated:!1,cache:Z.cache,pendingSuspenseBoundaries:Z.pendingSuspenseBoundaries,transitions:Z.transitions},t.updateQueue.baseState=M,t.memoizedState=M,t.flags&256){v=da(Error(en(423)),t),t=lp(e,t,u,n,v);break e}else if(u!==v){v=da(Error(en(424)),t),t=lp(e,t,u,n,v);break e}else for(zr=$i(t.stateNode.containerInfo.firstChild),Hr=t,Xn=!0,hi=null,n=Fh(t,null,u,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ua(),u===v){t=Li(e,t,n);break e}Pr(e,t,u,n)}t=t.child}return t;case 5:return Bh(t),e===null&&Fc(t),u=t.type,v=t.pendingProps,M=e!==null?e.memoizedProps:null,Z=v.children,Mc(u,v)?Z=null:M!==null&&Mc(u,M)&&(t.flags|=32),fm(e,t),Pr(e,t,Z,n),t.child;case 6:return e===null&&Fc(t),null;case 13:return gm(e,t,n);case 4:return Df(t,t.stateNode.containerInfo),u=t.pendingProps,e===null?t.child=ca(t,null,u,n):Pr(e,t,u,n),t.child;case 11:return u=t.type,v=t.pendingProps,v=t.elementType===u?v:gi(u,v),op(e,t,u,v,n);case 7:return Pr(e,t,t.pendingProps,n),t.child;case 8:return Pr(e,t,t.pendingProps.children,n),t.child;case 12:return Pr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(u=t.type._context,v=t.pendingProps,M=t.memoizedProps,Z=v.value,Hn(Cl,u._currentValue),u._currentValue=Z,M!==null)if(vi(M.value,Z)){if(M.children===v.children&&!Zr.current){t=Li(e,t,n);break e}}else for(M=t.child,M!==null&&(M.return=t);M!==null;){var H=M.dependencies;if(H!==null){Z=M.child;for(var S=H.firstContext;S!==null;){if(S.context===u){if(M.tag===1){S=Di(-1,n&-n),S.tag=2;var Y=M.updateQueue;if(Y!==null){Y=Y.shared;var A=Y.pending;A===null?S.next=S:(S.next=A.next,A.next=S),Y.pending=S}}M.lanes|=n,S=M.alternate,S!==null&&(S.lanes|=n),Uc(M.return,n,t),H.lanes|=n;break}S=S.next}}else if(M.tag===10)Z=M.type===t.type?null:M.child;else if(M.tag===18){if(Z=M.return,Z===null)throw Error(en(341));Z.lanes|=n,H=Z.alternate,H!==null&&(H.lanes|=n),Uc(Z,n,t),Z=M.sibling}else Z=M.child;if(Z!==null)Z.return=M;else for(Z=M;Z!==null;){if(Z===t){Z=null;break}if(M=Z.sibling,M!==null){M.return=Z.return,Z=M;break}Z=Z.return}M=Z}Pr(e,t,v.children,n),t=t.child}return t;case 9:return v=t.type,u=t.pendingProps.children,oa(t,n),v=ai(v),u=u(v),t.flags|=1,Pr(e,t,u,n),t.child;case 14:return u=t.type,v=gi(u,t.pendingProps),v=gi(u.type,v),ap(e,t,u,v,n);case 15:return um(e,t,t.type,t.pendingProps,n);case 17:return u=t.type,v=t.pendingProps,v=t.elementType===u?v:gi(u,v),dl(e,t),t.tag=1,Br(u)?(e=!0,bl(t)):e=!1,oa(t,n),am(t,u,v),Bc(t,u,v,n),qc(null,t,u,!0,e,n);case 19:return pm(e,t,n);case 22:return cm(e,t,n)}throw Error(en(156,t.tag))};function Dm(e,t){return rh(e,t)}function q_(e,t,n,u){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(e,t,n,u){return new q_(e,t,n,u)}function zf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Y_(e){if(typeof e=="function")return zf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cf)return 11;if(e===ff)return 14}return 2}function no(e,t){var n=e.alternate;return n===null?(n=ii(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function hl(e,t,n,u,v,M){var Z=2;if(u=e,typeof e=="function")zf(e)&&(Z=1);else if(typeof e=="string")Z=5;else e:switch(e){case Yo:return So(n.children,v,M,t);case uf:Z=8,v|=8;break;case cc:return e=ii(12,n,t,v|2),e.elementType=cc,e.lanes=M,e;case fc:return e=ii(13,n,t,v),e.elementType=fc,e.lanes=M,e;case dc:return e=ii(19,n,t,v),e.elementType=dc,e.lanes=M,e;case Bp:return Xl(n,v,M,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Up:Z=10;break e;case Zp:Z=9;break e;case cf:Z=11;break e;case ff:Z=14;break e;case qi:Z=16,u=null;break e}throw Error(en(130,e==null?e:typeof e,""))}return t=ii(Z,n,t,v),t.elementType=e,t.type=u,t.lanes=M,t}function So(e,t,n,u){return e=ii(7,e,u,t),e.lanes=n,e}function Xl(e,t,n,u){return e=ii(22,e,u,t),e.elementType=Bp,e.lanes=n,e.stateNode={isHidden:!1},e}function ac(e,t,n){return e=ii(6,e,null,t),e.lanes=n,e}function sc(e,t,n){return t=ii(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function z_(e,t,n,u,v){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gu(0),this.expirationTimes=Gu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gu(0),this.identifierPrefix=u,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Hf(e,t,n,u,v,M,Z,H,S){return e=new z_(e,t,n,H,S),t===1?(t=1,M===!0&&(t|=8)):t=0,M=ii(3,null,null,t),e.current=M,M.stateNode=e,M.memoizedState={element:u,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cf(M),e}function H_(e,t,n){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qo,key:u==null?null:""+u,children:e,containerInfo:t,implementation:n}}function Om(e){if(!e)return io;e=e._reactInternals;e:{if(Co(e)!==e||e.tag!==1)throw Error(en(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Br(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(en(171))}if(e.tag===1){var n=e.type;if(Br(n))return Oh(e,n,t)}return t}function Mm(e,t,n,u,v,M,Z,H,S){return e=Hf(n,u,!0,e,v,M,Z,H,S),e.context=Om(null),n=e.current,u=Lr(),v=to(n),M=Di(u,v),M.callback=t??null,Ji(n,M,v),e.current.lanes=v,ls(e,v,u),Gr(e,u),e}function $l(e,t,n,u){var v=t.current,M=Lr(),Z=to(v);return n=Om(n),t.context===null?t.context=n:t.pendingContext=n,t=Di(M,Z),t.payload={element:e},u=u===void 0?null:u,u!==null&&(t.callback=u),e=Ji(v,t,Z),e!==null&&(yi(e,v,Z,M),ul(e,v,Z)),Z}function Zl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vf(e,t){vp(e,t),(e=e.alternate)&&vp(e,t)}function V_(){return null}var Pm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kf(e){this._internalRoot=e}Jl.prototype.render=Kf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(en(409));$l(e,t,null,null)};Jl.prototype.unmount=Kf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ro(function(){$l(null,e,null,null)}),t[Mi]=null}};function Jl(e){this._internalRoot=e}Jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=ch();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zi.length&&t!==0&&t<zi[n].priority;n++);zi.splice(n,0,e),n===0&&dh(e)}};function Wf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function eu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ep(){}function K_(e,t,n,u,v){if(v){if(typeof u=="function"){var M=u;u=function(){var Y=Zl(Z);M.call(Y)}}var Z=Mm(t,u,e,0,null,!1,!1,"",Ep);return e._reactRootContainer=Z,e[Mi]=Z.current,$a(e.nodeType===8?e.parentNode:e),Ro(),Z}for(;v=e.lastChild;)e.removeChild(v);if(typeof u=="function"){var H=u;u=function(){var Y=Zl(S);H.call(Y)}}var S=Hf(e,0,!1,null,null,!1,!1,"",Ep);return e._reactRootContainer=S,e[Mi]=S.current,$a(e.nodeType===8?e.parentNode:e),Ro(function(){$l(t,S,n,u)}),S}function tu(e,t,n,u,v){var M=n._reactRootContainer;if(M){var Z=M;if(typeof v=="function"){var H=v;v=function(){var S=Zl(Z);H.call(S)}}$l(t,Z,e,v)}else Z=K_(n,t,e,v,u);return Zl(Z)}lh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Pa(t.pendingLanes);n!==0&&(pf(t,n|1),Gr(t,sr()),!(On&6)&&(ga=sr()+500,so()))}break;case 13:Ro(function(){var u=Pi(e,1);if(u!==null){var v=Lr();yi(u,e,1,v)}}),Vf(e,1)}};hf=function(e){if(e.tag===13){var t=Pi(e,134217728);if(t!==null){var n=Lr();yi(t,e,134217728,n)}Vf(e,134217728)}};uh=function(e){if(e.tag===13){var t=to(e),n=Pi(e,t);if(n!==null){var u=Lr();yi(n,e,t,u)}Vf(e,t)}};ch=function(){return Gn};fh=function(e,t){var n=Gn;try{return Gn=e,t()}finally{Gn=n}};Sc=function(e,t,n){switch(t){case"input":if(hc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var u=n[t];if(u!==e&&u.form===e.form){var v=zl(u);if(!v)throw Error(en(90));jp(u),hc(u,v)}}}break;case"textarea":Yp(e,n);break;case"select":t=n.value,t!=null&&ta(e,!!n.multiple,t,!1)}};Xp=jf;$p=Ro;var W_={usingClientEntryPoint:!1,Events:[cs,Ko,zl,Wp,Qp,jf]},Da={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q_={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=th(e),e===null?null:e.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance||V_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{Gl=rl.inject(Q_),Si=rl}catch{}}Kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W_;Kr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wf(t))throw Error(en(200));return H_(e,t,null,n)};Kr.createRoot=function(e,t){if(!Wf(e))throw Error(en(299));var n=!1,u="",v=Pm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(u=t.identifierPrefix),t.onRecoverableError!==void 0&&(v=t.onRecoverableError)),t=Hf(e,1,!1,null,null,n,!1,u,v),e[Mi]=t.current,$a(e.nodeType===8?e.parentNode:e),new Kf(t)};Kr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(en(188)):(e=Object.keys(e).join(","),Error(en(268,e)));return e=th(t),e=e===null?null:e.stateNode,e};Kr.flushSync=function(e){return Ro(e)};Kr.hydrate=function(e,t,n){if(!eu(t))throw Error(en(200));return tu(null,e,t,!0,n)};Kr.hydrateRoot=function(e,t,n){if(!Wf(e))throw Error(en(405));var u=n!=null&&n.hydratedSources||null,v=!1,M="",Z=Pm;if(n!=null&&(n.unstable_strictMode===!0&&(v=!0),n.identifierPrefix!==void 0&&(M=n.identifierPrefix),n.onRecoverableError!==void 0&&(Z=n.onRecoverableError)),t=Mm(t,null,e,1,n??null,v,!1,M,Z),e[Mi]=t.current,$a(e),u)for(e=0;e<u.length;e++)n=u[e],v=n._getVersion,v=v(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,v]:t.mutableSourceEagerHydrationData.push(n,v);return new Jl(t)};Kr.render=function(e,t,n){if(!eu(t))throw Error(en(200));return tu(null,e,t,!1,n)};Kr.unmountComponentAtNode=function(e){if(!eu(e))throw Error(en(40));return e._reactRootContainer?(Ro(function(){tu(null,null,e,!1,function(){e._reactRootContainer=null,e[Mi]=null})}),!0):!1};Kr.unstable_batchedUpdates=jf;Kr.unstable_renderSubtreeIntoContainer=function(e,t,n,u){if(!eu(n))throw Error(en(200));if(e==null||e._reactInternals===void 0)throw Error(en(38));return tu(e,t,n,!1,u)};Kr.version="18.3.1-next-f1338f8080-20240426";function Lm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lm)}catch(e){console.error(e)}}Lm(),Lp.exports=Kr;var X_=Lp.exports,_p=X_;lc.createRoot=_p.createRoot,lc.hydrateRoot=_p.hydrateRoot;var xm={exports:{}};/*! For license information please see dash.all.min.js.LICENSE.txt */(function(e,t){(function(n,u){e.exports=u()})(self,function(){return function(){var n={4593:function(Z,H){var S,Y,A,o,i,_=function(R){for(var y=[],r=0;r<R.length;++r){var l=R.charCodeAt(r);l<128?y.push(l):l<2048?(y.push(192|l>>6),y.push(128|63&l)):l<65536?(y.push(224|l>>12),y.push(128|63&l>>6),y.push(128|63&l)):(y.push(240|l>>18),y.push(128|63&l>>12),y.push(128|63&l>>6),y.push(128|63&l))}return y},E=function(R){for(var y=[],r=0;r<R.length;){var l=R[r++];l<128||(l<224?(l=(31&l)<<6,l|=63&R[r++]):l<240?(l=(15&l)<<12,l|=(63&R[r++])<<6,l|=63&R[r++]):(l=(7&l)<<18,l|=(63&R[r++])<<12,l|=(63&R[r++])<<6,l|=63&R[r++])),y.push(String.fromCharCode(l))}return y.join("")},f={};S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Y=function(R){for(var y=0,r=[],l=0|R.length/3;0<l--;){var p=(R[y]<<16)+(R[y+1]<<8)+R[y+2];y+=3,r.push(S.charAt(63&p>>18)),r.push(S.charAt(63&p>>12)),r.push(S.charAt(63&p>>6)),r.push(S.charAt(63&p))}return R.length-y==2?(p=(R[y]<<16)+(R[y+1]<<8),r.push(S.charAt(63&p>>18)),r.push(S.charAt(63&p>>12)),r.push(S.charAt(63&p>>6)),r.push("=")):R.length-y==1&&(p=R[y]<<16,r.push(S.charAt(63&p>>18)),r.push(S.charAt(63&p>>12)),r.push("==")),r.join("")},A=function(){for(var R=[],y=0;y<S.length;++y)R[S.charCodeAt(y)]=y;return R[61]=0,R}(),o=function(R){for(var y=0,r=[],l=0|R.length/4;0<l--;){var p=(A[R.charCodeAt(y)]<<18)+(A[R.charCodeAt(y+1)]<<12)+(A[R.charCodeAt(y+2)]<<6)+A[R.charCodeAt(y+3)];r.push(255&p>>16),r.push(255&p>>8),r.push(255&p),y+=4}return r&&(R.charAt(y-2)=="="?(r.pop(),r.pop()):R.charAt(y-1)=="="&&r.pop()),r},i={encode:function(R){for(var y=[],r=0;r<R.length;++r)y.push(R.charCodeAt(r));return y},decode:function(R){for(var y=0;y<s.length;++y)a[y]=String.fromCharCode(a[y]);return a.join("")}},f.decodeArray=function(R){var y=o(R);return new Uint8Array(y)},f.encodeASCII=function(R){var y=i.encode(R);return Y(y)},f.decodeASCII=function(R){var y=o(R);return i.decode(y)},f.encode=function(R){var y=_(R);return Y(y)},f.decode=function(R){var y=o(R);return E(y)},H.decode=f.decode,H.decodeArray=f.decodeArray,H.encode=f.encode,H.encodeASCII=f.encodeASCII},452:function(Z,H){(function(S){var Y={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},A=function(x){var ne=x;return Y.hasOwnProperty(x)&&(ne=Y[x]),String.fromCharCode(ne)},o=15,i=32,_={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},E={17:2,18:4,21:6,22:8,23:10,19:13,20:15},f={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},R={25:2,26:4,29:6,30:8,31:10,27:13,28:15},y=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],r={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(x){this.time=x},log:function(x,ne){var de=this.verboseFilter[x];this.verboseLevel>=de&&console.log(this.time+" ["+x+"] "+ne)}},l=function(x){for(var ne=[],de=0;de<x.length;de++)ne.push(x[de].toString(16));return ne},p=function(x,ne,de,$,ue){this.foreground=x||"white",this.underline=ne||!1,this.italics=de||!1,this.background=$||"black",this.flash=ue||!1};p.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(x){for(var ne=["foreground","underline","italics","background","flash"],de=0;de<ne.length;de++){var $=ne[de];x.hasOwnProperty($)&&(this[$]=x[$])}},isDefault:function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},equals:function(x){return this.foreground===x.foreground&&this.underline===x.underline&&this.italics===x.italics&&this.background===x.background&&this.flash===x.flash},copy:function(x){this.foreground=x.foreground,this.underline=x.underline,this.italics=x.italics,this.background=x.background,this.flash=x.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var N=function(x,ne,de,$,ue,he){this.uchar=x||" ",this.penState=new p(ne,de,$,ue,he)};N.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(x,ne){this.uchar=x,this.penState.copy(ne)},setPenState:function(x){this.penState.copy(x)},equals:function(x){return this.uchar===x.uchar&&this.penState.equals(x.penState)},copy:function(x){this.uchar=x.uchar,this.penState.copy(x.penState)},isEmpty:function(){return this.uchar===" "&&this.penState.isDefault()}};var U=function(){this.chars=[];for(var x=0;x<i;x++)this.chars.push(new N);this.pos=0,this.currPenState=new p};U.prototype={equals:function(x){for(var ne=!0,de=0;de<i;de++)if(!this.chars[de].equals(x.chars[de])){ne=!1;break}return ne},copy:function(x){for(var ne=0;ne<i;ne++)this.chars[ne].copy(x.chars[ne])},isEmpty:function(){for(var x=!0,ne=0;ne<i;ne++)if(!this.chars[ne].isEmpty()){x=!1;break}return x},setCursor:function(x){this.pos!==x&&(this.pos=x),this.pos<0?(r.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>i&&(r.log("ERROR","Too large cursor position "+this.pos),this.pos=i)},moveCursor:function(x){var ne=this.pos+x;if(x>1)for(var de=this.pos+1;de<ne+1;de++)this.chars[de].setPenState(this.currPenState);this.setCursor(ne)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(x){x>=144&&this.backSpace();var ne=A(x);this.pos>=i?r.log("ERROR","Cannot insert "+x.toString(16)+" ("+ne+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(ne,this.currPenState),this.moveCursor(1))},clearFromPos:function(x){var ne;for(ne=x;ne<i;ne++)this.chars[ne].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var x=[],ne=!0,de=0;de<i;de++){var $=this.chars[de].uchar;$!==" "&&(ne=!1),x.push($)}return ne?"":x.join("")},setPenStyles:function(x){this.currPenState.setStyles(x),this.chars[this.pos].setPenState(this.currPenState)}};var q=function(){this.rows=[];for(var x=0;x<o;x++)this.rows.push(new U);this.currRow=14,this.nrRollUpRows=null,this.reset()};q.prototype={reset:function(){for(var x=0;x<o;x++)this.rows[x].clear();this.currRow=14},equals:function(x){for(var ne=!0,de=0;de<o;de++)if(!this.rows[de].equals(x.rows[de])){ne=!1;break}return ne},copy:function(x){for(var ne=0;ne<o;ne++)this.rows[ne].copy(x.rows[ne])},isEmpty:function(){for(var x=!0,ne=0;ne<o;ne++)if(!this.rows[ne].isEmpty()){x=!1;break}return x},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(x){this.rows[this.currRow].insertChar(x)},setPen:function(x){this.rows[this.currRow].setPenStyles(x)},moveCursor:function(x){this.rows[this.currRow].moveCursor(x)},setCursor:function(x){r.log("INFO","setCursor: "+x),this.rows[this.currRow].setCursor(x)},setPAC:function(x){r.log("INFO","pacData = "+JSON.stringify(x));var ne=x.row-1;this.nrRollUpRows&&ne<this.nrRollUpRows-1&&(ne=this.nrRollUpRows-1),this.currRow=ne;var de=this.rows[this.currRow];if(x.indent!==null){var $=x.indent,ue=Math.max($-1,0);de.setCursor(x.indent),x.color=de.chars[ue].penState.foreground}var he={foreground:x.color,underline:x.underline,italics:x.italics,background:"black",flash:!1};this.setPen(he)},setBkgData:function(x){r.log("INFO","bkgData = "+JSON.stringify(x)),this.backSpace(),this.setPen(x),this.insertChar(32)},setRollUpRows:function(x){this.nrRollUpRows=x},rollUp:function(){if(this.nrRollUpRows!==null){r.log("TEXT",this.getDisplayText());var x=this.currRow+1-this.nrRollUpRows,ne=this.rows.splice(x,1)[0];ne.clear(),this.rows.splice(this.currRow,0,ne),r.log("INFO","Rolling up")}else r.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(x){x=x||!1;for(var ne=[],de="",$=-1,ue=0;ue<o;ue++){var he=this.rows[ue].getTextString();he&&($=ue+1,x?ne.push("Row "+$+': "'+he+'"'):ne.push(he.trim()))}return ne.length>0&&(de=x?"["+ne.join(" | ")+"]":ne.join(`
`)),de},getTextAndFormat:function(){return this.rows}};var F=function(x,ne){this.chNr=x,this.outputFilter=ne,this.mode=null,this.verbose=0,this.displayedMemory=new q,this.nonDisplayedMemory=new q,this.lastOutputScreen=new q,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};F.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(x){this.outputFilter=x},setPAC:function(x){this.writeScreen.setPAC(x)},setBkgData:function(x){this.writeScreen.setBkgData(x)},setMode:function(x){x!==this.mode&&(this.mode=x,r.log("INFO","MODE="+x),this.mode=="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=x)},insertChars:function(x){for(var ne=0;ne<x.length;ne++)this.writeScreen.insertChar(x[ne]);var de=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";r.log("INFO",de+": "+this.writeScreen.getDisplayText(!0)),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(r.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){r.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){r.log("INFO","BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){r.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(x){r.log("INFO","RU("+x+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(x)},cc_FON:function(){r.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){r.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){r.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){r.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){r.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){r.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){r.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(r.log("INFO","EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var x=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=x,this.writeScreen=this.nonDisplayedMemory,r.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(x){r.log("INFO","TO("+x+") - Tab Offset"),this.writeScreen.moveCursor(x)},cc_MIDROW:function(x){var ne={flash:!1};if(ne.underline=x%2==1,ne.italics=x>=46,ne.italics)ne.foreground="white";else{var de=Math.floor(x/2)-16;ne.foreground=["white","green","blue","cyan","red","yellow","magenta"][de]}r.log("INFO","MIDROW: "+JSON.stringify(ne)),this.writeScreen.setPen(ne)},outputDataUpdate:function(){var x=r.time;x!==null&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(x,this.displayedMemory),this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,x,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:x):this.cueStartTime=x,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(x){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,x,this.displayedMemory),this.cueStartTime=x))}};var oe=function(x,ne,de){this.field=x||1,this.outputs=[ne,de],this.channels=[new F(1,ne),new F(2,de)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};oe.prototype={getHandler:function(x){return this.channels[x].getHandler()},setHandler:function(x,ne){this.channels[x].setHandler(ne)},addData:function(x,ne){var de,$,ue,he=!1;this.lastTime=x,r.setTime(x);for(var Ne=0;Ne<ne.length;Ne+=2)$=127&ne[Ne],ue=127&ne[Ne+1],$>=16&&$<=31&&$===this.lastCmdA&&ue===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,r.log("DEBUG","Repeated command ("+l([$,ue])+") is dropped")):$!==0||ue!==0?(r.log("DATA","["+l([ne[Ne],ne[Ne+1]])+"] -> ("+l([$,ue])+")"),(de=this.parseCmd($,ue))||(de=this.parseMidrow($,ue)),de||(de=this.parsePAC($,ue)),de||(de=this.parseBackgroundAttributes($,ue)),de||(he=this.parseChars($,ue))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(he):r.log("WARNING","No channel found yet. TEXT-MODE?")),de?this.dataCounters.cmd+=2:he?this.dataCounters.char+=2:(this.dataCounters.other+=2,r.log("WARNING","Couldn't parse cleaned data "+l([$,ue])+" orig: "+l([ne[Ne],ne[Ne+1]])))):this.dataCounters.padding+=2},parseCmd:function(x,ne){var de;if(!((x===20||x===21||x===28||x===29)&&32<=ne&&ne<=47||(x===23||x===31)&&33<=ne&&ne<=35))return!1;de=x===20||x===21||x===23?1:2;var $=this.channels[de-1];return x===20||x===21||x===28||x===29?ne===32?$.cc_RCL():ne===33?$.cc_BS():ne===34?$.cc_AOF():ne===35?$.cc_AON():ne===36?$.cc_DER():ne===37?$.cc_RU(2):ne===38?$.cc_RU(3):ne===39?$.cc_RU(4):ne===40?$.cc_FON():ne===41?$.cc_RDC():ne===42?$.cc_TR():ne===43?$.cc_RTD():ne===44?$.cc_EDM():ne===45?$.cc_CR():ne===46?$.cc_ENM():ne===47&&$.cc_EOC():$.cc_TO(ne-32),this.lastCmdA=x,this.lastCmdB=ne,this.currChNr=de,!0},parseMidrow:function(x,ne){var de=null;if((x===17||x===25)&&32<=ne&&ne<=47){if((de=x===17?1:2)!==this.currChNr)return r.log("ERROR","Mismatch channel in midrow parsing"),!1;var $=this.channels[de-1];return $.insertChars([32]),$.cc_MIDROW(ne),r.log("DEBUG","MIDROW ("+l([x,ne])+")"),this.lastCmdA=x,this.lastCmdB=ne,!0}return!1},parsePAC:function(x,ne){var de,$;if(!((17<=x&&x<=23||25<=x&&x<=31)&&64<=ne&&ne<=127||(x===16||x===24)&&64<=ne&&ne<=95))return!1;de=x<=23?1:2,$=64<=ne&&ne<=95?de===1?_[x]:f[x]:de===1?E[x]:R[x];var ue=this.interpretPAC($,ne);return this.channels[de-1].setPAC(ue),this.lastCmdA=x,this.lastCmdB=ne,this.currChNr=de,!0},interpretPAC:function(x,ne){var de,$={color:null,italics:!1,indent:null,underline:!1,row:x};return de=ne>95?ne-96:ne-64,$.underline=(1&de)==1,de<=13?$.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(de/2)]:de<=15?($.italics=!0,$.color="white"):$.indent=4*Math.floor((de-16)/2),$},parseChars:function(x,ne){var de=null,$=null,ue=null;if(x>=25?(de=2,ue=x-8):(de=1,ue=x),17<=ue&&ue<=19){var he;he=ue===17?ne+80:ue===18?ne+112:ne+144,r.log("INFO","Special char '"+A(he)+"' in channel "+de),$=[he],this.lastCmdA=x,this.lastCmdB=ne}else 32<=x&&x<=127&&($=ne===0?[x]:[x,ne],this.lastCmdA=null,this.lastCmdB=null);if($){var Ne=l($);r.log("DEBUG","Char codes =  "+Ne.join(","))}return $},parseBackgroundAttributes:function(x,ne){var de,$,ue;return((x===16||x===24)&&32<=ne&&ne<=47||(x===23||x===31)&&45<=ne&&ne<=47)&&(de={},x===16||x===24?($=Math.floor((ne-32)/2),de.background=y[$],ne%2==1&&(de.background=de.background+"_semi")):ne===45?de.background="transparent":(de.foreground="black",ne===47&&(de.underline=!0)),ue=x<24?1:2,this.channels[ue-1].setBkgData(de),this.lastCmdA=x,this.lastCmdB=ne,!0)},reset:function(){for(var x=0;x<this.channels.length;x++)this.channels[x]&&this.channels[x].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(x){for(var ne=0;ne<this.channels.length;ne++)this.channels[ne]&&this.channels[ne].cueSplitAtTime(x)}},S.logger=r,S.PenState=p,S.CaptionScreen=q,S.Cea608Parser=oe,S.findCea608Nalus=function(x,ne,de){for(var $=0,ue=ne,he=[],Ne=function(Ie,Le,Qe,nt){if(Ie!==4||Le<8)return null;var Re=Qe.getUint8(nt),Fe=Qe.getUint16(nt+1),Tt=Qe.getUint32(nt+3),vt=Qe.getUint8(nt+7);return Re==181&&Fe==49&&Tt==1195456820&&vt==3};ue<ne+de;){if($=x.getUint32(ue),(31&x.getUint8(ue+4))==6)for(var ae=ue+5,we=-1;ae<ue+4+$-1;){we=0;for(var Me=255;Me===255;)we+=Me=x.getUint8(ae),ae++;var je=0;for(Me=255;Me===255;)je+=Me=x.getUint8(ae),ae++;Ne(we,je,x,ae)&&he.push([ae,je]),ae+=je}ue+=$+4}return he},S.extractCea608DataFromRange=function(x,ne){var de=ne[0],$=[[],[]];de+=8;var ue=31&x.getUint8(de);de+=2;for(var he=0;he<ue;he++){var Ne=x.getUint8(de),ae=4&Ne,we=3&Ne;de++;var Me=x.getUint8(de);de++;var je=x.getUint8(de);de++,ae&&(127&Me)+(127&je)!=0&&(we===0?($[0].push(Me),$[0].push(je)):we===1&&($[1].push(Me),$[1].push(je)))}return $}})(H)},8416:function(Z,H,S){var Y=S(1139),A=S(5448),o=S(6398),i=S(2032),_=(S(5530),typeof window<"u"&&window||S.g),E=_.dashjs;E||(E=_.dashjs={}),E.MediaPlayer=Y.Z,E.FactoryMaker=A.Z,E.Debug=o.Z,E.Version=(0,i.e)()},6398:function(Z,H,S){var Y=S(5595),A=S(8512),o=S(5448),i=1,_=2,E=3,f=4,R=5;function y(l){l=l||{};var p,N,U,q,F=this.context,oe=(0,Y.Z)(F).getInstance(),x=l.settings,ne=[];function de(Me){return Me&&Me.bind?Me.bind(window.console):window.console.log.bind(window.console)}function $(){for(var Me=arguments.length,je=new Array(Me),Ie=0;Ie<Me;Ie++)je[Ie]=arguments[Ie];we.apply(void 0,[i,this].concat(je))}function ue(){for(var Me=arguments.length,je=new Array(Me),Ie=0;Ie<Me;Ie++)je[Ie]=arguments[Ie];we.apply(void 0,[_,this].concat(je))}function he(){for(var Me=arguments.length,je=new Array(Me),Ie=0;Ie<Me;Ie++)je[Ie]=arguments[Ie];we.apply(void 0,[E,this].concat(je))}function Ne(){for(var Me=arguments.length,je=new Array(Me),Ie=0;Ie<Me;Ie++)je[Ie]=arguments[Ie];we.apply(void 0,[f,this].concat(je))}function ae(){for(var Me=arguments.length,je=new Array(Me),Ie=0;Ie<Me;Ie++)je[Ie]=arguments[Ie];we.apply(void 0,[R,this].concat(je))}function we(Me,je){var Ie="",Le=null;N&&(Le=new Date().getTime(),Ie+="["+(Le-q)+"]"),U&&je&&je.getClassName&&(Ie+="["+je.getClassName()+"]",je.getType&&(Ie+="["+je.getType()+"]")),Ie.length>0&&(Ie+=" ");for(var Qe=arguments.length,nt=new Array(Qe>2?Qe-2:0),Re=2;Re<Qe;Re++)nt[Re-2]=arguments[Re];Array.apply(null,nt).forEach(function(Fe){Ie+=Fe+" "}),ne[Me]&&x&&x.get().debug.logLevel>=Me&&ne[Me](Ie),x&&x.get().debug.dispatchEvent&&oe.trigger(A.Z.LOG,{message:Ie,level:Me})}return p={getLogger:function(Me){return{fatal:$.bind(Me),error:ue.bind(Me),warn:he.bind(Me),info:Ne.bind(Me),debug:ae.bind(Me)}},setLogTimestampVisible:function(Me){N=Me},setCalleeNameVisible:function(Me){U=Me}},N=!0,U=!0,q=new Date().getTime(),typeof window<"u"&&window.console&&(ne[i]=de(window.console.error),ne[_]=de(window.console.error),ne[E]=de(window.console.warn),ne[f]=de(window.console.info),ne[R]=de(window.console.debug)),p}y.__dashjs_factory_name="Debug";var r=o.Z.getSingletonFactory(y);r.LOG_LEVEL_NONE=0,r.LOG_LEVEL_FATAL=i,r.LOG_LEVEL_ERROR=_,r.LOG_LEVEL_WARNING=E,r.LOG_LEVEL_INFO=f,r.LOG_LEVEL_DEBUG=R,o.Z.updateSingletonFactory(y.__dashjs_factory_name,r),H.Z=r},5595:function(Z,H,S){var Y=S(5448),A=S(8825);function o(){var _={};function E(R,y,r){var l=-1;return _[R]&&_[R].some(function(p,N){if(p&&p.callback===y&&(!r||r===p.scope))return l=N,!0}),l}var f={on:function(R,y,r){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!R)throw new Error("event type cannot be null or undefined");if(!y||typeof y!="function")throw new Error("listener must be a function: "+y);var p=l.priority||0;if(!(E(R,y,r)>=0)){_[R]=_[R]||[];var N={callback:y,scope:r,priority:p};r&&r.getStreamId&&(N.streamId=r.getStreamId()),r&&r.getType&&(N.mediaType=r.getType()),l&&l.mode&&(N.mode=l.mode);var U=_[R].some(function(q,F){if(q&&p>q.priority)return _[R].splice(F,0,N),!0});U||_[R].push(N)}},off:function(R,y,r){if(R&&y&&_[R]){var l=E(R,y,r);l<0||(_[R][l]=null)}},trigger:function(R){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(R&&_[R]){if((y=y||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");y.type=R,r.streamId&&(y.streamId=r.streamId),r.mediaType&&(y.mediaType=r.mediaType),_[R].filter(function(l){return!(!l||r.streamId&&l.streamId&&l.streamId!==r.streamId||r.mediaType&&l.mediaType&&l.mediaType!==r.mediaType||r.mode&&l.mode&&l.mode!==r.mode||!l.mode&&r.mode&&r.mode===A.Z.EVENT_MODE_ON_RECEIVE)}).forEach(function(l){return l&&l.callback.call(l.scope,y)})}},reset:function(){_={}}};return f}o.__dashjs_factory_name="EventBus";var i=Y.Z.getSingletonFactory(o);i.EVENT_PRIORITY_LOW=0,i.EVENT_PRIORITY_HIGH=5e3,Y.Z.updateSingletonFactory(o.__dashjs_factory_name,i),H.Z=i},5448:function(Z,H){var S=function(){var Y,A=[],o={},i={};function _(y,r){for(var l in A){var p=A[l];if(p.context===y&&p.name===r)return p.instance}return null}function E(y,r){return r[y]}function f(y,r,l){y in l&&(l[y]=r)}function R(y,r,l){var p,N=y.__dashjs_factory_name,U=r[N];if(U){var q=U.instance;if(!U.override)return q.apply({context:r,factory:Y},l);for(var F in p=y.apply({context:r},l),q=q.apply({context:r,factory:Y,parent:p},l))p.hasOwnProperty(F)&&(p[F]=q[F])}else p=y.apply({context:r},l);return p.getClassName=function(){return N},p}return Y={extend:function(y,r,l,p){!p[y]&&r&&(p[y]={instance:r,override:l})},getSingletonInstance:_,setSingletonInstance:function(y,r,l){for(var p in A){var N=A[p];if(N.context===y&&N.name===r)return void(A[p].instance=l)}A.push({name:r,context:y,instance:l})},deleteSingletonInstances:function(y){A=A.filter(function(r){return r.context!==y})},getSingletonFactory:function(y){var r=E(y.__dashjs_factory_name,o);return r||(r=function(l){var p;return l===void 0&&(l={}),{getInstance:function(){return p||(p=_(l,y.__dashjs_factory_name)),p||(p=R(y,l,arguments),A.push({name:y.__dashjs_factory_name,context:l,instance:p})),p}}},o[y.__dashjs_factory_name]=r),r},getSingletonFactoryByName:function(y){return E(y,o)},updateSingletonFactory:function(y,r){f(y,r,o)},getClassFactory:function(y){var r=E(y.__dashjs_factory_name,i);return r||(r=function(l){return l===void 0&&(l={}),{create:function(){return R(y,l,arguments)}}},i[y.__dashjs_factory_name]=r),r},getClassFactoryByName:function(y){return E(y,i)},updateClassFactory:function(y,r){f(y,r,i)}},Y}();H.Z=S},1264:function(Z,H,S){var Y=S(5448),A=S(703),o=S(6398),i=S(3393),_=S(7855),E=S(5595),f=S(8512);function R(p){return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},R(p)}function y(p,N,U){return N in p?Object.defineProperty(p,N,{value:U,enumerable:!0,configurable:!0,writable:!0}):p[N]=U,p}function r(){var p,N,U=this.context,q=(0,E.Z)(U).getInstance(),F={"streaming.delay.liveDelay":f.Z.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":f.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":f.Z.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":f.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":f.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX},oe={debug:{logLevel:o.Z.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,liveUpdateTimeThresholdInMilliseconds:0,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,parseInbandPrft:!1,enableManifestTimescaleMismatchFix:!1,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0,mediaSourceDurationInfinity:!0,resetSourceBuffersForTrackSwitch:!1},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,dispatchForManualRendering:!1,extendSegmentedCues:!0,imsc:{displayForcedOnlyMode:!1,enableRollUp:!0},webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:i.Z.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},saveLastMediaSettingsForCurrentStreamingSession:!0,cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:i.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:i.Z.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:i.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,fragmentRequestProgressTimeout:-1,manifestRequestTimeout:1e4,retryIntervals:(p={},y(p,_.w.MPD_TYPE,500),y(p,_.w.XLINK_EXPANSION_TYPE,500),y(p,_.w.MEDIA_SEGMENT_TYPE,1e3),y(p,_.w.INIT_SEGMENT_TYPE,1e3),y(p,_.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),y(p,_.w.INDEX_SEGMENT_TYPE,1e3),y(p,_.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),y(p,_.w.LICENSE,1e3),y(p,_.w.OTHER_TYPE,1e3),y(p,"lowLatencyReductionFactor",10),p),retryAttempts:(N={},y(N,_.w.MPD_TYPE,3),y(N,_.w.XLINK_EXPANSION_TYPE,1),y(N,_.w.MEDIA_SEGMENT_TYPE,3),y(N,_.w.INIT_SEGMENT_TYPE,3),y(N,_.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),y(N,_.w.INDEX_SEGMENT_TYPE,3),y(N,_.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),y(N,_.w.LICENSE,3),y(N,_.w.OTHER_TYPE,3),y(N,"lowLatencyMultiplyFactor",5),N),abr:{movingAverageMethod:i.Z.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:i.Z.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},abrRulesParameters:{abandonRequestsRule:{graceTimeThreshold:500,abandonMultiplier:1.8,minLengthToAverage:5}},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:i.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:i.Z.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]},cmsd:{enabled:!1,abr:{applyMb:!1,etpWeightRatio:0}}},errors:{recoverAttempts:{mediaErrorDecode:5}}},x=A.Z.clone(oe);function ne(de,$,ue){for(var he in de)de.hasOwnProperty(he)&&($.hasOwnProperty(he)?R(de[he])!=="object"||de[he]instanceof Array||de[he]===null?($[he]=A.Z.clone(de[he]),F[ue+he]&&q.trigger(F[ue+he])):ne(de[he],$[he],ue.slice()+he+"."):console.error("Settings parameter "+ue+he+" is not supported"))}return{get:function(){return x},update:function(de){R(de)==="object"&&ne(de,x,"")},reset:function(){x=A.Z.clone(oe)}}}r.__dashjs_factory_name="Settings";var l=Y.Z.getSingletonFactory(r);H.Z=l},703:function(Z,H,S){var Y=S(3875),A=S.n(Y),o=S(1067);function i(f){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},i(f)}function _(f,R){for(var y=0;y<R.length;y++){var r=R[y];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(f,r.key,r)}}var E=function(){function f(){(function(r,l){if(!(r instanceof l))throw new TypeError("Cannot call a class as a function")})(this,f)}var R,y;return R=f,y=[{key:"mixin",value:function(r,l,p){var N,U={};if(r)for(var q in l)l.hasOwnProperty(q)&&(N=l[q],q in r&&(r[q]===N||q in U&&U[q]===N)||(i(r[q])==="object"&&r[q]!==null?r[q]=f.mixin(r[q],N,p):r[q]=p(N)));return r}},{key:"clone",value:function(r){if(!r||i(r)!=="object")return r;var l;if(r instanceof Array){l=[];for(var p=0,N=r.length;p<N;++p)p in r&&l.push(f.clone(r[p]))}else l={};return f.mixin(l,r,f.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(r,l){try{if(!l||l.length===0)return r;var p=new URL(r);return l.forEach(function(N){N.key&&N.value&&p.searchParams.set(N.key,N.value)}),p.href}catch{return r}}},{key:"parseHttpHeaders",value:function(r){var l={};if(!r)return l;for(var p=r.trim().split(`\r
`),N=0,U=p.length;N<U;N++){var q=p[N],F=q.indexOf(": ");F>0&&(l[q.substring(0,F)]=q.substring(F+2))}return l}},{key:"generateUuid",value:function(){var r=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var p=(r+16*Math.random())%16|0;return r=Math.floor(r/16),(l=="x"?p:3&p|8).toString(16)})}},{key:"generateHashCode",value:function(r){var l=0;if(r.length===0)return l;for(var p=0;p<r.length;p++)l=(l<<5)-l+r.charCodeAt(p),l|=0;return l}},{key:"getRelativeUrl",value:function(r,l){try{var p=new URL(r),N=new URL(l);if(p.protocol=N.protocol,p.origin!==N.origin)return l;var U=A().relative(p.pathname.substr(0,p.pathname.lastIndexOf("/")),N.pathname.substr(0,N.pathname.lastIndexOf("/"))),q=U.length===0?1:0;return U+=N.pathname.substr(N.pathname.lastIndexOf("/")+q,N.pathname.length-1),N.pathname.length<U.length?N.pathname:U}catch{return l}}},{key:"parseUserAgent",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;try{var l=r===null&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return(0,o.UAParser)(l)}catch{return{}}}},{key:"stringHasProtocol",value:function(r){return/(http(s?)):\/\//i.test(r)}}],y&&_(R,y),f}();H.Z=E},2032:function(Z,H,S){function Y(){return"4.7.4"}S.d(H,{e:function(){return Y}})},2230:function(Z,H){function S(A,o){for(var i=0;i<o.length;i++){var _=o[i];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(A,_.key,_)}}var Y=function(){function A(){(function(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")})(this,A)}var o,i;return o=A,(i=[{key:"extend",value:function(_,E){if(_){var f=!!E&&E.override,R=!!E&&E.publicOnly;for(var y in _)!_.hasOwnProperty(y)||this[y]&&!f||R&&_[y].indexOf("public_")===-1||(this[y]=_[y])}}}])&&S(o.prototype,i),A}();H.Z=Y},4351:function(Z,H,S){function Y(E){return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},Y(E)}function A(E,f){return A=Object.setPrototypeOf||function(R,y){return R.__proto__=y,R},A(E,f)}function o(E,f){return!f||Y(f)!=="object"&&typeof f!="function"?function(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(E):f}function i(E){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},i(E)}var _=function(E){(function(l,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(p&&p.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),p&&A(l,p)})(r,E);var f,R,y=(f=r,R=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var l,p=i(f);if(R){var N=i(this).constructor;l=Reflect.construct(p,arguments,N)}else l=p.apply(this,arguments);return o(this,l)});function r(){var l;return function(p,N){if(!(p instanceof N))throw new TypeError("Cannot call a class as a function")}(this,r),(l=y.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",l.BUFFERING_COMPLETED="bufferingCompleted",l.BUFFER_CLEARED="bufferCleared",l.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",l.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",l.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",l.CMSD_STATIC_HEADER="cmsdStaticHeader",l.CURRENT_TRACK_CHANGED="currentTrackChanged",l.DATA_UPDATE_COMPLETED="dataUpdateCompleted",l.INBAND_EVENTS="inbandEvents",l.INITIAL_STREAM_SWITCH="initialStreamSwitch",l.INIT_FRAGMENT_LOADED="initFragmentLoaded",l.INIT_FRAGMENT_NEEDED="initFragmentNeeded",l.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",l.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",l.LOADING_COMPLETED="loadingCompleted",l.LOADING_PROGRESS="loadingProgress",l.LOADING_DATA_PROGRESS="loadingDataProgress",l.LOADING_ABANDONED="loadingAborted",l.MANIFEST_UPDATED="manifestUpdated",l.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",l.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",l.QUOTA_EXCEEDED="quotaExceeded",l.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",l.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",l.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD="serviceLocationBlacklistAdd",l.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",l.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD="serviceLocationLocationBlacklistAdd",l.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED="serviceLocationLocationBlacklistChanged",l.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",l.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",l.SOURCE_BUFFER_ERROR="sourceBufferError",l.STREAMS_COMPOSED="streamsComposed",l.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",l.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",l.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",l.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",l.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",l.URL_RESOLUTION_FAILED="urlResolutionFailed",l.VIDEO_CHUNK_RECEIVED="videoChunkReceived",l.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",l.XLINK_ELEMENT_LOADED="xlinkElementLoaded",l.XLINK_READY="xlinkReady",l.SEEK_TARGET="seekTarget",l.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",l.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",l.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",l.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",l.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",l}return r}(S(8342).Z);H.Z=_},8512:function(Z,H,S){function Y(R){return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},Y(R)}function A(R,y){if(!(R instanceof y))throw new TypeError("Cannot call a class as a function")}function o(R,y){return o=Object.setPrototypeOf||function(r,l){return r.__proto__=l,r},o(R,y)}function i(R,y){return!y||Y(y)!=="object"&&typeof y!="function"?function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(R):y}function _(R){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)},_(R)}var E=function(R){(function(N,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(U&&U.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),U&&o(N,U)})(p,R);var y,r,l=(y=p,r=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,U=_(y);if(r){var q=_(this).constructor;N=Reflect.construct(U,arguments,q)}else N=U.apply(this,arguments);return i(this,N)});function p(){return A(this,p),l.apply(this,arguments)}return p}(S(4351).Z),f=new E;H.Z=f},8342:function(Z,H){function S(A,o){for(var i=0;i<o.length;i++){var _=o[i];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(A,_.key,_)}}var Y=function(){function A(){(function(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")})(this,A)}var o,i;return o=A,(i=[{key:"extend",value:function(_,E){if(_){var f=!!E&&E.override,R=!!E&&E.publicOnly;for(var y in _)!_.hasOwnProperty(y)||this[y]&&!f||R&&_[y].indexOf("public_")===-1||(this[y]=_[y])}}}])&&S(o.prototype,i),A}();H.Z=Y},9326:function(Z,H,S){var Y=S(3186),A=S(7855),o=S(5448),i=S(8825),_=S(7387),E=S(1553);function f(R){var y,r,l,p,N,U=(R=R||{}).eventBus,q=R.debug,F=R.urlUtils,oe=R.type,x=R.streamInfo,ne=R.segmentsController,de=R.timelineConverter,$=R.baseURLController;function ue(){return oe}function he(){l=null}function Ne(Ie,Le,Qe){var nt,Re,Fe=$.resolve(Qe.path),Tt={};return Fe&&Le!==Fe.url&&F.isRelative(Le)?(nt=Fe.url,Re=Fe.serviceLocation,Tt=Fe.queryParams,Le&&(nt=F.resolve(Le,nt))):nt=Le,!F.isRelative(nt)&&(Ie.url=nt,Ie.serviceLocation=Re,Ie.queryParams=Tt,!0)}function ae(Ie,Le){if(Le==null)return null;var Qe=new Y.Z,nt=Le.representation,Re=nt.adaptation.period.mpd.manifest.Period_asArray[nt.adaptation.period.index].AdaptationSet_asArray[nt.adaptation.index].Representation_asArray[nt.index].bandwidth,Fe=Le.media;return Fe=(0,_.vi)(Fe,"Number",Le.replacementNumber),Fe=(0,_.vi)(Fe,"Time",Le.replacementTime),Fe=(0,_.vi)(Fe,"Bandwidth",Re),Fe=(0,_.Aj)(Fe,nt.id),Fe=(0,_.eR)(Fe),Qe.mediaType=ue(),Qe.type=A.w.MEDIA_SEGMENT_TYPE,Qe.range=Le.mediaRange,Qe.startTime=Le.presentationStartTime,Qe.mediaStartTime=Le.mediaStartTime,Qe.duration=Le.duration,Qe.timescale=nt.timescale,Qe.availabilityStartTime=Le.availabilityStartTime,Qe.availabilityEndTime=Le.availabilityEndTime,Qe.availabilityTimeComplete=nt.availabilityTimeComplete,Qe.wallStartTime=Le.wallStartTime,Qe.quality=nt.index,Qe.index=Le.index,Qe.mediaInfo=Ie,Qe.adaptationIndex=nt.adaptation.index,Qe.representationId=nt.id,Ne(Qe,Fe,nt)?Qe:void 0}function we(Ie,Le,Qe){var nt=null;if(!Le||!Le.segmentInfoType)return nt;var Re=ne.getSegmentByTime(Le,Qe);return Re&&(l=Re,r.debug("Index for time "+Qe+" is "+Re.index),nt=ae(Ie,Re)),nt}function Me(Ie,Le,Qe){var nt=null,Re=ne.getSegmentByIndex(Le,Qe,l?l.mediaStartTime:-1);if(Re)nt=ae(Ie,Re),l=Re;else{if(p&&!N)return r.debug(ue()+" No segment found at index: "+Qe+". Wait for next loop"),null;N=!0}return nt}function je(){r.debug("Dynamic stream complete"),N=!0}return y={getCurrentIndex:function(){return l?l.index:-1},getInitRequest:function(Ie,Le){return Le?function(Qe,nt,Re){var Fe=new Y.Z,Tt=nt.adaptation.period,vt=Tt.start;if(Fe.mediaType=Re,Fe.type=A.w.INIT_SEGMENT_TYPE,Fe.range=nt.range,Fe.availabilityStartTime=de.calcAvailabilityStartTimeFromPresentationTime(vt,nt,p),Fe.availabilityEndTime=de.calcAvailabilityEndTimeFromPresentationTime(vt+Tt.duration,nt,p),Fe.quality=nt.index,Fe.mediaInfo=Qe,Fe.representationId=nt.id,Ne(Fe,nt.initialization,nt))return Fe.url=(0,_.vi)(Fe.url,"Bandwidth",nt.bandwidth),Fe}(Ie,Le,ue()):null},getNextSegmentRequest:function(Ie,Le){return Le&&Le.segmentInfoType?Me(Ie,Le,l?l.index+1:0):null},getNextSegmentRequestIdempotent:function(Ie,Le){var Qe=l?l.index+1:0,nt=ne.getSegmentByIndex(Le,Qe,l?l.mediaStartTime:-1);return nt?ae(Ie,nt):null},getSegmentRequestForTime:we,getStreamId:function(){return x.id},getStreamInfo:function(){return x},getType:ue,getValidTimeAheadOfTargetTime:function(Ie,Le,Qe,nt){try{if(isNaN(Ie)||!Le||!Qe)return NaN;if(Ie<0&&(Ie=0),isNaN(nt)&&(nt=.5),we(Le,Qe,Ie))return Ie;if(Qe.adaptation.period.start+Qe.adaptation.period.duration<Ie)return NaN;for(var Re=isFinite(Qe.adaptation.period.duration)?Qe.adaptation.period.start+Qe.adaptation.period.duration:Ie+30,Fe=Math.min(Ie+nt,Re),Tt=NaN,vt=null;Fe<=Re;){var ze=null;if(Fe<=Re&&(ze=we(Le,Qe,Fe)),ze){Tt=Fe,vt=ze;break}Fe+=nt}if(vt){var at=vt.startTime+vt.duration;return Ie>vt.startTime&&at-Ie>nt?Ie:!isNaN(vt.startTime)&&Ie<vt.startTime&&Tt>vt.startTime?vt.startTime+.001:Math.min(at-nt,Tt)}return Tt}catch{return NaN}},initialize:function(Ie){p=Ie,N=!1,ne.initialize(Ie)},isLastSegmentRequested:function(Ie,Le){return!Ie||!l?!1:N?!0:!isFinite(Ie.adaptation.period.duration)||l.presentationStartTime+l.duration>Le?!1:Ie.mediaFinishedInformation&&!isNaN(Ie.mediaFinishedInformation.numberOfSegments)&&!isNaN(l.index)&&l.index>=Ie.mediaFinishedInformation.numberOfSegments-1&&(!p||Ie.segmentInfoType===E.Z.SEGMENT_TEMPLATE||p&&Ie.segmentInfoType===E.Z.SEGMENT_LIST&&Ie.adaptation.period.nextPeriodId)?!0:!!(p&&Ie.adaptation.period.nextPeriodId&&Ie.segmentInfoType===E.Z.SEGMENT_TIMELINE&&Ie.mediaFinishedInformation&&!isNaN(Ie.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&l&&!isNaN(l.mediaStartTime)&&!isNaN(l.duration)&&l.mediaStartTime+l.duration>=Ie.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},repeatSegmentRequest:function(Ie,Le){return Le&&Le.segmentInfoType?Me(Ie,Le,l?l.index:0):null},reset:function(){he(),U.off(i.Z.DYNAMIC_TO_STATIC,je,y)}},r=q.getLogger(y),he(),U.on(i.Z.DYNAMIC_TO_STATIC,je,y),y}f.__dashjs_factory_name="DashHandler",H.Z=o.Z.getClassFactory(f)},1553:function(Z,H){function S(A,o){for(var i=0;i<o.length;i++){var _=o[i];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(A,_.key,_)}}var Y=new(function(){function A(){(function(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")})(this,A),this.init()}var o,i;return o=A,(i=[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.ESSENTIAL_PROPERTY_ASARRAY="EssentialProperty_asArray",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.SUPPLEMENTAL_PROPERTY_ASARRAY="SupplementalProperty_asArray",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.INBAND="inband",this.TYPE="type",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.VIEWPOINT_ASARRAY="Viewpoint_asArray",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.DVB_URL="dvb:url",this.DVB_MIMETYPE="dvb:mimeType",this.DVB_FONTFAMILY="dvb:fontFamily",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PATCH_LOCATION_AS_ARRAY="PatchLocation_asArray",this.LOCATION="Location",this.LOCATION_AS_ARRAY="Location_asArray",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.CLIENT_REQUIREMENT="clientRequirement",this.TTL="ttl",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",PATHWAY_PRIORITY:"PATHWAY-PRIORITY",PATHWAY_CLONES:"PATHWAY-CLONES",BASE_ID:"BASE-ID",ID:"ID",URI_REPLACEMENT:"URI-REPLACEMENT",HOST:"HOST",PARAMS:"PARAMS"},this.PRODUCER_REFERENCE_TIME_TYPE={ENCODER:"encoder",CAPTURED:"captured",APPLICATION:"application"},this.SEGMENT_ALIGNMENT="segmentAlignment",this.SUB_SEGMENT_ALIGNMENT="subsegmentAlignment"}}])&&S(o.prototype,i),A}());H.Z=Y},7802:function(Z,H,S){var Y=S(5448),A=S(1724),o=S(3636),i=S(1736),_=S(5246);function E(R){R=R||{};var y,r,l=this.context,p=R.dashConstants,N=R.type,U=R.segmentBaseController;function q(F){return F?F.segments?r[p.SEGMENT_BASE]:r[F.segmentInfoType]:null}return y={initialize:function(F){r[p.SEGMENT_TIMELINE]=(0,A.Z)(l).create(R,F),r[p.SEGMENT_TEMPLATE]=(0,o.Z)(l).create(R,F),r[p.SEGMENT_LIST]=(0,i.Z)(l).create(R,F),r[p.SEGMENT_BASE]=(0,_.Z)(l).create(R,F)},updateInitData:function(F,oe){return oe?Promise.resolve():U.getSegmentBaseInitSegment({representation:F,mediaType:N})},updateSegmentData:function(F,oe){return oe?Promise.resolve():U.getSegmentList({mimeType:F.mimeType,representation:F,mediaType:N})},getSegmentByIndex:function(F,oe,x){var ne=q(F);return ne?ne.getSegmentByIndex(F,oe,x):null},getSegmentByTime:function(F,oe){var x=q(F);return x?x.getSegmentByTime(F,oe):null},getMediaFinishedInformation:function(F){var oe=q(F);return oe?oe.getMediaFinishedInformation(F):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},r={},y}E.__dashjs_factory_name="SegmentsController";var f=Y.Z.getClassFactory(E);H.Z=f},1736:function(Z,H,S){var Y=S(5448),A=S(3393),o=S(7387);function i(E,f){var R=(E=E||{}).timelineConverter;function y(){if(!R||!R.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(A.Z.MISSING_CONFIG_ERROR)}function r(l,p){if(y(),!l)return null;var N=l.adaptation.period.mpd.manifest.Period_asArray[l.adaptation.period.index].AdaptationSet_asArray[l.adaptation.index].Representation_asArray[l.index].SegmentList,U=N.SegmentURL_asArray.length,q=l&&!isNaN(l.startNumber)?l.startNumber:1,F=Math.max(q-1,0),oe=Math.max(p-F,0),x=null;if(oe<U){var ne=N.SegmentURL_asArray[oe];(x=(0,o.NF)(R,f,l,p))&&(x.replacementTime=(q+p-1)*l.segmentDuration,x.media=ne.media?ne.media:"",x.mediaRange=ne.mediaRange,x.indexRange=ne.indexRange)}return x}return{getSegmentByIndex:r,getSegmentByTime:function(l,p){if(y(),!l)return null;var N=l.segmentDuration;if(isNaN(N))return null;var U=R.calcPeriodRelativeTimeFromMpdRelativeTime(l,p);return r(l,Math.floor(U/N))},getMediaFinishedInformation:function(l){var p={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!l)return p;var N=l.adaptation.period.mpd.manifest.Period_asArray[l.adaptation.period.index].AdaptationSet_asArray[l.adaptation.index].Representation_asArray[l.index].SegmentList,U=l&&!isNaN(l.startNumber)?l.startNumber:1,q=Math.max(U-1,0);return p.numberOfSegments=q+N.SegmentURL_asArray.length,p}}}i.__dashjs_factory_name="ListSegmentsGetter";var _=Y.Z.getClassFactory(i);H.Z=_},5246:function(Z,H,S){var Y=S(5448),A=S(3393);function o(_){var E=(_=_||{}).timelineConverter;function f(){if(!E||!E.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(A.Z.MISSING_CONFIG_ERROR)}function R(y,r){if(f(),!y)return null;var l,p=y.segments?y.segments.length:-1;if(r<p&&(l=y.segments[r])&&l.index===r)return l;for(var N=0;N<p;N++)if((l=y.segments[N])&&l.index===r)return l;return null}return{getSegmentByIndex:R,getSegmentByTime:function(y,r){f();var l=function(p,N){if(!p)return-1;var U,q,F,oe,x,ne=p.segments,de=ne?ne.length:null,$=-1;if(ne&&de>0){for(x=0;x<de;x++)if(F=(q=ne[x]).presentationStartTime,N+(U=(oe=q.duration)/2)>=F&&N-U<F+oe){$=q.index;break}}return $}(y,r);return R(y,l)},getMediaFinishedInformation:function(y){var r={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return y&&y.segments&&(r.numberOfSegments=y.segments.length),r}}}o.__dashjs_factory_name="SegmentBaseGetter";var i=Y.Z.getClassFactory(o);H.Z=i},7387:function(Z,H,S){S.d(H,{Aj:function(){return i},NF:function(){return R},TJ:function(){return y},eR:function(){return o},vi:function(){return _}});var Y=S(2011);function A(r,l){for(;r.length<l;)r="0"+r;return r}function o(r){return r&&r.split("$$").join("$")}function i(r,l){if(!l||!r||r.indexOf("$RepresentationID$")===-1)return r;var p=l.toString();return r.split("$RepresentationID$").join(p)}function _(r,l,p){var N,U,q,F,oe,x,ne=l.length,de=2;if(!r)return r;for(;;){if((N=r.indexOf("$"+l))<0||(U=r.indexOf("$",N+ne))<0)return r;if((q=r.indexOf("%0",N+ne))>N&&q<U)switch(F=r.charAt(U-1),oe=parseInt(r.substring(q+de,U-1),10),F){case"d":case"i":case"u":x=A(p.toString(),oe);break;case"x":x=A(p.toString(16),oe);break;case"X":x=A(p.toString(16),oe).toUpperCase();break;case"o":x=A(p.toString(8),oe);break;default:return r}else x=p;r=r.substring(0,N)+x+r.substring(U+1)}}function E(r,l,p,N,U,q,F,oe){var x,ne=new Y.Z;return ne.representation=r,ne.duration=l,ne.presentationStartTime=p,ne.mediaStartTime=N,ne.availabilityStartTime=U.calcAvailabilityStartTimeFromPresentationTime(q,r,F),ne.availabilityEndTime=U.calcAvailabilityEndTimeFromPresentationTime(q+l,r,F),ne.wallStartTime=U.calcWallTimeForSegment(ne,F),ne.replacementNumber=(x=oe,ne.representation.startNumber+x),ne.index=oe,ne}function f(r,l,p,N){var U=l.adaptation.period;if(isFinite(U.duration)&&U.start+U.duration<=p.presentationStartTime)return!1;if(N){if(l.availabilityTimeOffset==="INF")return!0;var q=r.getClientReferenceTime();return p.availabilityStartTime.getTime()<=q&&(!isFinite(p.availabilityEndTime)||p.availabilityEndTime.getTime()>=q)}return!0}function R(r,l,p,N){var U,q,F;U=p.segmentDuration,isNaN(U)&&(U=p.adaptation.period.duration),q=parseFloat((p.adaptation.period.start+N*U).toFixed(5)),F=parseFloat((q+U).toFixed(5));var oe=E(p,U,q,r.calcMediaTimeFromPresentationTime(q,p),r,F,l,N);return f(r,p,oe,l)?oe:null}function y(r,l,p,N,U,q,F,oe,x,ne){var de,$,ue=N/q,he=U/q;return de=r.calcPresentationTimeFromMediaTime(ue,p),f(r,p,$=E(p,he,de,ue,r,de+he,l,x),l)?($.replacementTime=ne||N,F=_(F,"Number",$.replacementNumber),F=_(F,"Time",$.replacementTime),$.media=F,$.mediaRange=oe,$):null}},3636:function(Z,H,S){var Y=S(5448),A=S(3393),o=S(7387);function i(E,f){var R=(E=E||{}).timelineConverter;function y(){if(!R||!R.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(A.Z.MISSING_CONFIG_ERROR)}function r(l,p){if(y(),!l)return null;var N=l.adaptation.period.mpd.manifest.Period_asArray[l.adaptation.period.index].AdaptationSet_asArray[l.adaptation.index].Representation_asArray[l.index].SegmentTemplate;p=Math.max(p,0);var U=(0,o.NF)(R,f,l,p);if(U){U.replacementTime=Math.round((p-1)*l.segmentDuration*l.timescale,10);var q=N.media;q=(0,o.vi)(q,"Number",U.replacementNumber),q=(0,o.vi)(q,"Time",U.replacementTime),U.media=q}return U}return{getSegmentByIndex:r,getSegmentByTime:function(l,p){if(y(),!l)return null;var N=l.segmentDuration;if(isNaN(N))return null;var U=R.calcPeriodRelativeTimeFromMpdRelativeTime(l,p);return r(l,Math.floor(U/N))},getMediaFinishedInformation:function(l){var p={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!l)return p;var N=l.segmentDuration;return isNaN(N)?p.numberOfSegments=1:p.numberOfSegments=Math.ceil(l.adaptation.period.duration/N),p}}}i.__dashjs_factory_name="TemplateSegmentsGetter";var _=Y.Z.getClassFactory(i);H.Z=_},1724:function(Z,H,S){var Y=S(5448),A=S(3393),o=S(7387);function i(E,f){var R=(E=E||{}).timelineConverter,y=E.dashMetrics;function r(){if(!R)throw new Error(A.Z.MISSING_CONFIG_ERROR)}function l(N,U){var q,F,oe,x,ne,de,$,ue=N.adaptation.period.mpd.manifest.Period_asArray[N.adaptation.period.index].AdaptationSet_asArray[N.adaptation.index].Representation_asArray[N.index].SegmentTemplate||N.adaptation.period.mpd.manifest.Period_asArray[N.adaptation.period.index].AdaptationSet_asArray[N.adaptation.index].Representation_asArray[N.index].SegmentList,he=ue.SegmentTimeline,Ne=ue.SegmentURL_asArray,ae=0,we=-1;$=N.timescale;var Me=!1;for(oe=0,x=(q=he.S_asArray).length;oe<x&&!Me;oe++)for(de=0,(F=q[oe]).hasOwnProperty("r")&&(de=F.r),F.hasOwnProperty("t")&&(ae=F.t),de<0&&(de=p(N,q[oe+1],F,$,ae/$)),ne=0;ne<=de&&!Me;ne++)(Me=U(ae,ue,Ne,F,$,++we,oe))&&(N.segmentDuration=F.d/$),ae+=F.d}function p(N,U,q,F,oe){var x;if(U&&U.hasOwnProperty("t"))x=U.t/F;else try{var ne=0;if(isNaN(N.adaptation.period.start)||isNaN(N.adaptation.period.duration)||!isFinite(N.adaptation.period.duration)){var de=y.getCurrentDVRInfo();ne=isNaN(de.end)?0:de.end}else ne=N.adaptation.period.start+N.adaptation.period.duration;x=R.calcMediaTimeFromPresentationTime(ne,N),N.segmentDuration=q.d/F}catch{x=0}return Math.max(Math.ceil((x-oe)/(q.d/F))-1,0)}return{getSegmentByIndex:function(N,U,q){if(r(),!N)return null;var F=null,oe=!1;return l(N,function(x,ne,de,$,ue,he,Ne){if(oe||q<0){var ae=ne.media,we=$.mediaRange;return de&&(ae=de[Ne].media||"",we=de[Ne].mediaRange),F=(0,o.TJ)(R,f,N,x,$.d,ue,ae,we,he,$.tManifest),!0}return x>=q*ue-.5*$.d&&(oe=!0),!1}),F},getSegmentByTime:function(N,U){if(r(),!N)return null;U===void 0&&(U=null);var q=null,F=R.calcMediaTimeFromPresentationTime(U,N);return l(N,function(oe,x,ne,de,$,ue,he){var Ne=parseFloat((F*$).toPrecision(15));if(Ne<oe+de.d&&Ne>=oe){var ae=x.media,we=de.mediaRange;return ne&&(ae=ne[he].media||"",we=ne[he].mediaRange),q=(0,o.TJ)(R,f,N,oe,de.d,$,ae,we,ue,de.tManifest),!0}return!1}),q},getMediaFinishedInformation:function(N){if(!N)return 0;var U,q,F,oe,x,ne,de,$=(N.adaptation.period.mpd.manifest.Period_asArray[N.adaptation.period.index].AdaptationSet_asArray[N.adaptation.index].Representation_asArray[N.index].SegmentTemplate||N.adaptation.period.mpd.manifest.Period_asArray[N.adaptation.period.index].AdaptationSet_asArray[N.adaptation.index].Representation_asArray[N.index].SegmentList).SegmentTimeline,ue=0,he=0,Ne=0;for(de=N.timescale,oe=(U=$.S_asArray).length,F=0;F<oe;F++)for(ne=0,(q=U[F]).hasOwnProperty("r")&&(ne=q.r),q.hasOwnProperty("t")&&(he=(ue=q.t)/de),ne<0&&(ne=p(N,U[F+1],q,de,he)),x=0;x<=ne;x++)Ne++,he=(ue+=q.d)/de;return{numberOfSegments:Ne,mediaTimeOfLastSignaledSegment:he}}}}i.__dashjs_factory_name="TimelineSegmentsGetter";var _=Y.Z.getClassFactory(i);H.Z=_},2011:function(Z,H){H.Z=function S(){(function(Y,A){if(!(Y instanceof A))throw new TypeError("Cannot call a class as a function")})(this,S),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null}},2610:function(Z,H){H.Z=function S(){(function(Y,A){if(!(Y instanceof A))throw new TypeError("Cannot call a class as a function")})(this,S),this.schemeIdUri="",this.value=""}},1139:function(Z,H,S){S.d(H,{Z:function(){return wv}});var Y=S(452),A=S.n(Y),o=S(3393),i=S(1553),_=S(3860),E=S(5595),f=S(8512),R=S(5448),y=S(6398),r=S(8825);function l(){var g,c,h,I,P,O,w,L,z,J,Q,k,W,K,ve,ce,me,_e,X,ge,ee,ye,T,j,B,G=this.context,D=(0,E.Z)(G).getInstance();function fe(){V(),K=!1,J=0,Q=0,me=0,T=!1,_e=!0,X=!1,j=!1,ge=NaN,ce=NaN,w&&(D.off(f.Z.DATA_UPDATE_COMPLETED,Xe,g),D.off(f.Z.LOADING_PROGRESS,qt,g),D.off(f.Z.MANIFEST_UPDATED,ct,g),D.off(f.Z.STREAMS_COMPOSED,Ee,g),D.off(r.Z.PLAYBACK_ENDED,pt,g),D.off(r.Z.STREAM_INITIALIZING,We,g),D.off(r.Z.REPRESENTATION_SWITCH,ke,g),D.off(r.Z.BUFFER_LEVEL_STATE_CHANGED,gt,g),ht(),w.removeEventListener("canplay",_t),w.removeEventListener("canplaythrough",Et),w.removeEventListener("play",Kt),w.removeEventListener("waiting",Vt),w.removeEventListener("playing",gn),w.removeEventListener("pause",mn),w.removeEventListener("error",kt),w.removeEventListener("seeking",Ke),w.removeEventListener("seeked",yt),w.removeEventListener("timeupdate",st),w.removeEventListener("progress",bt),w.removeEventListener("ratechange",Pt),w.removeEventListener("loadedmetadata",Xt),w.removeEventListener("loadeddata",Wt),w.removeEventListener("stalled",Qt),w.removeEventListener("ended",Jt),w.removeEventListener("volumechange",an)),z=null,w=null,k=null,W=null}function ie(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return parseFloat((pe(be)-Oe()).toFixed(5))}function pe(be){var Je=be||k;return Je.start+Je.duration}function se(){var be=arguments.length>0&&arguments[0]!==void 0&&arguments[0];k&&w&&w.getElement()?(be&&W&&Ue(Oe()),w.play()):K=!0}function V(){k&&w&&w.pause()}function le(be){var Je=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Nt=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Lt=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(k&&w&&w.getElement()){var yn=isNaN(ge)?w.getTime():ge;be!==yn&&((ee=Nt===!0)||(ge=be),c.info("Requesting seek to time: "+be+(ee?" (internal)":"")),W&&Lt&&Ue(be),w.setCurrentTime(be,Je))}}function Se(){if(k&&w&&W){var be=h&&h.hasVideoTrack()?o.Z.VIDEO:o.Z.AUDIO,Je=P.getCurrentDVRInfo(be);return Je&&Je.range?Je.range.end:0}}function Ue(be){var Je=new Date(L.getClientReferenceTime()),Nt=O.getRegularPeriods()[0],Lt=L.calcPresentationTimeFromWallTime(Je,Nt);J=Lt-be}function Oe(){return k&&w?w.getTime():null}function Ze(){return k&&w?w.isPaused():null}function xe(){return k&&w?w.isSeeking():null}function lt(){return k&&w?w.isStalled():null}function ut(){return k&&w?w.getPlaybackRate():null}function rt(){return k&&w?w.getEnded():null}function it(){return W}function Ut(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!Ze()&&W&&w.getReadyState()!==0&&!xe()&&!T){be||(be=h.hasVideoTrack()?o.Z.VIDEO:o.Z.AUDIO);var Je=Oe(),Nt=Ce(Je,be),Lt=!isNaN(Nt)&&Nt!==Je;Lt&&!xe()&&(lt()||ye||w.getReadyState()===1)&&(c.debug("UpdateCurrentTime: Seek to actual time: ".concat(Nt," from currentTime: ").concat(Je)),le(Nt,!1,!1))}}function Ce(be,Je){var Nt=P.getCurrentDVRInfo(Je),Lt=Nt?Nt.range:null;return Lt?be>Lt.end?Math.max(Lt.end-J,Lt.start):be>0&&be+.25<Lt.start&&Math.abs(be-Lt.start)<31536e4?X?Math.max(Lt.end-J,Lt.start):Lt.start:be:NaN}function qe(){z===null&&(z=setInterval(function(){(function(){if(D.trigger(f.Z.WALLCLOCK_TIME_UPDATED,{isDynamic:W,time:new Date}),it()){var be=Date.now();(isNaN(ce)||be>ce+B.get().streaming.liveUpdateTimeThresholdInMilliseconds)&&(h.addDVRMetric(),Ze()?function(){var Je=Date.now();(!ve||Je>ve+500)&&(ve=Je,st())}():Ut(),ce=be)}})()},B.get().streaming.wallclockTimeUpdateInterval))}function ht(){clearInterval(z),z=null}function Xe(be){var Je=O.convertRepresentationToRepresentationInfo(be.currentRepresentation),Nt=Je?Je.mediaInfo.streamInfo:null;Nt!==null&&k.id===Nt.id&&(k=Nt)}function _t(){D.trigger(f.Z.CAN_PLAY)}function Et(){D.trigger(f.Z.CAN_PLAY_THROUGH)}function gt(be){be.streamId===h.getActiveStreamInfo().id&&(ye=be.state===_.Z.BUFFER_EMPTY,B.get().streaming.buffer.setStallState&&w.setStallState(be.mediaType,be.state===_.Z.BUFFER_EMPTY))}function Kt(){c.info("Native video element event: play"),Ut(),qe(),D.trigger(f.Z.PLAYBACK_STARTED,{startTime:Oe()})}function Vt(){c.info("Native video element event: waiting"),D.trigger(f.Z.PLAYBACK_WAITING,{playingTime:Oe()})}function gn(){c.info("Native video element event: playing"),ee=!1,D.trigger(f.Z.PLAYBACK_PLAYING,{playingTime:Oe()})}function mn(){c.info("Native video element event: pause"),D.trigger(f.Z.PLAYBACK_PAUSED,{ended:rt()})}function Ke(){if(!ee){var be=Oe();isNaN(ge)||ge===be||(be=ge),ge=NaN,c.info("Seeking to: "+be),qe(),D.trigger(f.Z.PLAYBACK_SEEKING,{seekTime:be,streamId:k.id})}}function yt(){c.info("Native video element event: seeked"),ee=!1,D.trigger(f.Z.PLAYBACK_SEEKED)}function st(){k&&D.trigger(f.Z.PLAYBACK_TIME_UPDATED,{timeToEnd:ie(),time:Oe(),streamId:k.id})}function bt(){D.trigger(f.Z.PLAYBACK_PROGRESS,{streamId:k.id})}function Pt(){var be=ut();c.info("Native video element event: ratechange: ",be),D.trigger(f.Z.PLAYBACK_RATE_CHANGED,{playbackRate:be})}function Xt(){c.info("Native video element event: loadedmetadata"),D.trigger(f.Z.PLAYBACK_METADATA_LOADED),qe()}function Wt(){c.info("Native video element event: loadeddata"),D.trigger(f.Z.PLAYBACK_LOADED_DATA)}function Jt(){c.info("Native video element event: ended"),V(),ht();var be=h?h.getActiveStreamInfo():null;be&&D.trigger(f.Z.PLAYBACK_ENDED,{isLast:be.isLast})}function an(){D.trigger(f.Z.PLAYBACK_VOLUME_CHANGED)}function pt(be){if(z&&be.isLast){c.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var Je=be.seekTime?be.seekTime:pe();w.setCurrentTime(Je),V(),ht()}}function kt(be){var Je=be.target||be.srcElement;D.trigger(f.Z.PLAYBACK_ERROR,{error:Je.error})}function jt(){W=!1}function qt(be){if(be.stream===!1&&X&&!isNaN(be.request.duration)){var Je=1.2*be.request.duration;Je>J&&(c.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",Je.toFixed(2)),J=Je,Q=Je)}}function Qt(be){D.trigger(f.Z.PLAYBACK_STALLED,{e:be})}function We(be){var Je;(Je=be.mediaInfo)&&Je.supplementalProperties&&Je.supplementalProperties[o.Z.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&Je.supplementalProperties[o.Z.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME].value==="true"&&(c.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),X=!0)}function ke(be){var Je=h.getActiveStreamInfo();be&&Je&&be.currentRepresentation&&be.streamId&&be.streamId===Je.id&&be.mediaType&&(be.mediaType===o.Z.VIDEO||be.mediaType===o.Z.AUDIO)&&(_e=be.currentRepresentation.availabilityTimeComplete,(X=!_e)&&!j&&(j=!0))}function ct(){T=!0}function Ee(){T=!1}return g={initialize:function(be,Je){k=be,Je!==!0&&(w.addEventListener("canplay",_t),w.addEventListener("canplaythrough",Et),w.addEventListener("play",Kt),w.addEventListener("waiting",Vt),w.addEventListener("playing",gn),w.addEventListener("pause",mn),w.addEventListener("error",kt),w.addEventListener("seeking",Ke),w.addEventListener("seeked",yt),w.addEventListener("timeupdate",st),w.addEventListener("progress",bt),w.addEventListener("ratechange",Pt),w.addEventListener("loadedmetadata",Xt),w.addEventListener("loadeddata",Wt),w.addEventListener("stalled",Qt),w.addEventListener("ended",Jt),w.addEventListener("volumechange",an),W=k.manifestInfo.isDynamic,ye=!1,ee=!1,D.on(f.Z.DATA_UPDATE_COMPLETED,Xe,g),D.on(f.Z.LOADING_PROGRESS,qt,g),D.on(f.Z.MANIFEST_UPDATED,ct,g),D.on(f.Z.STREAMS_COMPOSED,Ee,g),D.on(r.Z.PLAYBACK_ENDED,pt,g,{priority:E.Z.EVENT_PRIORITY_HIGH}),D.on(r.Z.STREAM_INITIALIZING,We,g),D.on(r.Z.REPRESENTATION_SWITCH,ke,g),D.on(r.Z.BUFFER_LEVEL_STATE_CHANGED,gt,g),D.on(r.Z.DYNAMIC_TO_STATIC,jt,g),K&&(K=!1,se()))},setConfig:function(be){be&&(be.streamController&&(h=be.streamController),be.serviceDescriptionController&&(I=be.serviceDescriptionController),be.dashMetrics&&(P=be.dashMetrics),be.adapter&&(O=be.adapter),be.videoModel&&(w=be.videoModel),be.timelineConverter&&(L=be.timelineConverter),be.settings&&(B=be.settings))},getTimeToStreamEnd:ie,getBufferLevel:function(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Je=null;return h.getActiveStreamProcessors().forEach(function(Nt){if(!be||be.length===0||be.indexOf(Nt.getType())===-1){var Lt=Nt.getBufferLevel();Je=Je===null?Lt:Math.min(Je,Lt)}}),Je},getPlaybackStalled:function(){return ye},getTime:Oe,getLowLatencyModeEnabled:function(){return X},getInitialCatchupModeActivated:function(){return j},getIsManifestUpdateInProgress:function(){return T},getPlaybackRate:ut,getPlayedRanges:function(){return k&&w?w.getPlayedRanges():null},getEnded:rt,getIsDynamic:it,getStreamController:function(){return h},computeAndSetLiveDelay:function(be,Je){var Nt,Lt,yn,xn=!isNaN(be)&&isFinite(be)?be:NaN,rr=O.getSuggestedPresentationDelay(),Ln=I.getServiceDescriptionSettings();return Nt=isNaN(B.get().streaming.delay.liveDelay)?B.get().streaming.delay.liveDelayFragmentCount===null||isNaN(B.get().streaming.delay.liveDelayFragmentCount)||isNaN(xn)?Ln&&!isNaN(Ln.liveDelay)&&Ln.liveDelay>0?Ln.liveDelay:B.get().streaming.delay.useSuggestedPresentationDelay===!0&&rr!==null&&!isNaN(rr)&&rr>0?rr:isNaN(xn)?Je&&!isNaN(Je.minBufferTime)?4*Je.minBufferTime:4*k.manifestInfo.minBufferTime:4*xn:xn*B.get().streaming.delay.liveDelayFragmentCount:B.get().streaming.delay.liveDelay,(yn=O.getAvailabilityStartTime())!==null&&(me=yn),Lt=Je&&Je.dvrWindowSize>0?Math.min(Nt,Je.dvrWindowSize):Nt,J=Lt,Q=Lt,Lt},getLiveDelay:function(){return J},getOriginalLiveDelay:function(){return Q},getCurrentLiveLatency:function(){if(!W||isNaN(me))return NaN;var be=Oe();if(isNaN(be)||be===0)return 0;var Je=new Date().getTime()+1e3*L.getClientTimeOffset();return Math.max(((Je-me-1e3*be)/1e3).toFixed(3),0)},play:se,isPaused:Ze,isStalled:lt,pause:V,isSeeking:xe,getStreamEndTime:pe,seek:le,seekToOriginalLive:function(){var be=arguments.length>0&&arguments[0]!==void 0&&arguments[0],Je=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Nt=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Lt=Se();if(Lt!==0){var yn=Lt-(J=Q);le(yn,be,Je,Nt)}},seekToCurrentLive:function(){var be=arguments.length>0&&arguments[0]!==void 0&&arguments[0],Je=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Nt=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Lt=Se();if(Lt!==0){var yn=Lt-J;le(yn,be,Je,Nt)}},reset:fe,updateCurrentTime:Ut,getAvailabilityStartTime:function(){return me}},c=(0,y.Z)(G).getInstance().getLogger(g),fe(),g}l.__dashjs_factory_name="PlaybackController";var p=R.Z.getSingletonFactory(l),N=S(3186),U="loading",q="executed",F="failed";function oe(g){var c,h,I,P,O=(g=g||{}).eventBus,w=g.events,L=g.dashMetrics,z=g.fragmentLoader,J=g.debug,Q=g.streamInfo,k=g.type;function W(T){var j;return!!T&&(j=!1,I.some(function(B){if(G=T,D=B,!isNaN(G.index)&&G.startTime===D.startTime&&G.adaptationIndex===D.adaptationIndex&&G.type===D.type||function(fe,ie){return isNaN(fe.index)&&isNaN(ie.index)&&fe.quality===ie.quality}(T,B)||function(fe,ie){return fe.action===N.Z.ACTION_COMPLETE&&fe.action===ie.action}(T,B))return j=!0;var G,D}),j)}function K(T){return isNaN(T.duration)?.25:Math.min(T.duration/8,.5)}function ve(T){I=I.filter(function(j){var B=K(j);return isNaN(j.startTime)||T!==void 0&&j.startTime>=T-B})}function ce(T,j){j<=T+.5||(I=I.filter(function(B){var G=K(B);return isNaN(B.startTime)||B.startTime>=j-G||isNaN(B.duration)||B.startTime+B.duration<=T+G}))}function me(T,j,B){for(var G=T.length-1;G>=0;G--){var D=T[G],fe=D.startTime,ie=fe+D.duration;if(B=isNaN(B)?K(D):B,!isNaN(fe)&&!isNaN(ie)&&j+B>=fe&&j-B<ie||isNaN(fe)&&isNaN(j))return D}return null}function _e(T,j){L.addSchedulingInfo(T,j),L.addRequestsQueue(T.mediaType,P,I)}function X(T){T.sender===z&&(P.splice(P.indexOf(T.request),1),T.response&&!T.error&&I.push(T.request),_e(T.request,T.error?F:q),O.trigger(w.FRAGMENT_LOADING_COMPLETED,{request:T.request,response:T.response,error:T.error,sender:this},{streamId:Q.id,mediaType:k}))}function ge(T){T.sender===z&&O.trigger(w.FRAGMENT_LOADING_PROGRESS,{request:T.request,response:T.response,error:T.error,sender:this},{streamId:Q.id,mediaType:k})}function ee(T){T.sender===z&&O.trigger(w.FRAGMENT_LOADING_ABANDONED,{request:T.request},{streamId:Q.id,mediaType:k})}function ye(){I=[],P=[]}return c={getStreamId:function(){return Q.id},getType:function(){return k},getRequests:function(T){var j=T?T.state instanceof Array?T.state:[T.state]:[],B=[];return j.forEach(function(G){var D=function(fe){var ie;switch(fe){case U:ie=P;break;case q:ie=I;break;default:ie=[]}return ie}(G);B=B.concat(function(fe,ie){return ie.hasOwnProperty("time")?[me(fe,ie.time,ie.threshold)]:fe.filter(function(pe){for(var se in ie)if(se!=="state"&&ie.hasOwnProperty(se)&&pe[se]!=ie[se])return!1;return!0})}(D,T))}),B},isFragmentLoaded:W,isFragmentLoadedOrPending:function(T){var j,B=!1,G=0;if(!(B=W(T)))for(G=0;G<P.length;G++)j=P[G],T.url===j.url&&T.startTime===j.startTime&&(B=!0);return B},removeExecutedRequestsBeforeTime:ve,removeExecutedRequestsAfterTime:function(T){I=I.filter(function(j){return isNaN(j.startTime)||T!==void 0&&j.startTime<T})},syncExecutedRequestsWithBufferedRange:function(T,j){if(T&&T.length!==0){for(var B=0,G=0,D=T.length;G<D;G++)ce(B,T.start(G)),B=T.end(G);j>0&&ce(B,j)}else ve()},abortRequests:function(){h.debug("abort requests"),z.abort(),P=[]},executeRequest:function(T){T.action===N.Z.ACTION_DOWNLOAD?(_e(T,U),P.push(T),function(j){O.trigger(w.FRAGMENT_LOADING_STARTED,{request:j},{streamId:Q.id,mediaType:k}),z.load(j)}(T)):h.warn("Unknown request action.")},reset:function(){O.off(w.LOADING_COMPLETED,X,this),O.off(w.LOADING_DATA_PROGRESS,ge,this),O.off(w.LOADING_ABANDONED,ee,this),z&&z.reset(),ye()},resetInitialSettings:ye,addExecutedRequest:function(T){I.push(T)}},h=J.getLogger(c),ye(),O.on(w.LOADING_COMPLETED,X,c),O.on(w.LOADING_DATA_PROGRESS,ge,c),O.on(w.LOADING_ABANDONED,ee,c),c}oe.__dashjs_factory_name="FragmentModel";var x=R.Z.getClassFactory(oe);x.FRAGMENT_MODEL_LOADING=U,x.FRAGMENT_MODEL_EXECUTED=q,x.FRAGMENT_MODEL_CANCELED="canceled",x.FRAGMENT_MODEL_FAILED=F,R.Z.updateClassFactory(oe.__dashjs_factory_name,x);var ne=x,de=S(5459);function $(g){return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},$(g)}function ue(g,c){return ue=Object.setPrototypeOf||function(h,I){return h.__proto__=I,h},ue(g,c)}function he(g,c){return!c||$(c)!=="object"&&typeof c!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):c}function Ne(g){return Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},Ne(g)}var ae=new(function(g){(function(O,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(w&&w.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),w&&ue(O,w)})(P,g);var c,h,I=(c=P,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,w=Ne(c);if(h){var L=Ne(this).constructor;O=Reflect.construct(w,arguments,L)}else O=w.apply(this,arguments);return he(this,O)});function P(){var O;return function(w,L){if(!(w instanceof L))throw new TypeError("Cannot call a class as a function")}(this,P),(O=I.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,O.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,O.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,O.SEGMENT_BASE_LOADER_ERROR_CODE=15,O.TIME_SYNC_FAILED_ERROR_CODE=16,O.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,O.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,O.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,O.APPEND_ERROR_CODE=20,O.REMOVE_ERROR_CODE=21,O.DATA_UPDATE_FAILED_ERROR_CODE=22,O.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,O.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,O.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,O.DOWNLOAD_ERROR_ID_SIDX_CODE=26,O.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,O.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,O.DOWNLOAD_ERROR_ID_XLINK_CODE=29,O.MANIFEST_ERROR_ID_PARSE_CODE=31,O.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,O.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,O.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,O.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,O.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",O.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",O.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",O.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",O.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",O.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",O.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",O.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",O.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",O.APPEND_ERROR_MESSAGE="chunk is not defined",O.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",O.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",O.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",O.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",O.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",O.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",O}return P}(S(2230).Z)),we=S(1264),Me=S(7855);function je(g){var c,h,I,P,O,w,L=this.context,z=(0,we.Z)(L).getInstance(),J=g.textController,Q=g.eventBus,k=[],W=[],K=!1,ve=g.mediaSource,ce=null;function me(D){return new Promise(function(fe){G(function(){P.changeType&&P.changeType(D),fe()})})}function _e(D){return P=J.getTextSourceBuffer(D),Promise.resolve()}function X(){if(typeof P.addEventListener=="function")try{P.addEventListener("updateend",j,!1),P.addEventListener("error",B,!1),P.addEventListener("abort",B,!1)}catch{w=setInterval(j,50)}else w=setInterval(j,50)}function ge(D){return new Promise(function(fe){P&&z.get().streaming.buffer.useAppendWindow?G(function(){try{if(!P)return void fe();var ie=ve.duration,pe=0;D&&!isNaN(D.start)&&!isNaN(D.duration)&&isFinite(D.duration)&&(ie=D.start+D.duration),D&&!isNaN(D.start)&&(pe=D.start),P.appendWindowEnd===ie&&P.appendWindowStart===pe||(P.appendWindowStart=0,P.appendWindowEnd=ie+.01,P.appendWindowStart=Math.max(pe-.1,0),I.debug("Updated append window for ".concat(O.type,". Set start to ").concat(P.appendWindowStart," and end to ").concat(P.appendWindowEnd))),fe()}catch{I.warn("Failed to set append window"),fe()}}):fe()})}function ee(D){return new Promise(function(fe){P?G(function(){try{P.timestampOffset===D||isNaN(D)||(P.timestampOffset=D,I.debug("Set MSE timestamp offset to ".concat(D))),fe()}catch{fe()}}):fe()})}function ye(){if(!K&&W.length>0){K=!0;var D=W[0];W.splice(0,1);var fe=function(){K=!1,W.length>0&&ye.call(this),D&&D.data&&D.data.segmentType&&D.data.segmentType!==Me.w.INIT_SEGMENT_TYPE&&delete D.data.bytes,D.promise.resolve({chunk:D.data})};try{ce=D.request,D.data.bytes.byteLength===0?fe.call(this):(P.appendBuffer?P.appendBuffer(D.data.bytes):P.append(D.data.bytes,D.data),G(fe.bind(this)))}catch(ie){I.fatal('SourceBuffer append failed "'+ie+'"'),W.length>0?ye():K=!1,delete D.data.bytes,D.promise.reject({chunk:D.data,error:new de.Z(ie.code,ie.message)})}}}function T(){k.length>0&&(P.updating||(k.shift()(),T()))}function j(){P.updating||T()}function B(D){var fe,ie,pe=D.target||{};fe=f.Z.SOURCE_BUFFER_ERROR,ie={error:pe,lastRequestAppended:ce},Q.trigger(fe,ie,{streamId:O.streamInfo.id,mediaType:h})}function G(D){k.push(D),P.updating||T()}return c={getType:function(){return h},getAllBufferRanges:function(){try{return P.buffered}catch(D){return I.error("getAllBufferRanges exception: "+D.message),null}},getBuffer:function(){return P},append:function(D){var fe=this,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new Promise(function(pe,se){D?(W.push({data:D,promise:{resolve:pe,reject:se},request:ie}),G(ye.bind(fe))):se({chunk:D,error:new de.Z(ae.APPEND_ERROR_CODE,ae.APPEND_ERROR_MESSAGE)})})},remove:function(D){return new Promise(function(fe,ie){var pe=D.start,se=D.end;pe>=0&&se>pe?G(function(){try{P.remove(pe,se),G(function(){fe({from:pe,to:se,unintended:!1}),D.resolve&&D.resolve()})}catch(V){ie({from:pe,to:se,unintended:!1,error:new de.Z(ae.REMOVE_ERROR_CODE,ae.REMOVE_ERROR_MESSAGE)}),D.reject&&D.reject(V)}}):fe()})},abort:function(){return new Promise(function(D){try{W=[],ve.readyState==="open"?G(function(){try{P&&P.abort(),D()}catch{D()}}):(P&&P.setTextTrack&&ve.readyState==="ended"&&P.abort(),D())}catch{D()}})},reset:function(){if(P){try{k=[],function(){try{typeof P.removeEventListener=="function"&&(P.removeEventListener("updateend",j,!1),P.removeEventListener("error",B,!1),P.removeEventListener("abort",B,!1)),clearInterval(w)}catch(D){I.error(D)}}(),K=!1,W=[],P.getClassName&&P.getClassName()==="TextSourceBuffer"||(I.debug("Removing sourcebuffer from media source"),ve.removeSourceBuffer(P))}catch{}P=null}ce=null},updateTimestampOffset:ee,initializeForStreamSwitch:function(D,fe,ie){h=(O=D).type;var pe=O.codec;(function(V){P=V.getBuffer()})(ie),X();var se=[];return se.push(new Promise(function(V){G(function(){var le=P.appendWindowStart,Se=P.appendWindowEnd;P&&(P.abort(),P.appendWindowStart=le,P.appendWindowEnd=Se),V()})})),se.push(ge(O.streamInfo)),z.get().streaming.buffer.useChangeTypeForTrackSwitch&&se.push(me(pe)),fe&&fe.MSETimeOffset!==void 0&&se.push(ee(fe.MSETimeOffset)),Promise.all(se)},initializeForFirstUse:function(D,fe,ie){h=(O=fe).type;var pe=O.codec;try{if(pe.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return _e(D);P=ve.addSourceBuffer(pe),X();var se=[];return se.push(ge(O.streamInfo)),ie&&ie.MSETimeOffset!==void 0&&se.push(ee(ie.MSETimeOffset)),Promise.all(se)}catch(V){return O.type==o.Z.TEXT&&!O.isFragmented||pe.indexOf('codecs="stpp')!==-1||pe.indexOf('codecs="vtt')!==-1||pe.indexOf("text/vtt")!==-1?_e(D):Promise.reject(V)}},updateAppendWindow:ge,changeType:me},I=(0,y.Z)(L).getInstance().getLogger(c),c}je.__dashjs_factory_name="SourceBufferSink";var Ie=R.Z.getClassFactory(je);function Le(g){var c,h,I,P=this.context,O=[],w=g;function L(z,J){return O=O.filter(function(Q){return!((isNaN(J)||Q.start<J)&&(isNaN(z)||Q.end>z))}),Promise.resolve()}return c={getAllBufferRanges:function(){for(var z=[],J=0;J<O.length;J++){var Q=O[J];z.length===0||Q.start>z[z.length-1].end?z.push({start:Q.start,end:Q.end}):z[z.length-1].end=Q.end}var k={start:function(W){return z[W].start},end:function(W){return z[W].end}};return Object.defineProperty(k,"length",{get:function(){return z.length}}),k},append:function(z){return z.segmentType!=="InitializationSegment"?(O.push(z),O.sort(function(J,Q){return J.start-Q.start}),I=null):I=z,h.debug("PreBufferSink appended chunk s: "+z.start+"; e: "+z.end),w&&w({chunk:z}),Promise.resolve()},remove:L,abort:function(){return Promise.resolve()},discharge:function(z,J){var Q=function(k,W){return O.filter(function(K){return(isNaN(W)||K.start<W)&&(isNaN(k)||K.end>k)})}(z,J);return I&&(Q.push(I),I=null),L(z,J),Q},reset:function(){O=[],I=null,w=null},updateTimestampOffset:function(){return Promise.resolve()},waitForUpdateEnd:function(z){z()},getBuffer:function(){return this}},h=(0,y.Z)(P).getInstance().getLogger(c),c}Le.__dashjs_factory_name="PreBufferSink";var Qe=R.Z.getClassFactory(Le);function nt(){var g={};return{save:function(c){var h=c.streamId,I=c.representationId;g[h]=g[h]||{},g[h][I]=c},extract:function(c,h){return g&&g[c]&&g[c][h]?g[c][h]:null},reset:function(){g={}}}}nt.__dashjs_factory_name="InitCache";var Re=R.Z.getSingletonFactory(nt),Fe=.01,Tt="BufferController";function vt(g){g=g||{};var c,h,I,P,O,w,L,z,J,Q,k,W,K,ve,ce,me,_e,X,ge,ee,ye,T=this.context,j=(0,E.Z)(T).getInstance(),B=g.errHandler,G=g.fragmentModel,D=g.representationController,fe=g.adapter,ie=g.textController,pe=g.abrController,se=g.playbackController,V=g.streamInfo,le=g.type,Se=g.settings;function Ue(ke){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new Promise(function(Ee,be){w=ke,J&&ct&&typeof J.discharge=="function"?(Q=J,Ze(ct).then(function(){Ee()}).catch(function(Je){be(Je)})):Ee()})}function Oe(ke){return fe.convertRepresentationToRepresentationInfo(D.getRepresentationForQuality(ke))}function Ze(ke){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return new Promise(function(Ee,be){X&&ke?w?(k=!1,lt(ke,ct).then(function(Je){Ee(Je)}).catch(function(Je){be(Je)})):(k=!0,xe().then(function(Je){Ee(Je)}).catch(function(Je){be(Je)})):Ee(null)})}function xe(){var ke=this;return new Promise(function(ct,Ee){var be=pe.getQualityFor(le,V.id);J=Qe(T).create(Ce.bind(ke)),Xt(Oe(be)).then(function(){ct(J)}).catch(function(){Ee()})})}function lt(ke,ct){return new Promise(function(Ee,be){var Je=pe.getQualityFor(le,V.id);J=Ie(T).create({mediaSource:w,textController:ie,eventBus:j}),function(Nt,Lt,yn){var xn=Oe(yn);return Lt&&Lt[le]&&(le===o.Z.VIDEO||le===o.Z.AUDIO)?J.initializeForStreamSwitch(Nt,xn,Lt[le]):J.initializeForFirstUse(V,Nt,xn)}(ke,ct,Je).then(function(){return Xt(Oe(Je))}).then(function(){Ee(J)}).catch(function(Nt){h.fatal("Caught error on create SourceBuffer: "+Nt),B.error(new de.Z(ae.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,ae.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+le)),be(Nt)})})}function ut(ke){Se.get().streaming.cacheInitSegments&&(h.info("Init fragment finished loading saving to",le+"'s init cache"),X.save(ke.chunk)),h.debug("Append Init fragment",le," with representationId:",ke.chunk.representationId," and quality:",ke.chunk.quality,", data size:",ke.chunk.bytes.byteLength),it(ke.chunk)}function rt(ke){it(ke.chunk,ke.request)}function it(ke){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;J&&(J.append(ke,ct).then(function(Ee){Ce(Ee)}).catch(function(Ee){Ce(Ee)}),ke.mediaInfo.type===o.Z.VIDEO&&Qt(f.Z.VIDEO_CHUNK_RECEIVED,{chunk:ke}))}function Ut(ke){if(ke&&ke.length>0)for(var ct=0,Ee=ke.length;ct<Ee;ct++)h.debug("Buffered range: "+ke.start(ct)+" - "+ke.end(ct)+", currentTime = ",se.getTime())}function Ce(ke){if(ke.error)return ke.error.code===22&&function(){if(_e=!0,O=.8*kt(),h.warn("Quota exceeded, Critical Buffer: "+O),O>0){var be=Math.max(.2*O,1),Je=O-be,Nt=Math.min(Se.get().streaming.buffer.bufferTimeAtTopQuality,.9*Je),Lt=Math.min(Se.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*Je),yn={streaming:{buffer:{bufferToKeep:parseFloat(be.toFixed(5)),bufferTimeAtTopQuality:parseFloat(Nt.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(Lt.toFixed(5))}}};Se.update(yn)}}(),void(ke.error.code!==22&&qt()||(h.warn("Clearing playback buffer to overcome quota exceed situation"),Qt(f.Z.QUOTA_EXCEEDED,{criticalBufferLevel:O,quotaExceededTime:ke.chunk.start}),st(yt())));if(J&&(Kt(),_e=!1,(ve=ke.chunk)&&ve.endFragment)){ve&&!isNaN(ve.index)&&(L=Math.max(ve.index,L),Vt());var ct=J.getAllBufferRanges();ve.segmentType===Me.w.MEDIA_SEGMENT_TYPE&&(Ut(ct),Xe(),function(){if(!isNaN(ye)&&!k)if(le===o.Z.AUDIO||le===o.Z.VIDEO){var be=se.getTime(),Je=gt(be,0),Nt=gt(ye,0);if(Je&&Nt&&Je.start===Nt.start)ye=NaN;else{var Lt=D.getCurrentRepresentation().segmentDuration,yn=gt(ye,Lt);yn&&(Se.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(be-ye)>Lt?ye<=yn.end&&se.seek(Math.max(ye,yn.start),!1,!0):be<yn.start&&se.seek(yn.start,!1,!0))}}else ye=NaN}());var Ee=!1;W&&(W.indexOf(ve)>0&&(Ee=!0),W=null),ve&&!Ee&&Qt(f.Z.BYTES_APPENDED_END_FRAGMENT,{quality:ve.quality,startTime:ve.start,index:ve.index,bufferedRanges:ct,segmentType:ve.segmentType,mediaType:le})}}function qe(){return new Promise(function(ke,ct){var Ee=ht();if(!Ee||Ee.length===0)return Xe(),void ke();st(Ee).then(function(){ke()}).catch(function(be){ct(be)})})}function ht(ke){var ct=[],Ee=J.getAllBufferRanges();if(!Ee||Ee.length===0)return ct;if(!ke&&ke!==0||isNaN(ke))ct.push({start:Ee.start(0),end:Ee.end(Ee.length-1)+.5});else{var be=function(Nt,Lt){var yn=Se.get().streaming.buffer.bufferToKeep,xn=Lt.start(0);if(Nt-xn>yn){var rr=Math.max(0,Nt-yn),Ln=G.getRequests({state:ne.FRAGMENT_MODEL_EXECUTED,time:Nt,threshold:Fe})[0];if(Ln&&(rr=Math.min(Ln.startTime,rr)),rr>0)return{start:xn,end:rr}}return null}(ke,Ee),Je=function(Nt,Lt){var yn=Lt.end(Lt.length-1)+.5,xn=jt(Nt),rr=V.manifestInfo.duration>=Se.get().streaming.buffer.longFormContentDurationThreshold?Se.get().streaming.buffer.bufferTimeAtTopQualityLongForm:Se.get().streaming.buffer.bufferTimeAtTopQuality,Ln=isNaN(xn)?Nt:Math.min(xn,Nt+rr);if(Ln>=Lt.end(Lt.length-1))return null;var Or=G.getRequests({state:ne.FRAGMENT_MODEL_EXECUTED,time:Nt,threshold:Fe})[0];if(Or&&(Ln=Math.max(Or.startTime+Or.duration,Ln)),Se.get().streaming.buffer.avoidCurrentTimeRangePruning){for(var lr=0;lr<Lt.length;lr++)if(Lt.start(lr)<=Nt&&Nt<=Lt.end(lr)&&Lt.start(lr)<=Ln&&Ln<=Lt.end(lr)){var Zi=Ln;Ln=lr+1<Lt.length?Lt.start(lr+1):Lt.end(lr)+1,h.debug("Buffered range ["+Lt.start(lr)+", "+Lt.end(lr)+"] overlaps with targetTime "+Nt+" and range to be pruned ["+Zi+", "+yn+"], using ["+Ln+", "+yn+"] instead"+(Ln<yn?"":" (no actual pruning)"));break}}return Ln<Lt.end(Lt.length-1)?{start:Ln,end:yn}:null}(ke,Ee);be&&ct.push(be),Je&&ct.push(Je)}return ct}function Xe(){(!ee||le===o.Z.TEXT&&ie.isTextEnabled())&&Kt()}function _t(){gn()}function Et(){gn(),ye=NaN}function gt(ke,ct){if(!J)return null;var Ee,be,Je=J.getAllBufferRanges(),Nt=0,Lt=0,yn=null,xn=null,rr=0,Ln=isNaN(ct)?.15:ct;if(Je!=null){for(be=0,Ee=Je.length;be<Ee;be++)if(Nt=Je.start(be),Lt=Je.end(be),yn===null)rr=Math.abs(Nt-ke),(ke>=Nt&&ke<Lt||rr<=Ln)&&(yn=Nt,xn=Lt);else{if(!((rr=Nt-xn)<=Ln))break;xn=Lt}if(yn!==null)return{start:yn,end:xn}}return null}function Kt(){if(se){var ke=se.getTime()||0;k&&(ke=isNaN(ye)?0:ye);var ct=Se.get().streaming.gaps.jumpGaps&&!isNaN(Se.get().streaming.gaps.smallGapLimit)?Se.get().streaming.gaps.smallGapLimit:NaN;P=Math.max(function(Ee,be){var Je;return Se.get().streaming.gaps.jumpGaps&&(be=Se.get().streaming.gaps.smallGapLimit),(Je=gt(Ee,be))===null?0:Je.end-Ee}(ke,ct),0),Qt(f.Z.BUFFER_LEVEL_UPDATED,{mediaType:le,bufferLevel:P}),gn()}}function Vt(){var ke=L>=z-1,ct=se.getTimeToStreamEnd(V)-P<1e-5;!ke&&!ct||I||(pt(!0),h.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(V.id," and type ").concat(le)))}function gn(){le!==o.Z.AUDIO&&le!==o.Z.VIDEO||((!se.getLowLatencyModeEnabled()&&P<Se.get().streaming.buffer.stallThreshold||P===0)&&!I?mn(_.Z.BUFFER_EMPTY):(I||P>=Se.get().streaming.buffer.stallThreshold||se.getLowLatencyModeEnabled()&&P>0)&&mn(_.Z.BUFFER_LOADED))}function mn(ke){K===ke||ke===_.Z.BUFFER_EMPTY&&se.getTime()===0||le===o.Z.TEXT&&!ie.isTextEnabled()||(K=ke,Qt(f.Z.BUFFER_LEVEL_STATE_CHANGED,{state:ke}),Qt(ke===_.Z.BUFFER_LOADED?f.Z.BUFFER_LOADED:f.Z.BUFFER_EMPTY),h.debug(ke===_.Z.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function Ke(){J&&le!==o.Z.TEXT&&(I||st(yt()))}function yt(){var ke=[],ct=J.getAllBufferRanges();if(!ct||ct.length===0)return ke;var Ee=se.getTime(),be=Math.max(0,Ee-Se.get().streaming.buffer.bufferToKeep),Je=G.getRequests({state:ne.FRAGMENT_MODEL_EXECUTED,time:Ee,threshold:Fe})[0];if(Je)be=Math.min(Je.startTime,be);else if(Ee===0&&se.getIsDynamic())return[];if(ct.start(0)<=be){for(var Nt={start:0,end:be},Lt=0;Lt<ct.length&&ct.end(Lt)<=be;Lt++)Nt.end=ct.end(Lt);Nt.start<Nt.end&&ke.push(Nt)}return ke}function st(ke){return new Promise(function(ct,Ee){if(ke&&J&&ke.length!==0){var be=[];ke.forEach(function(Je){be.push(function(Nt){return new Promise(function(Lt,yn){Nt.resolve=Lt,Nt.reject=yn,ge.push(Nt)})}(Je))}),me||bt(),Promise.all(be).then(function(){ct()}).catch(function(Je){Ee(Je)})}else ct()})}function bt(){try{if(ge.length===0||!J)return h.debug("Nothing to prune, halt pruning"),ge=[],void(me=!1);var ke=J.getBuffer();if(!ke||!ke.buffered||ke.buffered.length===0)return h.debug("SourceBuffer is empty (or does not exist), halt pruning"),ge=[],void(me=!1);var ct=ge.shift();h.debug("".concat(le,": Removing buffer from: ").concat(ct.start," to ").concat(ct.end)),me=!0,se.getTime()<ct.end&&pt(!1),J.remove(ct).then(function(Ee){Pt(Ee)}).catch(function(Ee){Pt(Ee)})}catch{me=!1}}function Pt(ke){h.debug("onRemoved buffer from:",ke.from,"to",ke.to),J&&(Ut(J.getAllBufferRanges()),ge.length===0&&(me=!1,Kt()),ke.unintended&&(h.warn("Detected unintended removal from:",ke.from,"to",ke.to,"setting streamprocessor time to",ke.from),Qt(f.Z.SEEK_TARGET,{time:ke.from})),me?bt():(ee?ee=!1:Kt(),Qt(f.Z.BUFFER_CLEARED,{from:ke.from,to:ke.to,unintended:ke.unintended,hasEnoughSpaceToAppend:qt(),quotaExceeded:_e})))}function Xt(ke){return new Promise(function(ct){ke&&ke.MSETimeOffset!==void 0&&J&&J.updateTimestampOffset?J.updateTimestampOffset(ke.MSETimeOffset).then(function(){ct()}).catch(function(){ct()}):ct()})}function Wt(){return J&&!I?J.updateAppendWindow(V):Promise.resolve()}function Jt(){++ce*(Se.get().streaming.wallclockTimeUpdateInterval/1e3)>=Se.get().streaming.buffer.bufferPruningInterval&&(ce=0,Ke())}function an(){gn()}function pt(ke){(I=ke)?Qt(f.Z.BUFFERING_COMPLETED):z=Number.POSITIVE_INFINITY}function kt(){try{var ke,ct,Ee=J.getAllBufferRanges(),be=0;if(!Ee)return be;for(ct=0,ke=Ee.length;ct<ke;ct++)be+=Ee.end(ct)-Ee.start(ct);return be}catch{return 0}}function jt(ke){try{var ct=ke,Ee=J.getAllBufferRanges();if(!Ee||Ee.length===0)return NaN;for(var be=0;ct===ke&&be<Ee.length;){var Je=Ee.start(be),Nt=Ee.end(be);ct>=Je&&ct<=Nt&&(ct=Nt),be+=1}return ct===ke?NaN:ct}catch{}}function qt(){var ke=kt();return isNaN(ke)||ke<O}function Qt(ke,ct){var Ee=ct||{};j.trigger(ke,Ee,{streamId:V.id,mediaType:le})}function We(ke,ct){if(O=Number.POSITIVE_INFINITY,K=void 0,z=Number.POSITIVE_INFINITY,L=0,ve=null,I=!1,me=!1,_e=!1,P=0,ce=0,ge=[],ye=NaN,k=!1,J){var Ee=J;J=null,ke||ct||Ee.abort().then(function(){Ee.reset(ct),Ee=null})}ee=!1}return c={initialize:function(ke){Ue(ke),j.on(f.Z.INIT_FRAGMENT_LOADED,ut,c),j.on(f.Z.MEDIA_FRAGMENT_LOADED,rt,c),j.on(f.Z.WALLCLOCK_TIME_UPDATED,Jt,c),j.on(r.Z.PLAYBACK_PLAYING,Et,c),j.on(r.Z.PLAYBACK_PROGRESS,Xe,c),j.on(r.Z.PLAYBACK_TIME_UPDATED,Xe,c),j.on(r.Z.PLAYBACK_RATE_CHANGED,an,c),j.on(r.Z.PLAYBACK_STALLED,_t,c)},getStreamId:function(){return V.id},getType:function(){return le},getBufferControllerType:function(){return Tt},createBufferSink:Ze,dischargePreBuffer:function(){if(J&&Q&&typeof Q.discharge=="function"){var ke=Q.getAllBufferRanges();if(ke.length>0){for(var ct="Beginning "+le+"PreBuffer discharge, adding buffer for:",Ee=0;Ee<ke.length;Ee++)ct+=" start: "+ke.start(Ee)+", end: "+ke.end(Ee)+";";h.debug(ct)}else h.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");W=[];for(var be=Q.discharge(),Je=null,Nt=0;Nt<be.length;Nt++){var Lt=be[Nt];if(Lt.segmentType!==Me.w.INIT_SEGMENT_TYPE){var yn=X.extract(Lt.streamId,Lt.representationId);yn&&Je!==yn&&(W.push(yn),J.append(yn),Je=yn)}W.push(Lt),J.append(Lt)}Q.reset(),Q=null}},getBuffer:function(){return J},getBufferLevel:function(){return P},getRangeAt:gt,hasBufferAtTime:function(ke){try{var ct=J.getAllBufferRanges();if(!ct||ct.length===0)return!1;for(var Ee=0;Ee<ct.length;){var be=ct.start(Ee),Je=ct.end(Ee);if(ke>=be&&ke<=Je)return!0;Ee+=1}return!1}catch(Nt){return h.error(Nt),!1}},pruneBuffer:Ke,setMediaSource:Ue,getMediaSource:function(){return w},appendInitSegmentFromCache:function(ke){var ct=X.extract(V.id,ke);return!!ct&&(h.info("Append Init fragment",le," with representationId:",ct.representationId," and quality:",ct.quality,", data size:",ct.bytes.byteLength),it(ct),!0)},getIsBufferingCompleted:function(){return I},setIsBufferingCompleted:pt,getIsPruningInProgress:function(){return me},reset:function(ke,ct){j.off(f.Z.INIT_FRAGMENT_LOADED,ut,this),j.off(f.Z.MEDIA_FRAGMENT_LOADED,rt,this),j.off(f.Z.WALLCLOCK_TIME_UPDATED,Jt,this),j.off(r.Z.PLAYBACK_PLAYING,Et,this),j.off(r.Z.PLAYBACK_PROGRESS,Xe,this),j.off(r.Z.PLAYBACK_TIME_UPDATED,Xe,this),j.off(r.Z.PLAYBACK_RATE_CHANGED,an,this),j.off(r.Z.PLAYBACK_STALLED,_t,this),We(ke,ct)},prepareForPlaybackSeek:function(){return I&&pt(!1),J.abort()},prepareForReplacementTrackSwitch:function(ke){return new Promise(function(ct,Ee){J.abort().then(function(){return Wt()}).then(function(){return Se.get().streaming.buffer.useChangeTypeForTrackSwitch?J.changeType(ke):Promise.resolve()}).then(function(){return qe()}).then(function(){pt(!1),ct()}).catch(function(be){Ee(be)})})},prepareForNonReplacementTrackSwitch:function(ke){return new Promise(function(ct,Ee){Wt().then(function(){return Se.get().streaming.buffer.useChangeTypeForTrackSwitch?J.changeType(ke):Promise.resolve()}).then(function(){ct()}).catch(function(be){Ee(be)})})},prepareForForceReplacementQualitySwitch:function(ke){return new Promise(function(ct,Ee){J.abort().then(function(){return Wt()}).then(function(){return qe()}).then(function(){return Xt(ke)}).then(function(){pt(!1),ct()}).catch(function(be){Ee(be)})})},updateAppendWindow:Wt,getAllRangesWithSafetyFactor:ht,getContinuousBufferTimeForTargetTime:jt,clearBuffers:st,pruneAllSafely:qe,updateBufferTimestampOffset:Xt,setSeekTarget:function(ke){ye=ke},segmentRequestingCompleted:function(ke){isNaN(ke)||(z=ke,Vt())}},h=(0,y.Z)(T).getInstance().getLogger(c),X=Re(T).getInstance(),We(),c}vt.__dashjs_factory_name=Tt;var ze=R.Z.getClassFactory(vt),at="NotFragmentedTextBufferController";function Te(g){g=g||{};var c,h,I,P,O,w,L=this.context,z=(0,E.Z)(L).getInstance(),J=g.textController,Q=g.errHandler,k=g.streamInfo,W=g.type;function K(me){P=me}function ve(me){var _e,X;h!==me&&(h=me)&&(_e=f.Z.BUFFERING_COMPLETED,X={},z.trigger(_e,X,{streamId:k.id,mediaType:W}))}function ce(me){me.chunk.bytes&&!h&&(w.save(me.chunk),O.append(me.chunk),ve(!0))}return c={initialize:function(me){K(me)},getStreamId:function(){return k.id},getType:function(){return W},getBufferControllerType:function(){return at},createBufferSink:function(me){return new Promise(function(_e,X){try{(O=Ie(L).create({mediaSource:P,textController:J,eventBus:z})).initializeForFirstUse(k,me),I||(O.getBuffer()&&typeof O.getBuffer().initialize=="function"&&O.getBuffer().initialize(),I=!0),_e(O)}catch(ge){Q.error(new de.Z(ae.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,ae.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+W)),X(ge)}})},dischargePreBuffer:function(){},getBuffer:function(){return O},getBufferLevel:function(){return 0},getRangeAt:function(){return null},pruneBuffer:function(){},hasBufferAtTime:function(){return!0},getAllRangesWithSafetyFactor:function(){return[]},getContinuousBufferTimeForTargetTime:function(){return Number.POSITIVE_INFINITY},setMediaSource:K,getMediaSource:function(){return P},appendInitSegmentFromCache:function(me){return w.extract(k.id,me)!==null},getIsBufferingCompleted:function(){return h},setIsBufferingCompleted:ve,getIsPruningInProgress:function(){return!1},reset:function(me){z.off(f.Z.INIT_FRAGMENT_LOADED,ce,c),!me&&O&&(O.abort(),O.reset(),O=null)},clearBuffers:function(){return Promise.resolve()},prepareForPlaybackSeek:function(){return Promise.resolve()},prepareForReplacementTrackSwitch:function(){return h=!1,Promise.resolve()},setSeekTarget:function(){},updateAppendWindow:function(){return Promise.resolve()},pruneAllSafely:function(){return Promise.resolve()},updateBufferTimestampOffset:function(){return Promise.resolve()},segmentRequestingCompleted:function(){}},I=!1,P=null,h=!1,w=Re(L).getInstance(),z.on(f.Z.INIT_FRAGMENT_LOADED,ce,c),c}Te.__dashjs_factory_name=at;var Ae=R.Z.getClassFactory(Te);function He(g){g=g||{};var c,h,I,P,O,w,L,z,J,Q,k,W,K,ve=this.context,ce=(0,E.Z)(ve).getInstance(),me=g.dashMetrics,_e=g.mediaPlayerModel,X=g.fragmentModel,ge=g.abrController,ee=g.playbackController,ye=g.textController,T=g.type,j=g.bufferController,B=g.representationController,G=g.settings;function D(){W=!0}function fe(){W=!1}function ie(lt){if(!j.getIsBufferingCompleted()){pe();var ut=isNaN(lt)?0:lt;O=setTimeout(se,ut)}}function pe(){O&&(clearTimeout(O),O=null)}function se(){try{if(function(){try{return T===o.Z.TEXT&&!ye.isTextEnabled()||ee.isPaused()&&(!ee.getStreamController().getInitialPlayback()||!ee.getStreamController().getAutoPlay())&&!G.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void pe();if(function(){try{return!!W&&B.getCurrentRepresentationInfo()&&(isNaN(J)||Q||(rt=h.id,it=ge.getMaxAllowedIndexFor(T,rt),!(!isNaN(z)&&z==it||(I.info("Top quality "+T+" index has changed from "+z+" to "+it),z=it,0)))||function(){var Ut=B.getCurrentRepresentationInfo();return!T||!Ut||me.getCurrentBufferLevel(T)<V()}())}catch{return!1}var rt,it}()){var lt=!1;K&&(lt=ge.checkPlaybackQuality(T,h.id)),lt||(ut=B.getCurrentRepresentationInfo(),k||ut.quality!==J||Q?(Q?(I.debug("Switch track for "+T+", representation id = "+ut.id),Q=!1):I.debug("Quality has changed, get init request for representationid = "+ut.id),ce.trigger(f.Z.INIT_FRAGMENT_NEEDED,{representationId:ut.id,sender:c},{streamId:h.id,mediaType:T}),K=!1,k=!1):(I.debug("Media segment needed for ".concat(T," and stream id ").concat(h.id)),ce.trigger(f.Z.MEDIA_FRAGMENT_NEEDED,{},{streamId:h.id,mediaType:T}),K=!0))}else ie(ee.getLowLatencyModeEnabled()?G.get().streaming.scheduling.lowLatencyTimeout:G.get().streaming.scheduling.defaultTimeout)}catch{ie(ee.getLowLatencyModeEnabled()?G.get().streaming.scheduling.lowLatencyTimeout:G.get().streaming.scheduling.defaultTimeout)}var ut}function V(){var lt=NaN,ut=B.getCurrentRepresentationInfo();return T&&ut&&(lt=T===o.Z.TEXT?function(){try{if(ye.isTextEnabled()){var rt=B.getCurrentRepresentationInfo();if(isNaN(rt.fragmentDuration)){var it=me.getCurrentSchedulingInfo(_.Z.SCHEDULING_INFO);return it?it.duration:0}return rt.fragmentDuration}return 0}catch{return 0}}():T===o.Z.AUDIO&&w?function(){try{var rt=me.getCurrentBufferLevel(o.Z.VIDEO),it=B.getCurrentRepresentationInfo();return isNaN(it.fragmentDuration)?rt+1:Math.max(rt+1,it.fragmentDuration)}catch{return 0}}():function(){try{var rt=B.getCurrentRepresentationInfo().mediaInfo.streamInfo;return ge.isPlayingAtTopQuality(rt)?rt.manifestInfo.duration>=G.get().streaming.buffer.longFormContentDurationThreshold?G.get().streaming.buffer.bufferTimeAtTopQualityLongForm:G.get().streaming.buffer.bufferTimeAtTopQuality:_e.getStableBufferTime()}catch{return _e.getStableBufferTime()}}()),lt}function le(){Se(!0)}function Se(lt){if(ee&&X){var ut=X.getRequests({state:ne.FRAGMENT_MODEL_EXECUTED,time:ee.getTime(),threshold:0})[0];ut&&ee.getTime()>=ut.startTime&&((!L.mediaInfo||ut.mediaInfo.type===L.mediaInfo.type&&ut.mediaInfo.index!==L.mediaInfo.index)&&lt&&ce.trigger(f.Z.TRACK_CHANGE_RENDERED,{mediaType:T,oldMediaInfo:L.mediaInfo,newMediaInfo:ut.mediaInfo,streamId:h.id}),ut.quality===L.quality&&ut.adaptationIndex===L.adaptationIndex||!lt||(I.debug("Quality change rendered for streamId ".concat(h.id," and type ").concat(T)),ce.trigger(f.Z.QUALITY_CHANGE_RENDERED,{mediaType:T,oldQuality:L.quality,newQuality:ut.quality,streamId:h.id})),L={mediaInfo:ut.mediaInfo,quality:ut.quality,adaptationIndex:ut.adaptationIndex})}}function Ue(){X.abortRequests(),pe()}function Oe(){G.get().streaming.scheduling.scheduleWhilePaused||ie()}function Ze(lt){me.updatePlayListTraceMetrics({playbackspeed:lt.playbackRate.toString()})}function xe(){K=!0,P=0,J=NaN,L={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},z=NaN,Q=!1,k=!1,W=!0}return c={initialize:function(lt){w=lt,ce.on(f.Z.URL_RESOLUTION_FAILED,Ue,c),ce.on(r.Z.PLAYBACK_STARTED,Oe,c),ce.on(r.Z.PLAYBACK_RATE_CHANGED,Ze,c),ce.on(r.Z.PLAYBACK_TIME_UPDATED,le,c),ce.on(r.Z.MANAGED_MEDIA_SOURCE_START_STREAMING,D,c),ce.on(r.Z.MANAGED_MEDIA_SOURCE_END_STREAMING,fe,c)},getType:function(){return T},getStreamId:function(){return h.id},setTimeToLoadDelay:function(lt){P=lt},getTimeToLoadDelay:function(){return P},setSwitchTrack:function(lt){Q=lt},getSwitchTrack:function(){return Q},startScheduleTimer:ie,clearScheduleTimer:pe,reset:function(){ce.off(f.Z.URL_RESOLUTION_FAILED,Ue,c),ce.off(r.Z.PLAYBACK_STARTED,Oe,c),ce.off(r.Z.PLAYBACK_RATE_CHANGED,Ze,c),ce.off(r.Z.PLAYBACK_TIME_UPDATED,le,c),ce.off(r.Z.MANAGED_MEDIA_SOURCE_START_STREAMING,D,c),ce.off(r.Z.MANAGED_MEDIA_SOURCE_END_STREAMING,fe,c),pe(),Se(!1),xe(),h=null},getBufferTarget:V,getPlaybackController:function(){return ee},setCheckPlaybackQuality:function(lt){K=lt},setInitSegmentRequired:function(lt){k=lt},setLastInitializedQuality:function(lt){J=lt}},I=(0,y.Z)(ve).getInstance().getLogger(c),xe(),h=g.streamInfo,c}He.__dashjs_factory_name="ScheduleController";var m=R.Z.getClassFactory(He),d=S(7387);function b(g){var c,h,I,P,O,w,L=(g=g||{}).eventBus,z=g.events,J=g.abrController,Q=g.dashMetrics,k=g.playbackController,W=g.timelineConverter,K=g.type,ve=g.streamInfo,ce=g.dashConstants,me=g.segmentsController,_e=g.isDynamic,X=g.adapter;function ge(){return K}function ee(){return I}function ye(){return w}function T(){h=null,I=!0,P=[],O=null}function j(pe){return new Promise(function(se,V){var le=pe.hasInitialization(),Se=pe.hasSegments(),Ue=[];Ue.push(me.updateInitData(pe,le)),Ue.push(me.updateSegmentData(pe,Se)),Promise.all(Ue).then(function(Oe){var Ze;Oe[0]&&!Oe[0].error&&(pe=function(xe,lt){return lt&&!lt.error&&lt.representation?lt.representation:xe}(pe,Oe[0])),Oe[1]&&!Oe[1].error&&(pe=function(xe,lt){if(lt&&!lt.error){var ut,rt,it,Ut,Ce=lt.segments,qe=[],ht=0;for(ut=0,rt=Ce?Ce.length:0;ut<rt;ut++)it=Ce[ut],(Ut=(0,d.TJ)(W,_e,xe,it.startTime,it.duration,it.timescale,it.media,it.mediaRange,ht))&&(qe.push(Ut),Ut=null,ht++);return qe.length>0&&(xe.segments=qe),xe}}(pe,Oe[1])),(Ze=pe).mediaFinishedInformation=me.getMediaFinishedInformation(Ze),function(xe){if(ee()){var lt,ut,rt=Q.getCurrentManifestUpdate(),it=!1;if(rt){for(var Ut=0;Ut<rt.representationInfo.length;Ut++)if((lt=rt.representationInfo[Ut]).index===xe.index&&lt.mediaType===ge()){it=!0;break}it||Q.addManifestUpdateRepresentationInfo(xe,ge())}if(function(){for(var qe=0,ht=P.length;qe<ht;qe++){var Xe=P[qe].segmentInfoType;if(!P[qe].hasInitialization()||(Xe===ce.SEGMENT_BASE||Xe===ce.BASE_URL)&&!P[qe].segments)return!1}return!0}()){J.setPlaybackQuality(K,ve,(ut=w,P.indexOf(ut)));var Ce=Q.getCurrentDVRInfo(K);Ce&&Q.updateManifestUpdateInfo({latency:Ce.range.end-k.getTime()}),Q.getCurrentRepresentationSwitch(ye().adaptation.type)||B(),D()}}}(pe),se()}).catch(function(Oe){V(Oe)})})}function B(){(function(){if(!(J&&Q&&k&&W))throw new Error(o.Z.MISSING_CONFIG_ERROR)})();var pe=new Date,se=ye(),V=1e3*k.getTime();se&&Q.addRepresentationSwitch(se.adaptation.type,pe,V,se.id),L.trigger(r.Z.REPRESENTATION_SWITCH,{mediaType:K,streamId:ve.id,currentRepresentation:se,numberOfRepresentations:P.length},{streamId:ve.id,mediaType:K})}function G(pe){return pe==null||pe>=P.length?null:P[pe]}function D(pe){I=!1,L.trigger(z.DATA_UPDATE_COMPLETED,{data:h,currentRepresentation:w,error:pe},{streamId:ve.id,mediaType:K})}function fe(pe){w=pe,O=X.convertRepresentationToRepresentationInfo(w)}function ie(pe){if(pe.newDuration){var se=ye();se&&se.adaptation.period&&(se.adaptation.period.duration=pe.newDuration)}}return c={getStreamId:function(){return ve.id},getType:ge,getData:function(){return h},isUpdating:ee,updateData:function(pe,se,V,le,Se){return new Promise(function(Ue,Oe){if(I=!0,P=se,h=pe,fe(G(Se)),V!==o.Z.VIDEO&&V!==o.Z.AUDIO&&(V!==o.Z.TEXT||!le))return D(),void Ue();for(var Ze=[],xe=0,lt=P.length;xe<lt;xe++){var ut=P[xe];Ze.push(j(ut))}Promise.all(Ze).then(function(){fe(G(Se)),Ue()}).catch(function(rt){Oe(rt)})})},getCurrentRepresentation:ye,getCurrentRepresentationInfo:function(){return O},getRepresentationForQuality:G,prepareQualityChange:function(pe){fe(G(pe)),B()},reset:function(){L.off(r.Z.MANIFEST_VALIDITY_CHANGED,ie,c),T()}},T(),L.on(r.Z.MANIFEST_VALIDITY_CHANGED,ie,c),c}b.__dashjs_factory_name="RepresentationController";var C=R.Z.getClassFactory(b),re=S(3106),te=S(9326),De=S(7473),tt=S(2594);function Ge(g,c){if(!(g instanceof c))throw new TypeError("Cannot call a class as a function")}var Be=function g(){Ge(this,g),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};Be.INITIAL_PLAYOUT_START_REASON="initial_playout",Be.SEEK_START_REASON="seek",Be.RESUME_FROM_PAUSE_START_REASON="resume",Be.METRICS_COLLECTION_START_REASON="metrics_collection_start";var Pe=function g(){Ge(this,g),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};Pe.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",Pe.REBUFFERING_REASON="rebuffering",Pe.USER_REQUEST_STOP_REASON="user_request",Pe.END_OF_PERIOD_STOP_REASON="end_of_period",Pe.END_OF_CONTENT_STOP_REASON="end_of_content",Pe.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",Pe.FAILURE_STOP_REASON="failure";var Ye=S(7802);function ot(){return{ntpToUTC:function(g){var c=new Date(Date.UTC(1900,0,1,0,0,0));return new Date(c.getTime()+g).getTime()}}}ot.__dashjs_factory_name="TimeUtils";var St=R.Z.getSingletonFactory(ot);function ft(g){g=g||{};var c,h,I,P,O,w,L,z,J,Q,k,W,K,ve,ce,me=this.context,_e=(0,E.Z)(me).getInstance(),X=g.streamInfo,ge=g.type,ee=g.errHandler,ye=g.mimeType,T=g.timelineConverter,j=g.adapter,B=g.manifestModel,G=g.mediaPlayerModel,D=g.fragmentModel,fe=g.abrController,ie=g.playbackController,pe=g.mediaController,se=g.textController,V=g.dashMetrics,le=g.settings,Se=g.boxParser,Ue=g.segmentBlacklistController;function Oe(){return X.id}function Ze(){return ge}function xe(){return j.getIsTextTrack(z.getData())}function lt(){O=[],P=null,ve=0,J=!1,Q=!1,k=!1,ce=null}function ut(We){return!isNaN(We)&&!isNaN(X.duration)&&isFinite(X.duration)&&We>=X.start+X.duration}function rt(We){var ke=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(We.sender){if(ie.getIsManifestUpdateInProgress())ht();else if((!xe()||se.isTextEnabled())&&w&&We.representationId&&!w.appendInitSegmentFromCache(We.representationId)){var ct=z.getCurrentRepresentation();if(ct.range===0)return void it();var Ee=W?W.getInitRequest(P,ct):null;Ee?D.executeRequest(Ee):ke&&(L.setInitSegmentRequired(!0),ht())}}}function it(We){var ke=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(ie.getIsManifestUpdateInProgress()||w.getIsPruningInProgress())ht();else{var ct=qe();ct?(J=!1,Q=!1,Ut(ct)):Ce(ke)}}function Ut(We){isNaN(We.startTime+We.duration)||(ve=We.startTime+We.duration),We.delayLoadingTime=new Date().getTime()+L.getTimeToLoadDelay(),L.setTimeToLoadDelay(0),function(ke){var ct=ke.url;return ke.range&&(ct=ct.concat("_",ke.range)),Ue.contains(ct)}(We)?(h.warn("Fragment request url ".concat(We.url," for stream id ").concat(X.id," and media type ").concat(ge," is on the ignore list and will be skipped")),ht()):(h.debug("Next fragment request url for stream id ".concat(X.id," and media type ").concat(ge," is ").concat(We.url)),D.executeRequest(We))}function Ce(We){var ke,ct=z.getCurrentRepresentation();if(!le.get().streaming.gaps.enableSeekFix||!J&&ie.getTime()!==0||(I?I&&ct.segmentInfoType===i.Z.SEGMENT_TIMELINE&&(ke=W.getValidTimeAheadOfTargetTime(ve,P,ct,le.get().streaming.gaps.threshold)):ke=W.getValidTimeAheadOfTargetTime(ve,P,ct,le.get().streaming.gaps.threshold),isNaN(ke)||ke===ve)){if(W.isLastSegmentRequested(ct,ve)){var Ee=W.getCurrentIndex();return h.debug("Segment requesting for stream ".concat(X.id," has finished")),_e.trigger(f.Z.STREAM_REQUESTING_COMPLETED,{segmentIndex:Ee},{streamId:X.id,mediaType:ge}),w.segmentRequestingCompleted(Ee),void L.clearScheduleTimer()}We&&ht()}else ie.isSeeking()||ie.getTime()===0?(h.warn("Adjusting playback time ".concat(ke," because of gap in the manifest. Seeking by ").concat(ke-ve)),ie.seek(ke,!1,!1)):(h.warn("Adjusting buffering time ".concat(ke," because of gap in the manifest. Adjusting time by ").concat(ke-ve)),Qt(ke),We&&ht())}function qe(){var We,ke=Wt();if(isNaN(ve)||Ze()===o.Z.TEXT&&!se.isTextEnabled())return null;if(W){var ct=z&&ke?z.getRepresentationForQuality(ke.quality):null;We=J?W.getSegmentRequestForTime(P,ct,ve):Q?W.repeatSegmentRequest(P,ct):W.getNextSegmentRequest(P,ct)}return We}function ht(){L.startScheduleTimer(ie.getLowLatencyModeEnabled()?le.get().streaming.scheduling.lowLatencyTimeout:le.get().streaming.scheduling.defaultTimeout)}function Xe(We){We.error||w.getIsBufferingCompleted()||w.updateBufferTimestampOffset(We.currentRepresentation)}function _t(We){V.addBufferState(ge,We.state,L.getBufferTarget()),We.state!==_.Z.BUFFER_EMPTY||ie.isSeeking()||(h.info("Buffer is empty! Stalling!"),V.pushPlayListTraceMetrics(new Date,Pe.REBUFFERING_REASON))}function Et(We){D.syncExecutedRequestsWithBufferedRange(w.getBuffer().getAllBufferRanges(),X.duration),We.quotaExceeded&&We.from>ie.getTime()&&Qt(We.from),We.hasEnoughSpaceToAppend&&We.quotaExceeded&&L.startScheduleTimer()}function gt(We){if(We&&We.lastRequestAppended&&We.lastRequestAppended.url){var ke=We.lastRequestAppended.url;We.lastRequestAppended.range&&(ke=ke.concat("_",We.lastRequestAppended.range)),h.warn("Blacklisting segment with url ".concat(ke)),Ue.add(ke)}}function Kt(We){if(h.debug("Appended bytes for ".concat(We.mediaType," and stream id ").concat(We.streamId)),We.segmentType===Me.w.INIT_SEGMENT_TYPE){var ke=We.quality;L.setLastInitializedQuality(ke),h.info("["+ge+"] lastInitializedRepresentationInfo changed to "+We.quality)}ce?Vt(ce):L.startScheduleTimer(0)}function Vt(We){var ke=D.getRequests({state:ne.FRAGMENT_MODEL_LOADING});if(ke&&ke.length>0)return h.debug("Preparing for default quality switch: Waiting for ongoing segment request to be finished before applying switch."),void(ce=We);w.updateBufferTimestampOffset(We).then(function(){L.setCheckPlaybackQuality(!1),P.segmentAlignment||P.subSegmentAlignment?L.startScheduleTimer():jt(),ce=null,k=!1}).catch(function(){ce=null,k=!1})}function gn(We){h.info("onFragmentLoadingAbandoned request: "+We.request.url+" has been aborted"),ie.isSeeking()||L.getSwitchTrack()||k||(h.info("onFragmentLoadingAbandoned request: "+We.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),We.request&&We.request.isInitializationRequest()?L.setInitSegmentRequired(!0):Qt(We.request.startTime+We.request.duration/2),L.startScheduleTimer(0))}function mn(We){h.info("OnFragmentLoadingCompleted for stream id "+X.id+" and media type "+ge+" - Url:",We.request?We.request.url:"undefined",We.request.range?", Range:"+We.request.range:""),xe()&&L.startScheduleTimer(0),We.error&&We.request.serviceLocation&&function(ke){h.info("Fragment loading completed with an error"),ke&&ke.request&&ke.request.type&&(ke.request.type===Me.w.INIT_SEGMENT_TYPE?rt({representationId:ke.request.representationId,sender:{}},!1):ke.request.type===Me.w.MEDIA_SEGMENT_TYPE&&(Qt(ke.request.startTime+ke.request.duration/2),it({},!1)))}(We)}function Ke(){Qt(ie.getTime()),Xt().startScheduleTimer()}function yt(We){var ke=We.currentTrackInfo;if(ke){var ct=O.find(function(Ee){return Ee.index===ke.index&&Ee.lang===ke.lang});ct&&Pt(ct).then(function(){w.setIsBufferingCompleted(!1),Qt(ie.getTime()),L.setInitSegmentRequired(!0),L.startScheduleTimer()})}}function st(We){Qt(We.quotaExceededTime),L.clearScheduleTimer()}function bt(){return w?w.getBuffer():null}function Pt(We){We===P||We&&P&&We.type!==P.type||(P=We);var ke=j.getRealAdaptation(X,P),ct=j.getVoRepresentations(P);if(z){var Ee,be=z.getData(),Je=fe.getMaxAllowedIndexFor(ge,X.id),Nt=fe.getMinAllowedIndexFor(ge,X.id),Lt=null;return be!==null&&be.id===ke.id||ge===o.Z.TEXT?Ee=fe.getQualityFor(ge,X.id):(Lt=fe.getThroughputHistory().getAverageThroughput(ge,I)||fe.getInitialBitrateFor(ge,X.id),Ee=fe.getQualityForBitrate(P,Lt,X.id)),Nt!==void 0&&Ee<Nt&&(Ee=Nt),Ee>Je&&(Ee=Je),z.updateData(ke,ct,ge,P.isFragmented,Ee)}return Promise.resolve()}function Xt(){return L}function Wt(We){var ke;return We!==void 0?((0,re.SE)(We),ke=z?z.getRepresentationForQuality(We):null):ke=z?z.getCurrentRepresentation():null,j.convertRepresentationToRepresentationInfo(ke)}function Jt(){return!!w&&w.getIsBufferingCompleted()}function an(We){if(le.get().streaming.enableManifestTimescaleMismatchFix){var ke=We.chunk,ct=ke.bytes,Ee=Wt(ke.quality),be=z&&Ee?z.getRepresentationForQuality(Ee.quality):null;Ee&&be&&(be.timescale=Se.getMediaTimescaleFromMoov(ct))}}function pt(We){var ke=We.chunk,ct=ke.bytes,Ee=ke.quality,be=Wt(Ee),Je=z&&be?z.getRepresentationForQuality(be.quality):null;if(be&&Je){var Nt;if(le.get().streaming.parseInbandPrft&&We.request.type===Me.w.MEDIA_SEGMENT_TYPE){var Lt=function(Or,lr){var Zi=Or.getBoxes("prft"),fo=[];return Zi.forEach(function(go){fo.push(function(fi,wi){var Mr="unknown";switch(fi.flags){case 0:Mr=i.Z.PRODUCER_REFERENCE_TIME_TYPE.ENCODER;break;case 16:Mr=i.Z.PRODUCER_REFERENCE_TIME_TYPE.APPLICATION;break;case 24:Mr=i.Z.PRODUCER_REFERENCE_TIME_TYPE.CAPTURED}var Bi=1e3*fi.ntp_timestamp_sec+fi.ntp_timestamp_frac/Math.pow(2,32)*1e3;return{type:Mr,ntpTimestamp:Bi=St(me).getInstance().ntpToUTC(Bi),mediaTime:fi.media_time/wi}}(go,lr))}),fo}(Nt=Nt||Se.parse(ct),Je.timescale);Lt&&Lt.length&&_e.trigger(r.Z.INBAND_PRFT,{data:Lt},{streamId:X.id,mediaType:ge})}var yn=j.getEventsFor(be.mediaInfo,null,X),xn=j.getEventsFor(be,Je,X);if(yn&&yn.length>0||xn&&xn.length>0){var rr=D.getRequests({state:ne.FRAGMENT_MODEL_EXECUTED,quality:Ee,index:ke.index})[0],Ln=function(Or,lr,Zi,fo){try{for(var go={},fi=[],wi=Zi.concat(fo),Mr=0,Bi=wi.length;Mr<Bi;Mr++)go[wi[Mr].schemeIdUri+"/"+wi[Mr].value]=wi[Mr];var po=Or.getBoxes("emsg");if(!po||po.length===0)return fi;for(var ti=Or.getBox("sidx"),Sa=!ti||isNaN(ti.earliest_presentation_time)||isNaN(ti.timescale)?lr&&!isNaN(lr.mediaStartTime)?lr.mediaStartTime:0:ti.earliest_presentation_time/ti.timescale,Us=Math.max(Sa,0),Zs=z.getCurrentRepresentation(),Gi=0,Bs=po.length;Gi<Bs;Gi++){var ho=j.getEvent(po[Gi],go,Us,Zs);ho&&fi.push(ho)}return fi}catch{return[]}}(Nt=Nt||Se.parse(ct),rr,yn,xn);_e.trigger(f.Z.INBAND_EVENTS,{events:Ln},{streamId:X.id})}}}function kt(){var We=ie.getTime();le.get().streaming.buffer.flushBufferAtTrackSwitch&&ie.seek(We+.001,!1,!0),Qt(We),w.setSeekTarget(We),L.startScheduleTimer()}function jt(){var We=ie.getTime(),ke=w.getContinuousBufferTimeForTargetTime(We);Qt(isNaN(ke)?We:ke),L.startScheduleTimer()}function qt(We){We&&!isNaN(We.time)&&(Qt(We.time),w.setSeekTarget(We.time))}function Qt(We){ve=We,J=!0}return c={initialize:function(We,ke,ct){K=(0,Ye.Z)(me).create({events:f.Z,eventBus:_e,streamInfo:X,timelineConverter:T,dashConstants:i.Z,segmentBaseController:g.segmentBaseController,type:ge}),W=(0,te.Z)(me).create({streamInfo:X,type:ge,timelineConverter:T,dashMetrics:V,mediaPlayerModel:G,baseURLController:g.baseURLController,errHandler:ee,segmentsController:K,settings:le,boxParser:Se,events:f.Z,eventBus:_e,errors:ae,debug:(0,y.Z)(me).getInstance(),requestModifier:(0,De.Z)(me).getInstance(),dashConstants:i.Z,constants:o.Z,urlUtils:(0,tt.Z)(me).getInstance()}),I=X.manifestInfo.isDynamic,W.initialize(I),fe.registerStreamType(ge,c),z=C(me).create({streamInfo:X,type:ge,abrController:fe,dashMetrics:V,playbackController:ie,timelineConverter:T,dashConstants:i.Z,events:f.Z,eventBus:_e,errors:ae,isDynamic:I,adapter:j,segmentsController:K}),w=function(Ee,be){return Ee?Ee!==o.Z.TEXT||be?ze(me).create({streamInfo:X,type:Ee,mediaPlayerModel:G,manifestModel:B,fragmentModel:D,errHandler:ee,mediaController:pe,representationController:z,adapter:j,textController:se,abrController:fe,playbackController:ie,settings:le}):Ae(me).create({streamInfo:X,type:Ee,mimeType:ye,fragmentModel:D,textController:se,errHandler:ee,settings:le}):(ee.error(new de.Z(ae.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,ae.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(ge,ct),w&&w.initialize(We),(L=m(me).create({streamInfo:X,type:ge,mimeType:ye,adapter:j,dashMetrics:V,mediaPlayerModel:G,fragmentModel:D,abrController:fe,playbackController:ie,textController:se,mediaController:pe,bufferController:w,representationController:z,settings:le})).initialize(ke),ve=0,J=!1,Q=!1},getStreamId:Oe,getType:Ze,isUpdating:function(){return!!z&&z.isUpdating()},getBufferController:function(){return w},dischargePreBuffer:function(){w.dischargePreBuffer()},getFragmentModel:function(){return D},getScheduleController:Xt,getRepresentationController:function(){return z},getRepresentationInfo:Wt,getBufferLevel:function(){return w?w.getBufferLevel():0},isBufferingCompleted:Jt,createBufferSinks:function(We){var ke=bt();return ke?Promise.resolve(ke):w?w.createBufferSink(P,We):Promise.resolve(null)},updateStreamInfo:function(We){return X=We,Jt()?Promise.resolve():w.updateAppendWindow()},getStreamInfo:function(){return X},selectMediaInfo:Pt,clearMediaInfoArray:function(){O=[]},addMediaInfo:function(We){O.indexOf(We)===-1&&O.push(We)},prepareTrackSwitch:function(){return new Promise(function(We){h.debug("Preparing track switch for type ".concat(ge));var ke=ge===o.Z.TEXT||le.get().streaming.trackSwitchMode[ge]===o.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&ie.getTimeToStreamEnd(X)>le.get().streaming.buffer.stallThreshold;if(w.getIsBufferingCompleted()&&!ke)return w.prepareForNonReplacementTrackSwitch(P.codec).then(function(){_e.trigger(f.Z.BUFFERING_COMPLETED,{},{streamId:X.id,mediaType:ge})}).catch(function(){_e.trigger(f.Z.BUFFERING_COMPLETED,{},{streamId:X.id,mediaType:ge})}),void We();L.clearScheduleTimer(),L.setSwitchTrack(!0),ke?(_e.trigger(f.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:ge,streamId:X.id},{mediaType:ge,streamId:X.id}),D.abortRequests(),w.prepareForReplacementTrackSwitch(P.codec).then(function(){var ct=Wt();return w.updateBufferTimestampOffset(ct)}).then(function(){kt(),We()}).catch(function(){kt(),We()})):w.prepareForNonReplacementTrackSwitch(P.codec).then(function(){jt(),We()}).catch(function(){jt(),We()})})},prepareQualityChange:function(We){ce&&h.warn("Canceling queued representation switch to ".concat(ce.quality," for ").concat(ge)),h.debug("Preparing quality switch for type ".concat(ge));var ke=We.newQuality;k=!0,L.clearScheduleTimer(),z.prepareQualityChange(ke);var ct=Wt(ke);We.reason&&We.reason.forceReplace?function(Ee){D.abortRequests(),_e.trigger(f.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:ge,streamId:X.id},{mediaType:ge,streamId:X.id}),L.setCheckPlaybackQuality(!1),w.prepareForForceReplacementQualitySwitch(Ee).then(function(){kt(),ce=null,k=!1}).catch(function(){kt(),ce=null,k=!1})}(ct):We&&We.reason&&We.reason.forceAbandon?function(Ee){w.updateBufferTimestampOffset(Ee).then(function(){D.abortRequests(),Q=!0,L.setCheckPlaybackQuality(!1),L.startScheduleTimer(),k=!1,ce=null}).catch(function(){ce=null,k=!1})}(ct):le.get().streaming.buffer.fastSwitchEnabled?function(Ee){var be=ie.getTime(),Je=1.5*(isNaN(Ee.fragmentDuration)?1:Ee.fragmentDuration),Nt=D.getRequests({state:ne.FRAGMENT_MODEL_EXECUTED,time:be+Je,threshold:0})[0];if(Nt&&!xe()){var Lt=w.getBufferLevel(),yn=fe.getAbandonmentStateFor(X.id,ge);Nt.quality<Ee.quality&&Lt>=Je&&yn!==_.Z.ABANDON_LOAD?w.updateBufferTimestampOffset(Ee).then(function(){D.abortRequests(),Qt(be+Je),L.setCheckPlaybackQuality(!1),L.startScheduleTimer(),k=!1}).catch(function(){k=!1}):Vt(Ee)}else Vt(Ee)}(ct):Vt(ct),V.pushPlayListTraceMetrics(new Date,Pe.REPRESENTATION_SWITCH_STOP_REASON),V.createPlaylistTraceMetrics(ct.id,1e3*ie.getTime(),ie.getPlaybackRate())},getMediaInfo:function(){return P},getMediaSource:function(){return w.getMediaSource()},setMediaSource:function(We){return w.setMediaSource(We,P)},getBuffer:bt,setExplicitBufferingTime:Qt,finalisePlayList:function(We,ke){V.pushPlayListTraceMetrics(We,ke)},probeNextRequest:function(){var We=Wt(),ke=z&&We?z.getRepresentationForQuality(We.quality):null;return W.getNextSegmentRequestIdempotent(P,ke)},prepareInnerPeriodPlaybackSeeking:function(We){return new Promise(function(ke){if(w.hasBufferAtTime(We.seekTime))return w.pruneBuffer(),ut(w.getContinuousBufferTimeForTargetTime(We.seekTime))&&w.setIsBufferingCompleted(!0),void ke();L.clearScheduleTimer(),D.abortRequests(),w.prepareForPlaybackSeek().then(function(){var ct=w.getAllRangesWithSafetyFactor(We.seekTime);return w.clearBuffers(ct)}).then(function(){var ct=w.getContinuousBufferTimeForTargetTime(We.seekTime);if(ut(ct))w.setIsBufferingCompleted(!0),ke();else{var Ee=isNaN(ct)?We.seekTime:ct;Qt(Ee),w.setSeekTarget(Ee);var be=[];be.push(w.updateAppendWindow());var Je=Wt();be.push(w.updateBufferTimestampOffset(Je)),Promise.all(be).then(function(){L.setInitSegmentRequired(!0),L.setCheckPlaybackQuality(!1),L.startScheduleTimer(),ke()})}}).catch(function(ct){h.error(ct)})})},prepareOuterPeriodPlaybackSeeking:function(){return new Promise(function(We,ke){try{L.clearScheduleTimer(),D.abortRequests(),w.prepareForPlaybackSeek().then(function(){return w.pruneAllSafely()}).then(function(){We()})}catch(ct){ke(ct)}})},reset:function(We,ke){W&&W.reset(),w&&(w.reset(We,ke),w=null),L&&(L.reset(),L=null),z&&(z.reset(),z=null),K&&(K=null),fe&&fe.unRegisterStreamType(Oe(),ge),_e.off(f.Z.DATA_UPDATE_COMPLETED,Xe,c),_e.off(f.Z.INIT_FRAGMENT_NEEDED,rt,c),_e.off(f.Z.MEDIA_FRAGMENT_NEEDED,it,c),_e.off(f.Z.INIT_FRAGMENT_LOADED,an,c),_e.off(f.Z.MEDIA_FRAGMENT_LOADED,pt,c),_e.off(f.Z.BUFFER_LEVEL_STATE_CHANGED,_t,c),_e.off(f.Z.BUFFER_CLEARED,Et,c),_e.off(f.Z.SEEK_TARGET,qt,c),_e.off(f.Z.FRAGMENT_LOADING_ABANDONED,gn,c),_e.off(f.Z.FRAGMENT_LOADING_COMPLETED,mn,c),_e.off(f.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,Ke,c),_e.off(f.Z.SET_NON_FRAGMENTED_TEXT,yt,c),_e.off(f.Z.QUOTA_EXCEEDED,st,c),_e.off(f.Z.SOURCE_BUFFER_ERROR,gt,c),_e.off(f.Z.BYTES_APPENDED_END_FRAGMENT,Kt,c),lt(),ge=null,X=null}},h=(0,y.Z)(me).getInstance().getLogger(c),lt(),_e.on(f.Z.DATA_UPDATE_COMPLETED,Xe,c,{priority:E.Z.EVENT_PRIORITY_HIGH}),_e.on(f.Z.INIT_FRAGMENT_NEEDED,rt,c),_e.on(f.Z.MEDIA_FRAGMENT_NEEDED,it,c),_e.on(f.Z.INIT_FRAGMENT_LOADED,an,c),_e.on(f.Z.MEDIA_FRAGMENT_LOADED,pt,c),_e.on(f.Z.BUFFER_LEVEL_STATE_CHANGED,_t,c),_e.on(f.Z.BUFFER_CLEARED,Et,c),_e.on(f.Z.SEEK_TARGET,qt,c),_e.on(f.Z.FRAGMENT_LOADING_ABANDONED,gn,c),_e.on(f.Z.FRAGMENT_LOADING_COMPLETED,mn,c),_e.on(f.Z.QUOTA_EXCEEDED,st,c),_e.on(f.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,Ke,c),_e.on(f.Z.SET_NON_FRAGMENTED_TEXT,yt,c),_e.on(f.Z.SOURCE_BUFFER_ERROR,gt,c),_e.on(f.Z.BYTES_APPENDED_END_FRAGMENT,Kt,c),c}ft.__dashjs_factory_name="StreamProcessor";var zt=R.Z.getClassFactory(ft),Ot=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null},Gt=S(9032);function Zt(g,c){if(g){if(typeof g=="string")return cn(g,c);var h=Object.prototype.toString.call(g).slice(8,-1);return h==="Object"&&g.constructor&&(h=g.constructor.name),h==="Map"||h==="Set"?Array.from(g):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?cn(g,c):void 0}}function cn(g,c){(c==null||c>g.length)&&(c=g.length);for(var h=0,I=new Array(c);h<c;h++)I[h]=g[h];return I}function Tn(g){g=g||{};var c,h,I=this.context,P=g.requestModifier,O=g.lowLatencyThroughputModel,w=g.boxParser,L=(0,we.Z)(I).getInstance();function z(k){var W,K=new Date,ve=k.request,ce=new Headers;if(ve.range&&ce.append("Range","bytes="+ve.range),k.headers)for(var me in k.headers){var _e=k.headers[me];_e&&ce.append(me,_e)}ve.requestStartDate||(ve.requestStartDate=K),P&&P.modifyRequestHeader&&P.modifyRequestHeader({setRequestHeader:function(T,j){ce.append(T,j)}},{url:k.url}),typeof window.AbortController=="function"&&(W=new AbortController,k.abortController=W,W.signal.onabort=k.onabort);var X={method:k.method,headers:ce,credentials:k.withCredentials?"include":void 0,signal:W?W.signal:void 0},ge=L.get().streaming.abr.fetchThroughputCalculationMode,ee=Date.now(),ye=0;new Promise(function(T){if(ge===o.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&O&&(ye=O.getThroughputCapacityDelayMS(ve,1e3*h.getCurrentBufferLevel(ve.mediaType))))return setTimeout(T,ye);T()}).then(function(){var T=Date.now();fetch(k.url,X).then(function(j){k.response||(k.response={}),k.response.status=j.status,k.response.statusText=j.statusText,k.response.responseURL=j.url,j.ok||k.onerror();var B,G="",D=function(Xe,_t){var Et;if(typeof Symbol>"u"||Xe[Symbol.iterator]==null){if(Array.isArray(Xe)||(Et=Zt(Xe))){Et&&(Xe=Et);var gt=0,Kt=function(){};return{s:Kt,n:function(){return gt>=Xe.length?{done:!0}:{done:!1,value:Xe[gt++]}},e:function(Ke){throw Ke},f:Kt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Vt,gn=!0,mn=!1;return{s:function(){Et=Xe[Symbol.iterator]()},n:function(){var Ke=Et.next();return gn=Ke.done,Ke},e:function(Ke){mn=!0,Vt=Ke},f:function(){try{gn||Et.return==null||Et.return()}finally{if(mn)throw Vt}}}}(j.headers.keys());try{for(D.s();!(B=D.n()).done;){var fe=B.value;G+=fe+": "+j.headers.get(fe)+`\r
`}}catch(Xe){D.e(Xe)}finally{D.f()}if(k.response.responseHeaders=G,!j.body)return j.arrayBuffer().then(function(Xe){k.response.response=Xe;var _t={loaded:Xe.byteLength,total:Xe.byteLength,stream:!1};k.progress(_t),k.onload(),k.onend()});var ie,pe,se,V,le=parseInt(j.headers.get("Content-Length"),10),Se=0,Ue=!1,Oe=new Uint8Array,Ze=0;if(ge===o.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&O){var xe=T,lt=0,ut=(se=j.body.tee(),V=2,function(Xe){if(Array.isArray(Xe))return Xe}(se)||function(Xe,_t){if(typeof Symbol<"u"&&Symbol.iterator in Object(Xe)){var Et=[],gt=!0,Kt=!1,Vt=void 0;try{for(var gn,mn=Xe[Symbol.iterator]();!(gt=(gn=mn.next()).done)&&(Et.push(gn.value),!_t||Et.length!==_t);gt=!0);}catch(Ke){Kt=!0,Vt=Ke}finally{try{gt||mn.return==null||mn.return()}finally{if(Kt)throw Vt}}return Et}}(se,V)||Zt(se,V)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),rt=ut[0],it=ut[1];ie=rt.getReader(),pe=[],ie.read().then(function Xe(_t){var Et=_t.value,gt=_t.done;if(lt=Date.now(),Et&&Et.length){var Kt=lt-xe,Vt=Et.length;pe.push({chunkDownloadTimeRelativeMS:lt-T,chunkDownloadDurationMS:Kt,chunkBytes:Vt,kbps:Math.round(8*Vt/(Kt/1e3)),bufferLevel:h.getCurrentBufferLevel(ve.mediaType)})}if(gt){var gn=lt-T,mn=pe.reduce(function(Ke,yt){return Ke+yt.chunkBytes},0);return O.addMeasurement(ve,gn,pe,ee,ye,G),void k.progress({loaded:mn,total:mn,lengthComputable:!0,time:O.getEstimatedDownloadDurationMS(ve),stream:!0})}return xe=Date.now(),ie.read().then(Xe)}),k.reader=it.getReader()}else k.reader=j.body.getReader();var Ut=[],Ce=[],qe=[],ht=!0;J(k,function Xe(_t){var Et=_t.value;if(_t.done){if(Oe){if(ge!==o.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var gt=null,Kt=null;ge===o.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(gt=function(Ke,yt){try{var st,bt;st=Ke.filter(function(kt,jt){return jt<Ke.length-1}),bt=yt.filter(function(kt,jt){return jt<yt.length-1});var Pt=[];if(st.length>1){for(var Xt=0,Wt=0,Jt=0;Jt<st.length;Jt++)if(st[Jt]&&bt[Jt]){var an=bt[Jt].ts-st[Jt].ts;if(an>1)Pt.push(8*bt[Jt].bytes/an),Wt=0;else{Wt===0&&(Wt=st[Jt].ts,Xt=0);var pt=bt[Jt].ts-Wt;pt>1?(Xt+=bt[Jt].bytes,Pt.push(8*Xt/pt),Wt=0):Xt+=bt[Jt].bytes}}if(Pt.length>0)return Pt.reduce(function(kt,jt){return kt+jt},0)/Pt.length}return null}catch{return null}}(Ce,qe),gt&&(Kt=8*Se/gt)):ge===o.Z.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(Kt=Q(Ut,Se)),k.progress({loaded:Se,total:isNaN(le)?Se:le,lengthComputable:!0,time:Kt,stream:!0})}k.response.response=Oe.buffer}return k.onload(),void k.onend()}if(Et&&Et.length>0){Oe=function(Ke,yt){if(Ke.length===0)return yt;var st=new Uint8Array(Ke.length+yt.length);return st.set(Ke),st.set(yt,Ke.length),st}(Oe,Et),Se+=Et.length,Ut.push({ts:Date.now(),bytes:Et.length}),ge===o.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&ht&&w.findLastTopIsoBoxCompleted(["moof"],Oe,Ze).found&&(ht=!1,Ce.push({ts:performance.now(),bytes:Et.length}));var Vt=w.findLastTopIsoBoxCompleted(["moov","mdat"],Oe,Ze);if(Vt.found){var gn,mn=Vt.lastCompletedOffset+Vt.size;ge!==o.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING||ht||(ht=!0,qe.push({ts:performance.now(),bytes:Oe.length})),mn===Oe.length?(gn=Oe,Oe=new Uint8Array):(gn=new Uint8Array(Oe.subarray(0,mn)),Oe=Oe.subarray(mn)),k.progress({data:gn.buffer,lengthComputable:!1,noTrace:!0}),Ze=0}else Ze=Vt.lastCompletedOffset,Ue||(k.progress({lengthComputable:!1,noTrace:!0}),Ue=!0)}J(k,Xe)})}).catch(function(j){k.onerror&&k.onerror(j)})})}function J(k,W){k.reader.read().then(W).catch(function(K){k.onerror&&k.response.status===200&&k.onerror(K)})}function Q(k,W){try{if((k=k.filter(function(ce){return ce.bytes>W/4/k.length})).length>1){var K=0,ve=(k[k.length-1].ts-k[0].ts)/k.length;return k.forEach(function(ce,me){var _e=k[me+1];if(_e){var X=_e.ts-ce.ts;K+=X<ve?X:0}}),K}return null}catch{return null}}return c={load:function(k){P&&P.modifyRequest?(0,De.k)(k,P).then(function(){return z(k)}):z(k)},abort:function(k){if(k.abortController)k.abortController.abort();else if(k.reader)try{k.reader.cancel(),k.onabort()}catch{}},calculateDownloadedTime:Q,setup:function(k){h=k.dashMetrics}},c}Tn.__dashjs_factory_name="FetchLoader";var kn=R.Z.getClassFactory(Tn),Mn=S(1180);function Un(g,c){for(var h=0;h<c.length;h++){var I=c[h];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(g,I.key,I)}}var cr=function(){function g(){(function(I,P){if(!(I instanceof P))throw new TypeError("Cannot call a class as a function")})(this,g),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.frameRate=null}var c,h;return c=g,(h=[{key:"hasInitialization",value:function(){return this.initialization!==null||this.range!==null}},{key:"hasSegments",value:function(){return this.segmentInfoType!==i.Z.BASE_URL&&this.segmentInfoType!==i.Z.SEGMENT_BASE&&!this.indexRange}}])&&Un(c.prototype,h),g}(),Nn=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.period=null,this.index=-1,this.type=null},Dr=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null};Dr.DEFAULT_ID="defaultId";var tr=Dr,vr=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN},jr=S(2610),Er=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.type="",this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN},Qr=function g(c,h,I,P){(function(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")})(this,g),this.url=c||"",this.serviceLocation=h||c||"",this.dvbPriority=I||1,this.dvbWeight=P||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.queryParams={}};Qr.DEFAULT_DVB_PRIORITY=1,Qr.DEFAULT_DVB_WEIGHT=1;var Xr=Qr,Do=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0},Ct=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null},It=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.defaultServiceLocation=null,this.defaultServiceLocationArray=[],this.queryBeforeStart=!1,this.serverUrl=null,this.clientRequirement=!0};function Rt(g,c){for(var h=0;h<c.length;h++){var I=c[h];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(g,I.key,I)}}var Ve=function(){function g(){(function(I,P){if(!(I instanceof P))throw new TypeError("Cannot call a class as a function")})(this,g),this.schemeIdUri=null,this.value=null,this.id=null}var c,h;return c=g,(h=[{key:"init",value:function(I){return I&&(this.schemeIdUri=I.schemeIdUri?I.schemeIdUri:null,this.value=I.value?I.value:null,this.id=I.id?I.id:null,I[i.Z.DVB_URL]&&(this.dvbUrl=I[i.Z.DVB_URL]),I[i.Z.DVB_MIMETYPE]&&(this.dvbMimeType=I[i.Z.DVB_MIMETYPE]),I[i.Z.DVB_FONTFAMILY]&&(this.dvbFontFamily=I[i.Z.DVB_FONTFAMILY])),this}}])&&Rt(c.prototype,h),g}(),mt=S(3101),$e=S.n(mt);function dt(){return{areEqual:function(g,c){return $e()(g,c)}}}dt.__dashjs_factory_name="ObjectUtils";var Ft=R.Z.getSingletonFactory(dt),Bt=S(7803),nn=function g(c,h){(function(I,P){if(!(I instanceof P))throw new TypeError("Cannot call a class as a function")})(this,g),this.url=c||"",this.serviceLocation=h||null,this.queryParams={}},rn=function g(c,h,I){(function(P,O){if(!(P instanceof O))throw new TypeError("Cannot call a class as a function")})(this,g),this.url=c||"",this.serviceLocation=h||null,this.ttl=I||NaN,this.queryParams={}};function Ht(g,c){var h=Object.keys(g);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(g);c&&(I=I.filter(function(P){return Object.getOwnPropertyDescriptor(g,P).enumerable})),h.push.apply(h,I)}return h}function wt(g){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?Ht(Object(h),!0).forEach(function(I){tn(g,I,h[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(h)):Ht(Object(h)).forEach(function(I){Object.defineProperty(g,I,Object.getOwnPropertyDescriptor(h,I))})}return g}function tn(g,c,h){return c in g?Object.defineProperty(g,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):g[c]=h,g}function $t(g,c){var h;if(typeof Symbol>"u"||g[Symbol.iterator]==null){if(Array.isArray(g)||(h=dn(g))||c){h&&(g=h);var I=0,P=function(){};return{s:P,n:function(){return I>=g.length?{done:!0}:{done:!1,value:g[I++]}},e:function(z){throw z},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O,w=!0,L=!1;return{s:function(){h=g[Symbol.iterator]()},n:function(){var z=h.next();return w=z.done,z},e:function(z){L=!0,O=z},f:function(){try{w||h.return==null||h.return()}finally{if(L)throw O}}}}function dn(g,c){if(g){if(typeof g=="string")return Sn(g,c);var h=Object.prototype.toString.call(g).slice(8,-1);return h==="Object"&&g.constructor&&(h=g.constructor.name),h==="Map"||h==="Set"?Array.from(g):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?Sn(g,c):void 0}}function Sn(g,c){(c==null||c>g.length)&&(c=g.length);for(var h=0,I=new Array(c);h<c;h++)I[h]=g[h];return I}function Dn(){var g,c,h,I,P=this.context,O=(0,tt.Z)(P).getInstance(),w=Number.isInteger||function(T){return typeof T=="number"&&isFinite(T)&&Math.floor(T)===T};function L(T,j){if(!T)throw new Error("adaptation is not defined");if(!j)throw new Error("type is not defined");if(T.Representation_asArray&&T.Representation_asArray.length){var B=me(T.Representation_asArray[0]);if(B&&B.length>0&&Bt.Y.indexOf(B[0].schemeIdUri)>=0)return j===o.Z.IMAGE}if(T.ContentComponent_asArray&&T.ContentComponent_asArray.length>0){if(T.ContentComponent_asArray.length>1)return j===o.Z.MUXED;if(T.ContentComponent_asArray[0].contentType===j)return!0}var G=j===o.Z.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(j);if(T.Representation_asArray&&T.Representation_asArray.length){var D=T.Representation_asArray[0].codecs;if(G.test(D))return!0}if(T.hasOwnProperty(i.Z.MIME_TYPE))return G.test(T.mimeType);if(T.Representation_asArray){for(var fe,ie=0;ie<T.Representation_asArray.length;ie++)if((fe=T.Representation_asArray[ie]).hasOwnProperty(i.Z.MIME_TYPE))return G.test(fe.mimeType)}return!1}function z(T){if(!T)throw new Error("adaptation is not defined");if(T.hasOwnProperty(i.Z.SEGMENT_TEMPLATE)||T.hasOwnProperty(i.Z.SEGMENT_TIMELINE)||T.hasOwnProperty(i.Z.SEGMENT_LIST)||T.hasOwnProperty(i.Z.SEGMENT_BASE))return!0;if(T.Representation_asArray&&T.Representation_asArray.length>0){var j=T.Representation_asArray[0];if(j.hasOwnProperty(i.Z.SEGMENT_TEMPLATE)||j.hasOwnProperty(i.Z.SEGMENT_TIMELINE)||j.hasOwnProperty(i.Z.SEGMENT_LIST)||j.hasOwnProperty(i.Z.SEGMENT_BASE))return!0}return!1}function J(T){return L(T,o.Z.VIDEO)}function Q(T){return L(T,o.Z.TEXT)}function k(T){return L(T,o.Z.IMAGE)}function W(T){return T&&Array.isArray(T.Representation_asArray)&&T.Representation_asArray.sort(function(j,B){return j.bandwidth-B.bandwidth}),T}function K(T,j){return T&&T.Period_asArray&&w(j)&&T.Period_asArray[j]?T.Period_asArray[j].AdaptationSet_asArray:[]}function ve(T){return T&&T.Period_asArray?T.Period_asArray:[]}function ce(T){var j=!1;return T&&T.hasOwnProperty("type")&&(j=T.type===i.Z.DYNAMIC),j}function me(T){return T&&T.EssentialProperty_asArray&&T.EssentialProperty_asArray.length?T.EssentialProperty_asArray.map(function(j){return{schemeIdUri:j.schemeIdUri,value:j.value}}):null}function _e(T){if(!T||!T.S_asArray)return NaN;var j=T.S_asArray[0],B=T.S_asArray[1];return j.hasOwnProperty("d")?j.d:B.t-j.t}function X(T,j){if(!T)throw new Error("Period cannot be null or undefined");var B=tr.DEFAULT_ID+"_"+j;return T.hasOwnProperty(i.Z.ID)&&T.id.length>0&&T.id!=="__proto__"&&(B=T.id),B}function ge(T,j,B){var G,D=[];if(!T)return D;for(G=0;G<T.length;G++){var fe=new Do;if(fe.timescale=1,fe.representation=j,!T[G].hasOwnProperty(o.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");fe.schemeIdUri=T[G].schemeIdUri,T[G].hasOwnProperty(i.Z.TIMESCALE)&&(fe.timescale=T[G].timescale),T[G].hasOwnProperty(i.Z.VALUE)&&(fe.value=T[G].value),D.push(fe),fe.period=B}return D}function ee(T){var j=[],B=T.BaseURL_asArray||[T.baseUri],G=!1;return B.some(function(D){if(D){var fe=new Xr,ie=D.__text||D;return O.isRelative(ie)&&(G=!0,T.baseUri&&(ie=O.resolve(ie,T.baseUri))),fe.url=ie,D.hasOwnProperty(i.Z.SERVICE_LOCATION)&&D.serviceLocation.length?fe.serviceLocation=D.serviceLocation:fe.serviceLocation=ie,D.hasOwnProperty(i.Z.DVB_PRIORITY)&&(fe.dvbPriority=D[i.Z.DVB_PRIORITY]),D.hasOwnProperty(i.Z.DVB_WEIGHT)&&(fe.dvbWeight=D[i.Z.DVB_WEIGHT]),D.hasOwnProperty(i.Z.AVAILABILITY_TIME_OFFSET)&&(fe.availabilityTimeOffset=D[i.Z.AVAILABILITY_TIME_OFFSET]),D.hasOwnProperty(i.Z.AVAILABILITY_TIME_COMPLETE)&&(fe.availabilityTimeComplete=D[i.Z.AVAILABILITY_TIME_COMPLETE]!=="false"),j.push(fe),G}}),j}function ye(T){var j=new It;return j.serverUrl=T.__text,T.hasOwnProperty(i.Z.DEFAULT_SERVICE_LOCATION)&&(j.defaultServiceLocation=T[i.Z.DEFAULT_SERVICE_LOCATION],j.defaultServiceLocationArray=j.defaultServiceLocation.split(" ")),T.hasOwnProperty(i.Z.QUERY_BEFORE_START)&&(j.queryBeforeStart=T[i.Z.QUERY_BEFORE_START].toLowerCase()==="true"),T.hasOwnProperty(i.Z.CLIENT_REQUIREMENT)&&(j.clientRequirement=T[i.Z.CLIENT_REQUIREMENT].toLowerCase()!=="false"),j}return g={getIsTypeOf:L,getIsText:Q,getIsFragmented:z,getProducerReferenceTimesForAdaptation:function(T){var j=T&&T.hasOwnProperty(i.Z.PRODUCERREFERENCETIME_ASARRAY)?T[i.Z.PRODUCERREFERENCETIME_ASARRAY]:[];(T&&T.hasOwnProperty(i.Z.REPRESENTATION_ASARRAY)?T[i.Z.REPRESENTATION_ASARRAY]:[]).forEach(function(G){var D;G.hasOwnProperty(i.Z.PRODUCERREFERENCETIME_ASARRAY)&&j.push.apply(j,function(fe){if(Array.isArray(fe))return Sn(fe)}(D=G[i.Z.PRODUCERREFERENCETIME_ASARRAY])||function(fe){if(typeof Symbol<"u"&&Symbol.iterator in Object(fe))return Array.from(fe)}(D)||dn(D)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())});var B=[];return j.forEach(function(G){var D=new Ct;G.hasOwnProperty(i.Z.ID)&&(D[i.Z.ID]=G[i.Z.ID],G.hasOwnProperty(i.Z.WALL_CLOCK_TIME)&&(D[i.Z.WALL_CLOCK_TIME]=G[i.Z.WALL_CLOCK_TIME],G.hasOwnProperty(i.Z.PRESENTATION_TIME)&&(D[i.Z.PRESENTATION_TIME]=G[i.Z.PRESENTATION_TIME],G.hasOwnProperty(i.Z.INBAND)&&(D[i.Z.INBAND]=G[i.Z.INBAND]!=="false"),G.hasOwnProperty(i.Z.TYPE)&&(D[i.Z.TYPE]=G[i.Z.TYPE]),B.push(D))))}),B},getLanguageForAdaptation:function(T){var j="";return T&&T.hasOwnProperty(i.Z.LANG)&&(j=T.lang),j},getViewpointForAdaptation:function(T){return T&&T.hasOwnProperty(i.Z.VIEWPOINT_ASARRAY)&&T[i.Z.VIEWPOINT_ASARRAY].length?T[i.Z.VIEWPOINT_ASARRAY].map(function(j){return new Ve().init(j)}):[]},getRolesForAdaptation:function(T){return T&&T.hasOwnProperty(i.Z.ROLE_ASARRAY)&&T[i.Z.ROLE_ASARRAY].length?T[i.Z.ROLE_ASARRAY].map(function(j){return new Ve().init(j)}):[]},getAccessibilityForAdaptation:function(T){return T&&T.hasOwnProperty(i.Z.ACCESSIBILITY_ASARRAY)&&T[i.Z.ACCESSIBILITY_ASARRAY].length?T[i.Z.ACCESSIBILITY_ASARRAY].map(function(j){return new Ve().init(j)}):[]},getAudioChannelConfigurationForAdaptation:function(T){return T&&T.hasOwnProperty(i.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&T[i.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?T[i.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(j){return new Ve().init(j)}):[]},getAudioChannelConfigurationForRepresentation:function(T){return T&&T.hasOwnProperty(i.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&T[i.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?T[i.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(j){return new Ve().init(j)}):[]},getAdaptationForIndex:function(T,j,B){var G=K(j,B);return G.length>0&&w(T)?G[T]:null},getIndexForAdaptation:function(T,j,B){if(!T)return-1;for(var G=K(j,B),D=0;D<G.length;D++)if(Ft(P).getInstance().areEqual(G[D],T))return D;return-1},getAdaptationForId:function(T,j,B){var G,D,fe=K(j,B);for(G=0,D=fe.length;G<D;G++)if(fe[G].hasOwnProperty(i.Z.ID)&&fe[G].id===T)return fe[G];return null},getAdaptationsForType:function(T,j,B){var G,D,fe=K(T,j),ie=[];for(G=0,D=fe.length;G<D;G++)L(fe[G],B)&&ie.push(W(fe[G]));return ie},getRealPeriods:ve,getRealPeriodForIndex:function(T,j){var B=ve(j);return B.length>0&&w(T)?B[T]:null},getCodec:function(T,j,B){var G=null;if(T&&T.Representation_asArray&&T.Representation_asArray.length>0){var D=w(j)&&j>=0&&j<T.Representation_asArray.length?T.Representation_asArray[j]:T.Representation_asArray[0];D&&(G=D.mimeType+';codecs="'+D.codecs+'"',B&&D.width!==void 0&&(G+=';width="'+D.width+'";height="'+D.height+'"'))}return G&&(G=G.replace(/\sprofiles=[^;]*/g,"")),G},getSelectionPriority:function(T){try{var j=T&&T.selectionPriority!==void 0?parseInt(T.selectionPriority):1;return isNaN(j)?1:j}catch{return 1}},getMimeType:function(T){return T&&T.Representation_asArray&&T.Representation_asArray.length>0?T.Representation_asArray[0].mimeType:null},getKID:function(T){return T&&T.hasOwnProperty(i.Z.CENC_DEFAULT_KID)?T[i.Z.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(T){if(!T||!Array.isArray(T.Label_asArray))return[];for(var j=[],B=0;B<T.Label_asArray.length;B++)j.push({lang:T.Label_asArray[B].lang,text:T.Label_asArray[B].__text||T.Label_asArray[B]});return j},getContentProtectionData:function(T){return T&&T.hasOwnProperty(i.Z.CONTENTPROTECTION_ASARRAY)&&T.ContentProtection_asArray.length!==0?T.ContentProtection_asArray:null},getIsDynamic:ce,getId:function(T){return T&&T[i.Z.ID]||null},hasProfile:function(T,j){var B=!1;return T&&T.profiles&&T.profiles.length>0&&(B=T.profiles.indexOf(j)!==-1),B},getDuration:function(T){return T&&T.hasOwnProperty(i.Z.MEDIA_PRESENTATION_DURATION)?T.mediaPresentationDuration:T&&T.type=="dynamic"?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(T){return T&&T.bandwidth?T.bandwidth:NaN},getManifestUpdatePeriod:function(T){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=NaN;return T&&T.hasOwnProperty(i.Z.MINIMUM_UPDATE_PERIOD)&&(B=T.minimumUpdatePeriod),isNaN(B)?B:Math.max(B-j,1)},getPublishTime:function(T){return T&&T.hasOwnProperty(i.Z.PUBLISH_TIME)?new Date(T[i.Z.PUBLISH_TIME]):null},getRepresentationCount:function(T){return T&&Array.isArray(T.Representation_asArray)?T.Representation_asArray.length:0},getBitrateListForAdaptation:function(T){var j=W(T);return(j&&Array.isArray(j.Representation_asArray)?j.Representation_asArray:[]).map(function(B){return{bandwidth:B.bandwidth,width:B.width||0,height:B.height||0,scanType:B.scanType||null,id:B.id||null}})},getRepresentationFor:function(T,j){return j&&j.Representation_asArray&&j.Representation_asArray.length>0&&w(T)?j.Representation_asArray[T]:null},getRepresentationsForAdaptation:function(T){var j,B,G,D,fe=[],ie=function(Oe){if(Oe&&Oe.period&&w(Oe.period.index)){var Ze=Oe.period.mpd.manifest.Period_asArray[Oe.period.index];if(Ze&&Ze.AdaptationSet_asArray&&w(Oe.index))return W(Ze.AdaptationSet_asArray[Oe.index])}}(T);if(ie&&ie.Representation_asArray){if(T&&T.period&&w(T.period.index)){var pe=ee(T.period.mpd.manifest);pe&&(B=pe[0])}for(var se=0,V=ie.Representation_asArray.length;se<V;++se){var le=ie.Representation_asArray[se],Se=new cr;if(Se.index=se,Se.adaptation=T,le.hasOwnProperty(i.Z.ID)&&(Se.id=le.id),le.hasOwnProperty(i.Z.CODECS)&&(Se.codecs=le.codecs),le.hasOwnProperty(i.Z.MIME_TYPE)&&(Se.mimeType=le[i.Z.MIME_TYPE]),le.hasOwnProperty(i.Z.CODEC_PRIVATE_DATA)&&(Se.codecPrivateData=le.codecPrivateData),le.hasOwnProperty(i.Z.BANDWITH)&&(Se.bandwidth=le.bandwidth),le.hasOwnProperty(i.Z.WIDTH)&&(Se.width=le.width),le.hasOwnProperty(i.Z.HEIGHT)&&(Se.height=le.height),le.hasOwnProperty(i.Z.SCAN_TYPE)&&(Se.scanType=le.scanType),le.hasOwnProperty(i.Z.MAX_PLAYOUT_RATE)&&(Se.maxPlayoutRate=le.maxPlayoutRate),le.hasOwnProperty(i.Z.SEGMENT_BASE)?(j=le.SegmentBase,Se.segmentInfoType=i.Z.SEGMENT_BASE):le.hasOwnProperty(i.Z.SEGMENT_LIST)?(j=le.SegmentList).hasOwnProperty(i.Z.SEGMENT_TIMELINE)?Se.segmentInfoType=i.Z.SEGMENT_TIMELINE:Se.segmentInfoType=i.Z.SEGMENT_LIST:le.hasOwnProperty(i.Z.SEGMENT_TEMPLATE)?((j=le.SegmentTemplate).hasOwnProperty(i.Z.SEGMENT_TIMELINE)?Se.segmentInfoType=i.Z.SEGMENT_TIMELINE:Se.segmentInfoType=i.Z.SEGMENT_TEMPLATE,j.hasOwnProperty(i.Z.INITIALIZATION_MINUS)&&(Se.initialization=j.initialization.split("$Bandwidth$").join(le.bandwidth).split("$RepresentationID$").join(le.id))):Se.segmentInfoType=i.Z.BASE_URL,Se.essentialProperties=me(le),j){if(j.hasOwnProperty(i.Z.INITIALIZATION)){var Ue=j.Initialization;Ue.hasOwnProperty(i.Z.SOURCE_URL)&&(Se.initialization=Ue.sourceURL),Ue.hasOwnProperty(i.Z.RANGE)&&(Se.range=Ue.range)}else Q(ie)&&z(ie)&&ie.mimeType&&ie.mimeType.indexOf("application/mp4")===-1&&(Se.range=0);j.hasOwnProperty(i.Z.TIMESCALE)&&(Se.timescale=j.timescale),j.hasOwnProperty(i.Z.DURATION)?Se.segmentDuration=j.duration/Se.timescale:le.hasOwnProperty(i.Z.SEGMENT_TEMPLATE)&&(j=le.SegmentTemplate).hasOwnProperty(i.Z.SEGMENT_TIMELINE)&&(Se.segmentDuration=_e(j.SegmentTimeline)/Se.timescale),j.hasOwnProperty(i.Z.MEDIA)&&(Se.media=j.media),j.hasOwnProperty(i.Z.START_NUMBER)&&(Se.startNumber=j.startNumber),j.hasOwnProperty(i.Z.INDEX_RANGE)&&(Se.indexRange=j.indexRange),j.hasOwnProperty(i.Z.PRESENTATION_TIME_OFFSET)&&(Se.presentationTimeOffset=j.presentationTimeOffset/Se.timescale),j.hasOwnProperty(i.Z.AVAILABILITY_TIME_OFFSET)?Se.availabilityTimeOffset=j.availabilityTimeOffset:B&&B.availabilityTimeOffset!==void 0&&(Se.availabilityTimeOffset=B.availabilityTimeOffset),j.hasOwnProperty(i.Z.AVAILABILITY_TIME_COMPLETE)?Se.availabilityTimeComplete=j.availabilityTimeComplete!=="false":B&&B.availabilityTimeComplete!==void 0&&(Se.availabilityTimeComplete=B.availabilityTimeComplete)}Se.MSETimeOffset=(D=(G=Se).presentationTimeOffset,G.adaptation.period.start-D),Se.path=[T.period.index,T.index,se],fe.push(Se)}}return fe},getAdaptationsForPeriod:function(T){var j,B,G,D=T&&w(T.index)?T.mpd.manifest.Period_asArray[T.index]:null,fe=[];if(D&&D.AdaptationSet_asArray)for(G=0;G<D.AdaptationSet_asArray.length;G++)B=D.AdaptationSet_asArray[G],j=new Nn,B.hasOwnProperty(i.Z.ID)&&(j.id=B.id),j.index=G,j.period=T,L(B,o.Z.MUXED)?j.type=o.Z.MUXED:L(B,o.Z.AUDIO)?j.type=o.Z.AUDIO:J(B)?j.type=o.Z.VIDEO:Q(B)?j.type=o.Z.TEXT:k(B)?j.type=o.Z.IMAGE:c.warn("Unknown Adaptation stream type"),fe.push(j);return fe},getRegularPeriods:function(T){var j,B,G=!!T&&ce(T.manifest),D=[],fe=null,ie=null,pe=null,se=null;for(B=0,j=T&&T.manifest&&T.manifest.Period_asArray?T.manifest.Period_asArray.length:0;B<j;B++)(ie=T.manifest.Period_asArray[B]).hasOwnProperty(i.Z.START)?(se=new tr).start=ie.start:fe!==null&&fe.hasOwnProperty(i.Z.DURATION)&&pe!==null?(se=new tr).start=parseFloat((pe.start+pe.duration).toFixed(5)):B!==0||G||((se=new tr).start=0),pe!==null&&isNaN(pe.duration)&&(se!==null?pe.duration=parseFloat((se.start-pe.start).toFixed(5)):c.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),se!==null&&(se.id=X(ie,B),se.index=B,se.mpd=T,ie.hasOwnProperty(i.Z.DURATION)&&(se.duration=ie.duration),pe&&(pe.nextPeriodId=se.id),D.push(se),fe=ie,pe=se),ie=null,se=null;return D.length===0||pe!==null&&isNaN(pe.duration)&&(pe.duration=parseFloat((function(V){(function(){if(!h||!h.hasOwnProperty("error"))throw new Error(o.Z.MISSING_CONFIG_ERROR)})();var le,Se=ce(V.mpd.manifest);return V.mpd.manifest.mediaPresentationDuration?le=V.mpd.manifest.mediaPresentationDuration:V.duration?le=V.duration:Se?le=Number.POSITIVE_INFINITY:h.error(new de.Z(ae.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",V)),le}(pe)-pe.start).toFixed(5))),D},getMpd:function(T){var j=new vr;return T&&(j.manifest=T,T.hasOwnProperty(i.Z.AVAILABILITY_START_TIME)?j.availabilityStartTime=new Date(T.availabilityStartTime.getTime()):T.loadedTime&&(j.availabilityStartTime=new Date(T.loadedTime.getTime())),T.hasOwnProperty(i.Z.AVAILABILITY_END_TIME)&&(j.availabilityEndTime=new Date(T.availabilityEndTime.getTime())),T.hasOwnProperty(i.Z.MINIMUM_UPDATE_PERIOD)&&(j.minimumUpdatePeriod=T.minimumUpdatePeriod),T.hasOwnProperty(i.Z.MEDIA_PRESENTATION_DURATION)&&(j.mediaPresentationDuration=T.mediaPresentationDuration),T.hasOwnProperty(i.Z.SUGGESTED_PRESENTATION_DELAY)&&(j.suggestedPresentationDelay=T.suggestedPresentationDelay),T.hasOwnProperty(i.Z.TIMESHIFT_BUFFER_DEPTH)&&(j.timeShiftBufferDepth=T.timeShiftBufferDepth),T.hasOwnProperty(i.Z.MAX_SEGMENT_DURATION)&&(j.maxSegmentDuration=T.maxSegmentDuration),T.hasOwnProperty(i.Z.PUBLISH_TIME)&&(j.publishTime=new Date(T.publishTime))),j},getEventsForPeriod:function(T){var j,B,G=T&&T.mpd&&T.mpd.manifest?T.mpd.manifest:null,D=G?G.Period_asArray:null,fe=D&&T&&w(T.index)?D[T.index].EventStream_asArray:null,ie=[];if(fe)for(j=0;j<fe.length;j++){var pe=new Do;if(pe.period=T,pe.timescale=1,!fe[j].hasOwnProperty(o.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(pe.schemeIdUri=fe[j][o.Z.SCHEME_ID_URI],fe[j].hasOwnProperty(i.Z.TIMESCALE)&&(pe.timescale=fe[j][i.Z.TIMESCALE]),fe[j].hasOwnProperty(i.Z.VALUE)&&(pe.value=fe[j][i.Z.VALUE]),fe[j].hasOwnProperty(i.Z.PRESENTATION_TIME_OFFSET)&&(pe.presentationTimeOffset=fe[j][i.Z.PRESENTATION_TIME_OFFSET]),B=0;fe[j].Event_asArray&&B<fe[j].Event_asArray.length;B++){var se=fe[j].Event_asArray[B],V=new Er;V.presentationTime=0,V.eventStream=pe,se.hasOwnProperty(i.Z.PRESENTATION_TIME)&&(V.presentationTime=se.presentationTime);var le=pe.presentationTimeOffset?pe.presentationTimeOffset/pe.timescale:0;V.calculatedPresentationTime=V.presentationTime/pe.timescale+T.start-le,se.hasOwnProperty(i.Z.DURATION)&&(V.duration=se.duration/pe.timescale),se.hasOwnProperty(i.Z.ID)?V.id=se.id:V.id=null,se.Signal&&se.Signal.Binary?V.messageData=I.decodeArray(se.Signal.Binary.toString()):V.messageData=se.messageData||se.__cdata||se.__text,ie.push(V)}}return ie},getEssentialPropertiesForAdaptation:function(T){var j={};if(T&&T.hasOwnProperty(i.Z.ESSENTIAL_PROPERTY_ASARRAY)){var B,G=$t(T.EssentialProperty_asArray);try{for(G.s();!(B=G.n()).done;){var D=B.value;D.hasOwnProperty(o.Z.SCHEME_ID_URI)&&(j[D[o.Z.SCHEME_ID_URI]]=wt({},D))}}catch(fe){G.e(fe)}finally{G.f()}}return j},getEssentialPropertiesAsArrayForAdaptation:function(T){return T&&T.hasOwnProperty(i.Z.ESSENTIAL_PROPERTY_ASARRAY)&&T.EssentialProperty_asArray.length?T.EssentialProperty_asArray.map(function(j){return new Ve().init(j)}):[]},getEssentialPropertiesForRepresentation:me,getEventStreamForAdaptationSet:function(T,j,B){var G,D,fe;return T&&T.Period_asArray&&j&&j.period&&w(j.period.index)&&(D=T.Period_asArray[j.period.index])&&D.AdaptationSet_asArray&&w(j.index)&&(fe=D.AdaptationSet_asArray[j.index])&&(G=fe.InbandEventStream_asArray),ge(G,null,B)},getEventStreamForRepresentation:function(T,j,B){var G,D,fe,ie;return T&&T.Period_asArray&&j&&j.adaptation&&j.adaptation.period&&w(j.adaptation.period.index)&&(D=T.Period_asArray[j.adaptation.period.index])&&D.AdaptationSet_asArray&&w(j.adaptation.index)&&(fe=D.AdaptationSet_asArray[j.adaptation.index])&&fe.Representation_asArray&&w(j.index)&&(ie=fe.Representation_asArray[j.index])&&(G=ie.InbandEventStream_asArray),ge(G,j,B)},getUTCTimingSources:function(T){var j=ce(T),B=!!T&&T.hasOwnProperty(i.Z.AVAILABILITY_START_TIME),G=T?T.UTCTiming_asArray:null,D=[];return(j||B)&&G&&G.forEach(function(fe){var ie=new jr.Z;fe.hasOwnProperty(o.Z.SCHEME_ID_URI)&&(ie.schemeIdUri=fe.schemeIdUri,fe.hasOwnProperty(i.Z.VALUE)&&(ie.value=fe.value.toString(),D.push(ie)))}),D},getBaseURLsFromElement:ee,getRepresentationSortFunction:function(){return function(T,j){return T.bandwidth-j.bandwidth}},getContentSteering:function(T){if(T&&T.hasOwnProperty(i.Z.CONTENT_STEERING_AS_ARRAY))return ye(T[i.Z.CONTENT_STEERING_AS_ARRAY][0])},getLocation:function(T){return T&&T.hasOwnProperty(i.Z.LOCATION_AS_ARRAY)?T[i.Z.LOCATION_AS_ARRAY].map(function(j){var B=j.__text||j,G=j.hasOwnProperty(i.Z.SERVICE_LOCATION)?j[i.Z.SERVICE_LOCATION]:null;return new nn(B,G)}):[]},getPatchLocation:function(T){return T&&T.hasOwnProperty(i.Z.PATCH_LOCATION_AS_ARRAY)?T[i.Z.PATCH_LOCATION_AS_ARRAY].map(function(j){var B=j.__text||j,G=j.hasOwnProperty(i.Z.SERVICE_LOCATION)?j[i.Z.SERVICE_LOCATION]:null,D=j.hasOwnProperty(i.Z.TTL)?1e3*parseFloat(j[i.Z.TTL]):NaN;return new rn(B,G,D)}):[]},getSuggestedPresentationDelay:function(T){return T&&T.hasOwnProperty(i.Z.SUGGESTED_PRESENTATION_DELAY)?T.suggestedPresentationDelay:null},getAvailabilityStartTime:function(T){return T&&T.hasOwnProperty(i.Z.AVAILABILITY_START_TIME)&&T.availabilityStartTime!==null?T.availabilityStartTime.getTime():null},getServiceDescriptions:function(T){var j=[];if(T&&T.hasOwnProperty(i.Z.SERVICE_DESCRIPTION)){var B,G=$t(T.ServiceDescription_asArray);try{for(G.s();!(B=G.n()).done;){var D=B.value,fe=null,ie=null,pe=null,se=null,V=null,le=null,Se=null;for(var Ue in D)D.hasOwnProperty(Ue)&&(Ue===i.Z.ID?fe=D[Ue]:Ue===i.Z.SERVICE_DESCRIPTION_SCOPE?ie=D[Ue].schemeIdUri:Ue===i.Z.SERVICE_DESCRIPTION_LATENCY?pe={target:parseInt(D[Ue].target),max:parseInt(D[Ue].max),min:parseInt(D[Ue].min),referenceId:parseInt(D[Ue].referenceId)}:Ue===i.Z.SERVICE_DESCRIPTION_PLAYBACK_RATE?se={max:parseFloat(D[Ue].max),min:parseFloat(D[Ue].min)}:Ue===i.Z.SERVICE_DESCRIPTION_OPERATING_QUALITY?V={mediaType:D[Ue].mediaType,max:parseInt(D[Ue].max),min:parseInt(D[Ue].min),target:parseInt(D[Ue].target),type:D[Ue].type,maxQualityDifference:parseInt(D[Ue].maxQualityDifference)}:Ue===i.Z.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH?le={mediaType:D[Ue].mediaType,max:parseInt(D[Ue].max),min:parseInt(D[Ue].min),target:parseInt(D[Ue].target)}:Ue===i.Z.CONTENT_STEERING&&(Se=ye(D[Ue])));j.push({id:fe,schemeIdUri:ie,latency:pe,playbackRate:se,operatingQuality:V,operatingBandwidth:le,contentSteering:Se})}}catch(Oe){G.e(Oe)}finally{G.f()}}return j},getSegmentAlignment:function(T){return!(!T||!T.hasOwnProperty(i.Z.SEGMENT_ALIGNMENT))&&T[i.Z.SEGMENT_ALIGNMENT]==="true"},getSubSegmentAlignment:function(T){return!(!T||!T.hasOwnProperty(i.Z.SUB_SEGMENT_ALIGNMENT))&&T[i.Z.SUB_SEGMENT_ALIGNMENT]==="true"},getSupplementalPropertiesForAdaptation:function(T){var j={};if(T&&T.hasOwnProperty(i.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var B,G=$t(T.SupplementalProperty_asArray);try{for(G.s();!(B=G.n()).done;){var D=B.value;D.hasOwnProperty(o.Z.SCHEME_ID_URI)&&(j[D[o.Z.SCHEME_ID_URI]]=wt({},D))}}catch(fe){G.e(fe)}finally{G.f()}}return j},getSupplementalPropertiesAsArrayForAdaptation:function(T){return T&&T.hasOwnProperty(i.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&T.SupplementalProperty_asArray.length?T.SupplementalProperty_asArray.map(function(j){return new Ve().init(j)}):[]},getSupplementalPropertiesForRepresentation:function(T){var j={};if(T&&T.hasOwnProperty(i.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var B,G=$t(T.SupplementalProperty_asArray);try{for(G.s();!(B=G.n()).done;){var D=B.value;D.hasOwnProperty(o.Z.SCHEME_ID_URI)&&(j[D[o.Z.SCHEME_ID_URI]]=wt({},D))}}catch(fe){G.e(fe)}finally{G.f()}}return j},getSupplementalPropertiesAsArrayForRepresentation:function(T){return T&&T.hasOwnProperty(i.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&T.SupplementalProperty_asArray.length?T.SupplementalProperty_asArray.map(function(j){return new Ve().init(j)}):[]},setConfig:function(T){T&&(T.errHandler&&(h=T.errHandler),T.BASE64&&(I=T.BASE64))}},c=(0,y.Z)(P).getInstance().getLogger(g),g}Dn.__dashjs_factory_name="DashManifestModel";var sn=R.Z.getSingletonFactory(Dn),At=S(703);function Dt(g,c){var h;if(typeof Symbol>"u"||g[Symbol.iterator]==null){if(Array.isArray(g)||(h=function(z,J){if(z){if(typeof z=="string")return Yt(z,J);var Q=Object.prototype.toString.call(z).slice(8,-1);return Q==="Object"&&z.constructor&&(Q=z.constructor.name),Q==="Map"||Q==="Set"?Array.from(z):Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q)?Yt(z,J):void 0}}(g))||c){h&&(g=h);var I=0,P=function(){};return{s:P,n:function(){return I>=g.length?{done:!0}:{done:!1,value:g[I++]}},e:function(z){throw z},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O,w=!0,L=!1;return{s:function(){h=g[Symbol.iterator]()},n:function(){var z=h.next();return w=z.done,z},e:function(z){L=!0,O=z},f:function(){try{w||h.return==null||h.return()}finally{if(L)throw O}}}}function Yt(g,c){(c==null||c>g.length)&&(c=g.length);for(var h=0,I=new Array(c);h<c;h++)I[h]=g[h];return I}function fn(){var g,c,h,I,P,O,w,L,z,J,Q=this.context,k=(0,E.Z)(Q).getInstance(),W=(0,we.Z)(Q).getInstance();function K(){h={pr:1,nor:null,st:null,sf:null,sid:"".concat(At.Z.generateUuid()),cid:null},z={},L={},J={},ce()}function ve(){ce()}function ce(){if(O){var D=O.getStreamController();if(D&&typeof D.getActiveStream=="function"){var fe=D.getActiveStream();fe&&(w=fe.getProcessors())}}}function me(D,fe){var ie,pe={},se=Dt(fe);try{for(se.s();!(ie=se.n()).done;){var V=ie.value;D[V]&&(pe[V]=D[V])}}catch(le){se.e(le)}finally{se.f()}return pe}function _e(D){var fe=W.get().streaming.cmcd.enabledKeys;return D.filter(function(ie){return fe.includes(ie)})}function X(D){try{return D.type===Me.w.MPD_TYPE?((ie=ge()).ot="m",ie):D.type===Me.w.MEDIA_SEGMENT_TYPE?(fe=D.mediaType,J.hasOwnProperty(fe)||(J[fe]=!1),L.hasOwnProperty(fe)||(L[fe]=!1),z.hasOwnProperty(fe)||(z[fe]=!1),function(pe){var se,V=ge(),le=function(it){try{var Ut=it.quality,Ce=it.mediaInfo.bitrateList;return parseInt(Ce[Ut].bandwidth/1e3)}catch{return null}}(pe),Se=function(it){try{return isNaN(it.duration)?NaN:Math.round(1e3*it.duration)}catch{return null}}(pe),Ue=function(it){try{return 100*parseInt(I.getThroughputHistory().getSafeAverageThroughput(it)/100)}catch{return null}}(pe.mediaType),Oe=function(it){try{var Ut=h.pr,Ce=P.getCurrentBufferLevel(it);return isNaN(Ut)||isNaN(Ce)?null:100*parseInt(Ce/Ut*10)}catch{return null}}(pe.mediaType),Ze=ee(pe.mediaType),xe=function(it){try{var Ut=I.getTopBitrateInfoFor(it);return Math.round(Ut.bitrate/1e3)}catch{return null}}(pe.mediaType),lt=h.pr,ut=function(it){if(w&&w.length!==0){var Ut,Ce=Dt(w);try{for(Ce.s();!(Ut=Ce.n()).done;){var qe=Ut.value;if(qe.getType()===it)return qe.probeNextRequest()}}catch(ht){Ce.e(ht)}finally{Ce.f()}}}(pe.mediaType);pe.mediaType===o.Z.VIDEO&&(se="v"),pe.mediaType===o.Z.AUDIO&&(se="a"),pe.mediaType===o.Z.TEXT&&(se=pe.mediaInfo.mimeType==="application/mp4"?"tt":"c");var rt=W.get().streaming.cmcd.rtp;return rt||(rt=function(it){try{var Ut=O.getPlaybackRate();Ut||(Ut=1);var Ce=it.quality,qe=it.mediaType,ht=it.mediaInfo,Xe=it.duration;if(!ht)return NaN;var _t=ee(qe);_t===0&&(_t=500);var Et=ht.bitrateList[Ce].bandwidth*Xe/1e3/(_t/Ut/1e3),gt=W.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(W.get().streaming.cmcd.rtpSafetyFactor)?W.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(Et*gt/100)+1)}catch{return NaN}}(pe)),isNaN(rt)||(V.rtp=rt),ut&&(pe.url!==ut.url?V.nor=encodeURIComponent(At.Z.getRelativeUrl(pe.url,ut.url)):ut.range&&(V.nrr=ut.range)),le&&(V.br=le),se&&(V.ot=se),isNaN(Se)||(V.d=Se),isNaN(Ue)||(V.mtp=Ue),isNaN(Oe)||(V.dl=Oe),isNaN(Ze)||(V.bl=Ze),isNaN(xe)||(V.tb=xe),isNaN(lt)||lt===1||(V.pr=lt),z[pe.mediaType]&&(V.bs=!0,z[pe.mediaType]=!1),!L[pe.mediaType]&&J[pe.mediaType]||(V.su=!0,L[pe.mediaType]=!1,J[pe.mediaType]=!0),V}(D)):D.type===Me.w.INIT_SEGMENT_TYPE?function(){var pe=ge();return pe.ot="i",pe.su=!0,pe}():D.type===Me.w.OTHER_TYPE||D.type===Me.w.XLINK_EXPANSION_TYPE?function(){var pe=ge();return pe.ot="o",pe}():D.type===Me.w.LICENSE?function(pe){var se=ge();return se.ot="k",se}():null}catch{return null}var fe,ie}function ge(){var D={},fe=W.get().streaming.cmcd.cid?W.get().streaming.cmcd.cid:h.cid;return D.v=1,D.sid=W.get().streaming.cmcd.sid?W.get().streaming.cmcd.sid:h.sid,D.sid="".concat(D.sid),fe&&(D.cid="".concat(fe)),isNaN(h.pr)||h.pr===1||h.pr===null||(D.pr=h.pr),h.st&&(D.st=h.st),h.sf&&(D.sf=h.sf),D}function ee(D){try{var fe=P.getCurrentBufferLevel(D);return isNaN(fe)?null:100*parseInt(10*fe)}catch{return null}}function ye(D){try{h.pr=D.playbackRate}catch{}}function T(D){try{var fe=g.getIsDynamic(D.data)?"l":"v",ie=D.protocol&&D.protocol==="MSS"?"s":"d";h.st="".concat(fe),h.sf="".concat(ie)}catch{}}function j(D){try{D.state&&D.mediaType&&D.state===r.Z.BUFFER_EMPTY&&(z[D.mediaType]||(z[D.mediaType]=!0),L[D.mediaType]||(L[D.mediaType]=!0))}catch{}}function B(){for(var D in z)z.hasOwnProperty(D)&&(z[D]=!0);for(var fe in L)L.hasOwnProperty(fe)&&(L[fe]=!0)}function G(D){try{if(!D)return null;var fe=Object.keys(D).sort(function(se,V){return se.localeCompare(V)}),ie=fe.length,pe=fe.reduce(function(se,V,le){return V==="v"&&D[V]===1||(typeof D[V]=="string"&&V!=="ot"&&V!=="sf"&&V!=="st"?se+="".concat(V,"=").concat(JSON.stringify(D[V])):se+="".concat(V,"=").concat(D[V]),le<ie-1&&(se+=",")),se},"");return(pe=pe.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return c={getQueryParameter:function(D){try{if(W.get().streaming.cmcd&&W.get().streaming.cmcd.enabled){var fe=X(D),ie=function(se){try{var V=W.get().streaming.cmcd.enabledKeys;return Object.keys(se).filter(function(le){return V.includes(le)}).reduce(function(le,Se){return le[Se]=se[Se],le},{})}catch{return se}}(fe),pe=G(ie);return k.trigger(Mn.Z.CMCD_DATA_GENERATED,{url:D.url,mediaType:D.mediaType,cmcdData:fe,cmcdString:pe}),{key:"CMCD",value:pe}}return null}catch{return null}},getHeaderParameters:function(D){try{if(W.get().streaming.cmcd&&W.get().streaming.cmcd.enabled){var fe=X(D),ie=me(fe,_e(["br","d","ot","tb"])),pe=me(fe,_e(["bl","dl","mtp","nor","nrr","su"])),se=me(fe,_e(["bs","rtp"])),V=me(fe,_e(["cid","pr","sf","sid","st","v"])),le={"CMCD-Object":G(ie),"CMCD-Request":G(pe),"CMCD-Status":G(se),"CMCD-Session":G(V)};return k.trigger(Mn.Z.CMCD_DATA_GENERATED,{url:D.url,mediaType:D.mediaType,cmcdData:fe,headers:le}),le}return null}catch{return null}},setConfig:function(D){D&&(D.abrController&&(I=D.abrController),D.dashMetrics&&(P=D.dashMetrics),D.playbackController&&(O=D.playbackController))},reset:function(){k.off(r.Z.PLAYBACK_RATE_CHANGED,ye,this),k.off(r.Z.MANIFEST_LOADED,T,this),k.off(r.Z.BUFFER_LEVEL_STATE_CHANGED,j,c),k.off(r.Z.PLAYBACK_SEEKED,B,c),K()},initialize:function(){k.on(r.Z.PLAYBACK_RATE_CHANGED,ye,c),k.on(r.Z.MANIFEST_LOADED,T,c),k.on(r.Z.BUFFER_LEVEL_STATE_CHANGED,j,c),k.on(r.Z.PLAYBACK_SEEKED,B,c),k.on(r.Z.PERIOD_SWITCH_COMPLETED,ve,c)}},g=sn(Q).getInstance(),K(),c}fn.__dashjs_factory_name="CmcdModel";var hn=R.Z.getSingletonFactory(fn);function In(g){return In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},In(g)}function Cn(g,c){Cn=function(L,z){return new O(L,void 0,z)};var h=pr(RegExp),I=RegExp.prototype,P=new WeakMap;function O(L,z,J){var Q=h.call(this,L,z);return P.set(Q,J||P.get(L)),Q}function w(L,z){var J=P.get(z);return Object.keys(J).reduce(function(Q,k){return Q[k]=L[J[k]],Q},Object.create(null))}return gr(O,h),O.prototype.exec=function(L){var z=I.exec.call(this,L);return z&&(z.groups=w(z,this)),z},O.prototype[Symbol.replace]=function(L,z){if(typeof z=="string"){var J=P.get(this);return I[Symbol.replace].call(this,L,z.replace(/\$<([^>]+)>/g,function(k,W){return"$"+J[W]}))}if(typeof z=="function"){var Q=this;return I[Symbol.replace].call(this,L,function(){var k=[];return k.push.apply(k,arguments),In(k[k.length-1])!=="object"&&k.push(w(k,Q)),z.apply(this,k)})}return I[Symbol.replace].call(this,L,z)},Cn.apply(this,arguments)}function gr(g,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(c&&c.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),c&&Vn(g,c)}function pr(g){var c=typeof Map=="function"?new Map:void 0;return pr=function(h){if(h===null||(I=h,Function.toString.call(I).indexOf("[native code]")===-1))return h;var I;if(typeof h!="function")throw new TypeError("Super expression must either be null or a function");if(c!==void 0){if(c.has(h))return c.get(h);c.set(h,P)}function P(){return jn(h,arguments,hr(this).constructor)}return P.prototype=Object.create(h.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),Vn(P,h)},pr(g)}function jn(g,c,h){return jn=or()?Reflect.construct:function(I,P,O){var w=[null];w.push.apply(w,P);var L=new(Function.bind.apply(I,w));return O&&Vn(L,O.prototype),L},jn.apply(null,arguments)}function or(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vn(g,c){return Vn=Object.setPrototypeOf||function(h,I){return h.__proto__=I,h},Vn(g,c)}function hr(g){return hr=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},hr(g)}var ki="static",$r="dynamic",li="cmsd-",Ar=li+ki,ds=li+$r,Oo="stream",gs=["mb","st","sf","v"],ps={video:"v",audio:"a",text:"tt",stream:Oo},hs=/^[-0-9]/;function Mo(){var g,c,h,I,P=this.context,O=(0,E.Z)(P).getInstance();function w(){h={},I={}}function L(K){K&&Object.keys(K).forEach(function(ve){gs.includes(ve)||delete K[ve]})}function z(K){return!K||K.toLowerCase()!=="false"&&(hs.test(K)?parseInt(K,10):K.replace(/["]+/g,""))}function J(K){try{for(var ve={},ce=K.split(","),me=0;me<ce.length;me++){var _e=ce[me].split("="),X=_e[0],ge=z(_e[1]);ve[X]=ge}return ve}catch(ee){c.error("Failed to parse CMSD-Static response header value:",ee)}}function Q(K){try{for(var ve={},ce=K.split(","),me=ce[ce.length-1].split(";"),_e=1;_e<me.length;_e++){var X=me[_e].split("="),ge=X[0],ee=z(X[1]);ve[ge]=ee}return ve}catch(ye){return c.error("Failed to parse CMSD-Dynamic response header value:",ye),[]}}function k(K){return ps[K]||"o"}function W(K,ve,ce){var me=K===ki?h:I,_e=me[ve]||{},X=me[Oo]||{};return _e[ce]||X[ce]}return g={setConfig:function(){},initialize:function(){},reset:function(){w()},parseResponseHeaders:function(K,ve){for(var ce=null,me=null,_e=K.split(`\r
`),X=_e.length-1;X>=0;X--){var ge=_e[X].match(Cn(/^((?:(?!:)[\s\S])*):[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(.*)$/,{key:1,value:2}));if(ge&&ge.groups){var ee=ge.groups.key.toLowerCase(),ye=ge.groups.value;switch(ee){case Ar:ce=J(ye),O.trigger(f.Z.CMSD_STATIC_HEADER,ce);break;case ds:me||(me=Q(ye))}}}var T=Oo;return ce&&ce.ot?T=ce.ot:ve&&(T=k(ve)),L(h[T]),L(I[T]),ce&&(h[T]=Object.assign(h[T]||{},ce)),me&&(I[T]=Object.assign(I[T]||{},me)),{static:ce,dynamic:me}},getMaxBitrate:function(K){var ve=k(K);return W($r,ve,"mb")||-1},getEstimatedThroughput:function(K){var ve=k(K);return W($r,ve,"etp")||null},getResponseDelay:function(K){var ve=k(K);return W($r,ve,"rd")||null},getRoundTripTime:function(K){var ve=k(K);return W($r,ve,"rtt")||null}},c=(0,y.Z)(P).getInstance().getLogger(g),w(),g}Mo.__dashjs_factory_name="CmsdModel";var xt=R.Z.getSingletonFactory(Mo);function ln(){var g,c,h=this.context,I={};function P(){c=(0,y.Z)(h).getInstance().getLogger(g)}function O(L){for(var z={},J=0,Q=0,k=0,W=0,K=L.length,ve=0;ve<K;++ve)J+=L[ve].chunkDownloadTimeRelativeMS,Q+=L[ve].bufferLevel,k+=L[ve].chunkDownloadTimeRelativeMS*L[ve].bufferLevel,W+=L[ve].chunkDownloadTimeRelativeMS*L[ve].chunkDownloadTimeRelativeMS;return z.m=(k-J*Q/K)/(W-J*J/K),z.b=Q/K-z.m*J/K,function(ce){return z.m*ce+z.b}}function w(L){var z,J=!0,Q=L.reduce(function(k,W){return k+W.bufferLevelAtSegmentEnd},0)/L.length;return L.forEach(function(k){Math.abs(k.bufferLevelAtSegmentEnd/k.bufferLevelAtSegmentStart)<.95&&(J=!1),k.bufferLevelAtSegmentEnd/Q<.8&&(J=!1),z?z>k.bitrate&&(J=!1):z=k.bitrate}),J}return g={setup:P,addMeasurement:function(L,z,J,Q,k){L&&L.mediaType&&!I[L.mediaType]&&(I[L.mediaType]=[]);var W=L.mediaInfo.bitrateList.find(function(K){return K.id===L.representationId});I[L.mediaType].push({index:L.index,repId:L.representationId,mediaType:L.mediaType,requestTimeMS:Q,adjustedAvailabilityStartTimeMS:L.availabilityStartTime.getTime(),segDurationMS:1e3*L.duration,chunksDurationMS:J.reduce(function(K,ve){return K+ve.chunkDownloadDurationMS},0),segmentBytes:J.reduce(function(K,ve){return K+ve.chunkBytes},0),bitrate:W&&W.bandwidth,bitrateList:L.mediaInfo.bitrateList,chunkMeasurements:J,fetchDownloadDurationMS:z,throughputCapacityDelayMS:k,getEstimatedBufferLevel:O(J.slice(1))}),I[L.mediaType].length>10&&I[L.mediaType].shift()},getThroughputCapacityDelayMS:function(L,z){var J=I[L.mediaType]&&I[L.mediaType].slice(-3);return!J||J.length<3?0:w(J)?z/4>250?250:z/4:0},getEstimatedDownloadDurationMS:function(L){var z=I[L.mediaType].slice(-1).pop(),J=I[L.mediaType].slice(-3),Q=z.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;z.bufferLevelAtSegmentStart=z.getEstimatedBufferLevel(Q/2),z.bufferLevelAtSegmentEnd=z.getEstimatedBufferLevel(Q);var k=w(J),W=k?.6:.8;if(z.isBufferStable&&1.05*z.segDurationMS<z.fetchDownloadDurationMS)return z.fetchDownloadDurationMS;if(!k||z.segDurationMS<z.fetchDownloadDurationMS||z.adjustedAvailabilityStartTimeMS<=z.requestTimeMS+z.throughputCapacityDelayMS-z.segDurationMS)return .8*z.fetchDownloadDurationMS;for(var K=z.requestTimeMS+z.throughputCapacityDelayMS-z.adjustedAvailabilityStartTimeMS,ve=0,ce=0,me=0,_e=0;_e<z.chunkMeasurements.length;_e++){var X=z.chunkMeasurements[_e];if(K<ce+X.chunkDownloadDurationMS)break;ce+=X.chunkDownloadDurationMS,ve+=X.chunkBytes,me++}if(K<0&&c.warn("request time was before adjusted availibitly start time"),ve&&ce&&me>.2*z.chunkMeasurements.length){var ge=ve/ce,ee=z.segmentBytes/ge;return z.fetchDownloadDurationMS<ee?z.fetchDownloadDurationMS*W:ee*W}var ye=z.bitrate;return z.bitrateList.some(function(T){if(T.bandwidth>z.bitrate)return ye=T.bandwidth,!0}),ye===z.bitrate?z.fetchDownloadDurationMS*W:W*z.segmentBytes*8*1e3/ye}},P(),g}ln.__dashjs_factory_name="LowLatencyThroughputModel";var _n=R.Z.getSingletonFactory(ln),Kn=S(5717);function Pn(g,c,h){return c in g?Object.defineProperty(g,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):g[c]=h,g}function ar(g){g=g||{};var c,h,I,P,O,w,L,z,J,Q,k,W=this.context,K=g.errHandler,ve=g.dashMetrics,ce=g.mediaPlayerModel,me=g.requestModifier,_e=g.boxParser,X=g.errors,ge=g.requestTimeout||0,ee=(0,E.Z)(W).getInstance(),ye=(0,we.Z)(W).getInstance();function T(j,B){var G,D=j.request,fe=[],ie=!0,pe=!0,se=new Date,V=se,le=0,Se=null,Ue=null;if(!me||!ve||!K)throw new Error("config object is not correct or missing");var Oe,Ze=function(_t){D.requestStartDate=se,D.requestEndDate=new Date,D.firstByteDate=D.firstByteDate||se,D.fileLoaderType=Ue;var Et=G.response?G.response.responseURL:null,gt=G.response?G.response.status:null,Kt=G.response&&G.response.getAllResponseHeaders?G.response.getAllResponseHeaders():G.response?G.response.responseHeaders:null,Vt=Kt&&ye.get().streaming.cmsd&&ye.get().streaming.cmsd.enabled?L.parseResponseHeaders(Kt,D.mediaType):null;ve.addHttpRequest(D,Et,gt,Kt,_t?fe:null,Vt)},xe=function(_t){pe=!1,Ze(_t),D.type===Me.w.MPD_TYPE&&(ve.addManifestUpdate(D),ee.trigger(f.Z.MANIFEST_LOADING_FINISHED,{request:D}))},lt=function(){if(Se&&(clearTimeout(Se),Se=null),h.indexOf(G)!==-1&&(h.splice(h.indexOf(G),1),pe))if(xe(!1),B>0){try{ye.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&D.type===Me.w.MEDIA_SEGMENT_TYPE&&ce.getRetryAttemptsForType(Me.w.MEDIA_SEGMENT_TYPE)===B&&ee.trigger(f.Z.ATTEMPT_BACKGROUND_SYNC)}catch{}B--;var _t={config:j};P.push(_t),_t.timeout=setTimeout(function(){P.indexOf(_t)!==-1&&(P.splice(P.indexOf(_t),1),T(j,B))},ce.getRetryIntervalsForType(D.type))}else{if(D.type===Me.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;K.error(new de.Z(O[D.type],D.url+" is not available",{request:D,response:G.response})),j.error&&j.error(D,"error",G.response.statusText,G.response),j.complete&&j.complete(D,G.response.statusText)}};D.hasOwnProperty("availabilityTimeComplete")&&D.availabilityTimeComplete===!1&&window.fetch&&D.responseType==="arraybuffer"&&D.type===Me.w.MEDIA_SEGMENT_TYPE?((Oe=kn(W).create({requestModifier:me,lowLatencyThroughputModel:J,boxParser:_e})).setup({dashMetrics:ve}),Ue=o.Z.FILE_LOADER_TYPES.FETCH):(Oe=(0,Gt.Z)(W).create({requestModifier:me}),Ue=o.Z.FILE_LOADER_TYPES.XHR);var ut=null,rt=me.modifyRequestURL?me.modifyRequestURL(D.url):D.url;if(ye.get().streaming.cmcd&&ye.get().streaming.cmcd.enabled){var it=ye.get().streaming.cmcd.mode;if(it===o.Z.CMCD_MODE_QUERY){var Ut=function(_t){try{var Et=[],gt=w.getQueryParameter(_t);return gt&&Et.push(gt),Et}catch{return[]}}(D);rt=At.Z.addAditionalQueryParameterToUrl(rt,Ut)}else it===o.Z.CMCD_MODE_HEADER&&(ut=w.getHeaderParameters(D))}var Ce=z.getXHRWithCredentialsForType(D.type);if(D.queryParams){var qe=Object.keys(D.queryParams).map(function(_t){return{key:_t,value:D.queryParams[_t]}});rt=At.Z.addAditionalQueryParameterToUrl(rt,qe)}D.url=rt,G={url:rt,method:Me.w.GET,withCredentials:Ce,request:D,onload:function(){G.response.status>=200&&G.response.status<=299&&(xe(!0),j.success&&j.success(G.response.response,G.response.statusText,G.response.responseURL),j.complete&&j.complete(D,G.response.statusText))},onend:lt,onerror:lt,progress:function(_t){var Et=new Date;ie&&(ie=!1,(!_t.lengthComputable||_t.lengthComputable&&_t.total!==_t.loaded)&&(D.firstByteDate=Et)),_t.lengthComputable&&(D.bytesLoaded=_t.loaded,D.bytesTotal=_t.total),_t.noTrace||(fe.push({s:V,d:_t.time?_t.time:Et.getTime()-V.getTime(),b:[_t.loaded?_t.loaded-le:0]}),V=Et,le=_t.loaded),Se&&(clearTimeout(Se),Se=null),ye.get().streaming.fragmentRequestProgressTimeout>0&&(Se=setTimeout(function(){Q.warn("Abort request "+G.url+" due to progress timeout"),G.response.onabort=null,G.loader.abort(G),lt()},ye.get().streaming.fragmentRequestProgressTimeout)),j.progress&&_t&&j.progress(_t)},onabort:function(){Ze(!0),Se&&(clearTimeout(Se),Se=null),j.abort&&j.abort(D)},ontimeout:function(_t){var Et;if(_t.lengthComputable){var gt=_t.loaded/_t.total*100;Et="Request timeout: loaded: "+_t.loaded+", out of: "+_t.total+" : "+gt.toFixed(3)+"% Completed"}else Et="Request timeout: non-computable download size";Q.warn(Et)},loader:Oe,timeout:ge,headers:ut};var ht=new Date().getTime();if(isNaN(D.delayLoadingTime)||ht>=D.delayLoadingTime)h.push(G),Oe.load(G);else{var Xe={httpRequest:G};I.push(Xe),Xe.delayTimeout=setTimeout(function(){if(I.indexOf(Xe)!==-1){I.splice(I.indexOf(Xe),1);try{se=new Date,V=se,h.push(Xe.httpRequest),Oe.load(Xe.httpRequest)}catch{Xe.httpRequest.onerror()}}},D.delayLoadingTime-ht)}}return c={load:function(j){j.request?T(j,ce.getRetryAttemptsForType(j.request.type)):j.error&&j.error(j.request,"error")},abort:function(){P.forEach(function(j){clearTimeout(j.timeout),j.config.request&&j.config.abort&&j.config.abort(j.config.request)}),P=[],I.forEach(function(j){return clearTimeout(j.delayTimeout)}),I=[],h.forEach(function(j){j.request.type!==Me.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(j.onloadend=j.onerror=j.onprogress=void 0,j.loader.abort(j))}),h=[]}},Q=(0,y.Z)(W).getInstance().getLogger(c),h=[],I=[],P=[],w=hn(W).getInstance(),L=xt(W).getInstance(),J=_n(W).getInstance(),z=(0,Kn.Z)(W).getInstance(),Pn(k={},Me.w.MPD_TYPE,X.DOWNLOAD_ERROR_ID_MANIFEST_CODE),Pn(k,Me.w.XLINK_EXPANSION_TYPE,X.DOWNLOAD_ERROR_ID_XLINK_CODE),Pn(k,Me.w.INIT_SEGMENT_TYPE,X.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),Pn(k,Me.w.MEDIA_SEGMENT_TYPE,X.DOWNLOAD_ERROR_ID_CONTENT_CODE),Pn(k,Me.w.INDEX_SEGMENT_TYPE,X.DOWNLOAD_ERROR_ID_CONTENT_CODE),Pn(k,Me.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,X.DOWNLOAD_ERROR_ID_CONTENT_CODE),Pn(k,Me.w.OTHER_TYPE,X.DOWNLOAD_ERROR_ID_CONTENT_CODE),O=k,c}ar.__dashjs_factory_name="HTTPLoader";var Zn=R.Z.getClassFactory(ar);function qr(){var g;function c(){g={}}function h(){c()}return h(),{getLoader:function(I){for(var P in g)if(g.hasOwnProperty(P)&&I.startsWith(P))return g[P];return Zn},registerLoader:function(I,P){g[I]=P},unregisterLoader:function(I){g[I]&&delete g[I]},unregisterAllLoader:c,reset:h}}qr.__dashjs_factory_name="SchemeLoaderFactory";var nr=R.Z.getSingletonFactory(qr);function qn(g){g=g||{};var c,h,I=this.context;return c=nr(I).getInstance(),{load:function(P){if(!h){var O=c.getLoader(P&&P.request?P.request.url:null);h=O(I).create({errHandler:g.errHandler,mediaPlayerModel:g.mediaPlayerModel,requestModifier:g.requestModifier,dashMetrics:g.dashMetrics,boxParser:g.boxParser?g.boxParser:null,constants:g.constants?g.constants:null,dashConstants:g.dashConstants?g.dashConstants:null,urlUtils:g.urlUtils?g.urlUtils:null,requestTimeout:isNaN(g.requestTimeout)?0:g.requestTimeout,errors:g.errors})}h.load(P)},abort:function(){h&&h.abort()}}}qn.__dashjs_factory_name="URLLoader";var wr=R.Z.getClassFactory(qn);function Ir(g){return Ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Ir(g)}function ui(g,c){return ui=Object.setPrototypeOf||function(h,I){return h.__proto__=I,h},ui(g,c)}function Jr(g,c){return!c||Ir(c)!=="object"&&typeof c!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):c}function ci(g){return ci=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},ci(g)}var Fi=function(g){(function(O,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(w&&w.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),w&&ui(O,w)})(P,g);var c,h,I=(c=P,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,w=ci(c);if(h){var L=ci(this).constructor;O=Reflect.construct(w,arguments,L)}else O=w.apply(this,arguments);return Jr(this,O)});function P(O){var w;return function(L,z){if(!(L instanceof z))throw new TypeError("Cannot call a class as a function")}(this,P),(w=I.call(this,O)).checkForExistenceOnly=!0,w}return P}(N.Z);function ya(g){g=g||{};var c,h,I=this.context,P=g.eventBus,O=g.events,w=g.urlUtils,L=g.errors,z=g.streamId;return c={checkForExistence:function(J){var Q=function(W){P.trigger(O.CHECK_FOR_EXISTENCE_COMPLETED,{request:J,exists:W})};if(J){var k=new Fi(J.url);h.load({request:k,success:function(){Q(!0)},error:function(){Q(!1)}})}else Q(!1)},load:function(J){var Q=function(k,W){P.trigger(O.LOADING_COMPLETED,{request:J,response:k||null,error:W||null,sender:c})};J?h.load({request:J,progress:function(k){P.trigger(O.LOADING_PROGRESS,{request:J,stream:k.stream,streamId:z}),k.data&&P.trigger(O.LOADING_DATA_PROGRESS,{request:J,response:k.data||null,error:null,sender:c})},success:function(k){Q(k)},error:function(k,W,K){Q(void 0,new de.Z(L.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,K,W))},abort:function(k){k&&P.trigger(O.LOADING_ABANDONED,{mediaType:k.mediaType,request:k,sender:c})}}):Q(void 0,new de.Z(L.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,L.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){h&&h.abort()},reset:function(){h&&(h.abort(),h=null)}},h=wr(I).create({errHandler:g.errHandler,errors:L,dashMetrics:g.dashMetrics,mediaPlayerModel:g.mediaPlayerModel,requestModifier:g.requestModifier,urlUtils:w,constants:o.Z,boxParser:g.boxParser,dashConstants:g.dashConstants,requestTimeout:g.settings.get().streaming.fragmentRequestTimeout}),c}ya.__dashjs_factory_name="FragmentLoader";var Po=R.Z.getClassFactory(ya);function Lo(){return{modifyResponseAsync:function(g){return Promise.resolve(g)}}}Lo.__dashjs_factory_name="SegmentResponseModifier";var ms=R.Z.getSingletonFactory(Lo);function ys(g){g=g||{};var c,h,I,P=this.context,O=(0,E.Z)(P).getInstance(),w=g.errHandler,L=g.mediaPlayerModel,z=g.dashMetrics,J=(0,y.Z)(P).getInstance(),Q=ms(P).getInstance(),k=g.streamInfo;function W(){return k.id}function K(){for(var ce in I)I[ce].reset();I={}}function ve(ce){if(ce.sender){var me=ce.request,_e=ce.response,X=me.isInitializationRequest(),ge=me.mediaInfo.streamInfo;if(ce.error&&(me.mediaType===o.Z.AUDIO||me.mediaType===o.Z.VIDEO||me.mediaType===o.Z.TEXT&&me.mediaInfo.isFragmented)&&O.trigger(f.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD,{entry:ce.request.serviceLocation}),_e&&ge){var ee=function(ye,T,j,B){var G=new Ot;return G.streamId=j,G.mediaInfo=T.mediaInfo,G.segmentType=T.type,G.start=T.startTime,G.duration=T.duration,G.end=G.start+G.duration,G.bytes=ye,G.index=T.index,G.quality=T.quality,G.representationId=T.representationId,G.endFragment=B,G}(_e,me,k.id,ce.type!==f.Z.FRAGMENT_LOADING_PROGRESS);Q.modifyResponseAsync(ee).then(function(ye){O.trigger(X?f.Z.INIT_FRAGMENT_LOADED:f.Z.MEDIA_FRAGMENT_LOADED,{chunk:ye,request:me},{streamId:ge.id,mediaType:me.mediaType})}).catch(function(ye){h.error(ye),O.trigger(X?f.Z.INIT_FRAGMENT_LOADED:f.Z.MEDIA_FRAGMENT_LOADED,{chunk:ee,request:me},{streamId:ge.id,mediaType:me.mediaType})})}else h.warn("No "+me.mediaType+" bytes to push or stream is inactive.")}}return c={getStreamId:W,getModel:function(ce){var me=I[ce];return me||(me=ne(P).create({streamInfo:k,type:ce,dashMetrics:z,fragmentLoader:Po(P).create({dashMetrics:z,mediaPlayerModel:L,errHandler:w,requestModifier:(0,De.Z)(P).getInstance(),settings:g.settings,boxParser:g.boxParser,eventBus:O,events:f.Z,errors:ae,dashConstants:g.dashConstants,urlUtils:g.urlUtils,streamId:W()}),debug:J,eventBus:O,events:f.Z}),I[ce]=me),me},reset:function(){O.off(r.Z.FRAGMENT_LOADING_COMPLETED,ve,this),O.off(r.Z.FRAGMENT_LOADING_PROGRESS,ve,this),K()}},h=J.getLogger(c),K(),O.on(r.Z.FRAGMENT_LOADING_COMPLETED,ve,c),O.on(r.Z.FRAGMENT_LOADING_PROGRESS,ve,c),c}ys.__dashjs_factory_name="FragmentController";var nu=R.Z.getClassFactory(ys),ru=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null},vs=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN};function Es(g){var c,h,I=this.context,P=g.streamInfo;function O(L){h.setTrackByIndex(L)}function w(){h&&h.reset()}return c={getStreamId:function(){return P.id},initialize:function(){h.addTracks();var L=h.getTracks();L&&L.length>0&&O(0)},provide:function(L,z){if(typeof z=="function"){var J,Q,k=h.getCurrentTrack();if(!k||k.segmentDuration<=0||L==null)z(null);else{(Q=h.getThumbnailRequestForTime(L))&&(k.segmentDuration=Q.duration),J=L%k.segmentDuration;var W=Math.floor(J*k.tilesHor*k.tilesVert/k.segmentDuration),K=new ru;if(K.width=Math.floor(k.widthPerTile),K.height=Math.floor(k.heightPerTile),K.x=Math.floor(W%k.tilesHor)*k.widthPerTile,K.y=Math.floor(W/k.tilesHor)*k.heightPerTile,"readThumbnail"in k)return k.readThumbnail(L,function(ce){K.url=ce,z(K)});if(Q)K.url=Q.url,k.segmentDuration=NaN;else{var ve=Math.floor(L/k.segmentDuration);K.url=function(ce,me){var _e=me+ce.startNumber,X=(0,d.vi)(ce.templateUrl,"Number",_e);return X=(0,d.vi)(X,"Time",(_e-1)*ce.segmentDuration*ce.timescale),X=(0,d.vi)(X,"Bandwidth",ce.bandwidth),(0,d.eR)(X)}(k,ve)}z(K)}}},setTrackByIndex:O,getCurrentTrackIndex:function(){return h.getCurrentTrackIndex()},getBitrateList:function(){var L=h.getTracks(),z=0;return L.map(function(J){var Q=new vs;return Q.mediaType=o.Z.IMAGE,Q.qualityIndex=z++,Q.bitrate=J.bitrate,Q.width=J.width,Q.height=J.height,Q})},reset:w},w(),h=(0,Bt.Z)(I).create({streamInfo:P,adapter:g.adapter,baseURLController:g.baseURLController,timelineConverter:g.timelineConverter,debug:g.debug,eventBus:g.eventBus,events:g.events,dashConstants:g.dashConstants,dashMetrics:g.dashMetrics,segmentBaseController:g.segmentBaseController}),c}Es.__dashjs_factory_name="ThumbnailController";var iu=R.Z.getClassFactory(Es),va=S(7417);function _s(g){var c;g=g||{};var h=[],I=(0,E.Z)(this.context).getInstance(),P=g.updateEventName,O=g.addBlacklistEventName;function w(L){h.indexOf(L)===-1&&(h.push(L),I.trigger(P,{entry:L}))}return c={add:w,contains:function(L){return!!(h.length&&L&&L.length)&&h.indexOf(L)!==-1},reset:function(){h=[]}},O&&I.on(O,function(L){w(L.entry)},c),c}_s.__dashjs_factory_name="BlackListController";var xo=R.Z.getClassFactory(_s),ou=[o.Z.VIDEO,o.Z.AUDIO,o.Z.TEXT,o.Z.MUXED,o.Z.IMAGE];function Bn(g){g=g||{};var c,h,I,P,O,w,L,z,J,Q,k,W,K,ve,ce,me,_e,X,ge=this.context,ee=(0,E.Z)(ge).getInstance(),ye=(0,tt.Z)(ge).getInstance(),T=g.manifestModel,j=g.mediaPlayerModel,B=g.dashMetrics,G=g.manifestUpdater,D=g.adapter,fe=g.timelineConverter,ie=g.capabilities,pe=g.errHandler,se=g.abrController,V=g.playbackController,le=g.eventController,Se=g.mediaController,Ue=g.protectionController,Oe=g.textController,Ze=g.videoModel,xe=g.streamInfo,lt=g.settings;function ut(pt,kt){return new Promise(function(jt,qt){Et(),Q=!0,Kt();var Qt=Ze.getElement(),We=[];ou.forEach(function(ke){(ke!==o.Z.TEXT||pt)&&(ke!==o.Z.VIDEO||!Qt||Qt&&/^VIDEO$/i.test(Qt.nodeName))&&We.push(rt(ke,pt))}),Promise.all(We).then(function(){return ke=kt,new Promise(function(ct){var Ee={},be=I.map(function(Je){return Je.createBufferSinks(ke)});Promise.all(be).then(function(Je){Je.forEach(function(Nt){Nt&&(Ee[Nt.getType()]=Nt)}),ct(Ee)}).catch(function(){ct(Ee)})});var ke}).then(function(ke){if(Q=!1,I.length===0){var ct="No streams to play.";pe.error(new de.Z(ae.MANIFEST_ERROR_ID_NOSTREAMS_CODE,ct,T.getValue())),h.fatal(ct)}else Vt();pt&&Oe.createTracks(xe),jt(ke)}).catch(function(ke){qt(ke)})})}function rt(pt,kt){var jt,qt=D.getAllMediaInfoForType(xe,pt),Qt=[],We=null;if(!qt||qt.length===0)return h.info("No "+pt+" data."),Promise.resolve();pt===o.Z.VIDEO&&(L=!0),pt===o.Z.AUDIO&&(z=!0);for(var ke=0,ct=qt.length;ke<ct;ke++)We=qt[ke],pt===o.Z.TEXT&&We.isEmbedded&&(Oe.addEmbeddedTrack(xe,We),Qt.push(We)),it(We)&&Se.addTrack(We);if(Qt.length>0&&(Se.setInitialMediaSettingsForType(pt,xe),Oe.addMediaInfosToBuffer(xe,pt,Qt)),qt=qt.filter(function(be){return!be.isEmbedded}),qt.length===0)return Promise.resolve();if(pt===o.Z.IMAGE)return(W=iu(ge).create({streamInfo:xe,adapter:D,baseURLController:g.baseURLController,timelineConverter:g.timelineConverter,debug:me,eventBus:ee,events:f.Z,dashConstants:i.Z,dashMetrics:g.dashMetrics,segmentBaseController:g.segmentBaseController})).initialize(),Promise.resolve();ee.trigger(f.Z.STREAM_INITIALIZING,{streamInfo:xe,mediaInfo:We}),Se.setInitialMediaSettingsForType(pt,xe);var Ee=function(be,Je){var Nt=be&&be.length>0?be[0]:null,Lt=k.getModel(Nt?Nt.type:null),yn=Nt?Nt.type:null,xn=Nt?Nt.mimeType:null,rr=Nt?Nt.isFragmented:null,Ln=zt(ge).create({streamInfo:xe,type:yn,mimeType:xn,timelineConverter:fe,adapter:D,manifestModel:T,mediaPlayerModel:j,fragmentModel:Lt,dashMetrics:g.dashMetrics,baseURLController:g.baseURLController,segmentBaseController:g.segmentBaseController,abrController:se,playbackController:V,mediaController:Se,textController:Oe,errHandler:pe,settings:lt,boxParser:ce,segmentBlacklistController:K});Ln.initialize(Je,L,rr),I.push(Ln);for(var Or=0;Or<be.length;Or++)Ln.addMediaInfo(be[Or]);return yn===o.Z.TEXT&&Oe.addMediaInfosToBuffer(xe,yn,be,Lt),Ln}(qt,kt);return(jt=Se.getCurrentTrackFor(pt,xe.id))?(se.updateTopQualityIndex(jt),Ee.selectMediaInfo(pt===o.Z.TEXT&&jt.isEmbedded?qt[0]:jt)):Promise.resolve()}function it(pt){var kt,jt=pt?pt.type:null;return jt===o.Z.MUXED?(kt="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",h.fatal(kt),pe.error(new de.Z(ae.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,kt,T.getValue())),!1):!(jt!==o.Z.TEXT&&jt!==o.Z.IMAGE&&pt.contentProtection&&!ie.supportsEncryptedMedia()&&(pe.error(new de.Z(ae.CAPABILITY_MEDIAKEYS_ERROR_CODE,ae.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function Ut(pt){for(var kt=I?I.length:0,jt=0;jt<kt;jt++){var qt=I[jt].getFragmentModel();qt.abortRequests(),qt.resetInitialSettings(),I[jt].reset(!1,pt)}Oe&&Oe.deactivateStream(xe),I=[],O=!1,w=!1,Jt(!1),qe(!1),ee.trigger(f.Z.STREAM_DEACTIVATED,{streamInfo:xe})}function Ce(pt){Ut(pt),P=!1,L=!1,z=!1,J={},Q=!1,_e=!1,X=[]}function qe(pt){_e=pt}function ht(){return xe?xe.start:NaN}function Xe(){return xe?xe.id:null}function _t(){return xe}function Et(){if(!Ze||!se)throw new Error(o.Z.MISSING_CONFIG_ERROR)}function gt(pt){pt.error&&(pe.error(pt.error),h.fatal(pt.error.message))}function Kt(){if(le){var pt=D.getEventsFor(xe);pt&&pt.length>0&&le.addInlineEvents(pt,xe.id)}}function Vt(){for(var pt=I.length,kt=J.audio||J.video?new de.Z(ae.DATA_UPDATE_FAILED_ERROR_CODE,ae.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,jt=0;jt<pt;jt++)if(I[jt].isUpdating()||Q)return;if(Ue){Ue.clearMediaInfoArray();for(var qt=0;qt<pt&&I[qt];qt++){var Qt=I[qt].getType(),We=I[qt].getMediaInfo();if(Qt===o.Z.AUDIO||Qt===o.Z.VIDEO||Qt===o.Z.TEXT&&We.isFragmented){var ke=I[qt].getMediaInfo();ke&&Ue.initializeForMedia(ke)}}Ue.handleKeySystemFromManifest()}kt?pe.error(kt):P||(P=!0,Ze.waitForReadyState(o.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){ee.trigger(f.Z.STREAM_INITIALIZED,{streamInfo:xe})}))}function gn(){var pt=bt(),kt=pt.length;if(kt!==0){for(var jt=0;jt<kt;jt++)if(!pt[jt].isBufferingCompleted()&&(pt[jt].getType()===o.Z.AUDIO||pt[jt].getType()===o.Z.VIDEO))return void h.debug("onBufferingCompleted - One streamProcessor has finished but",pt[jt].getType(),"one is not buffering completed");h.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),w=!0,ee.trigger(f.Z.STREAM_BUFFERING_COMPLETED,{streamInfo:xe},{streamInfo:xe})}else h.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function mn(pt){J[pt.mediaType]=pt.error,Vt()}function Ke(pt){le&&le.addInbandEvents(pt.events,xe.id)}function yt(pt){return pt&&pt.type?st(pt.type):null}function st(pt){return pt?bt().filter(function(kt){return kt.getType()===pt})[0]:null}function bt(){for(var pt,kt,jt=[],qt=0;qt<I.length;qt++)(pt=(kt=I[qt]).getType())!==o.Z.AUDIO&&pt!==o.Z.VIDEO&&pt!==o.Z.TEXT||jt.push(kt);return jt}function Pt(pt,kt){var jt=_t(),qt=kt.getStreamInfo();if(!qt||!jt)return!0;var Qt=D.getAdaptationForType(qt.index,pt,qt),We=D.getAdaptationForType(jt.index,pt,jt);return Qt&&We?!(!Xt(We)&&Xt(Qt)):!Qt&&!We}function Xt(pt){return!!pt&&!!(pt.ContentProtection||pt.Representation_asArray&&pt.Representation_asArray.length>0&&pt.Representation_asArray[0].ContentProtection)}function Wt(pt,kt){var jt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!pt||!pt.hasOwnProperty("getStreamInfo"))return!1;var qt=pt.getStreamInfo(),Qt=jt?jt.getStreamInfo():_t();if(!qt||!Qt)return!1;var We=D.getAdaptationForType(qt.index,kt,qt),ke=D.getAdaptationForType(Qt.index,kt,Qt);if(!We||!ke)return!We&&!ke;var ct=We&&ke&&We.mimeType===ke.mimeType,Ee=ke.Representation_asArray.map(function(Lt){return Lt.codecs}),be=We.Representation_asArray.map(function(Lt){return Lt.codecs}),Je=be.some(function(Lt){return Ee.indexOf(Lt)>-1}),Nt=be.some(function(Lt){return Ee.some(function(yn){return ie.codecRootCompatibleWithCodec(yn,Lt)})});return Je||Nt&&ct}function Jt(pt){ve=pt}function an(){return ve}return c={initialize:function(){ee.on(f.Z.BUFFERING_COMPLETED,gn,c),ee.on(f.Z.DATA_UPDATE_COMPLETED,mn,c),ee.on(f.Z.INBAND_EVENTS,Ke,c),Ue&&(ee.on(f.Z.KEY_ERROR,gt,c),ee.on(f.Z.SERVER_CERTIFICATE_UPDATED,gt,c),ee.on(f.Z.LICENSE_REQUEST_COMPLETE,gt,c),ee.on(f.Z.KEY_SYSTEM_SELECTED,gt,c),ee.on(f.Z.KEY_SESSION_CREATED,gt,c),ee.on(f.Z.KEY_STATUSES_CHANGED,gt,c)),Oe.initializeForStream(xe),ee.trigger(f.Z.STREAM_UPDATED,{streamInfo:xe})},getStreamId:function(){return xe?xe.id:null},activate:function(pt,kt){return new Promise(function(jt,qt){if(!O)return an()?(O=!0,ee.trigger(f.Z.STREAM_ACTIVATED,{streamInfo:xe}),void jt(kt)):void function(Qt,We){return ut(Qt,We)}(pt,kt).then(function(Qt){O=!0,ee.trigger(f.Z.STREAM_ACTIVATED,{streamInfo:xe}),jt(Qt)}).catch(function(Qt){qt(Qt)});jt(kt)})},deactivate:Ut,getIsActive:function(){return O},getDuration:function(){return xe?xe.duration:NaN},getStartTime:ht,getId:Xe,getStreamInfo:_t,getHasAudioTrack:function(){return z},getHasVideoTrack:function(){return L},startPreloading:function(pt,kt){return new Promise(function(jt,qt){an()?qt():(h.info("[startPreloading] Preloading next stream with id ".concat(Xe())),Jt(!0),ut(pt,kt).then(function(){for(var Qt=0;Qt<I.length&&I[Qt];Qt++)I[Qt].setExplicitBufferingTime(ht()),I[Qt].getScheduleController().startScheduleTimer();jt()}).catch(function(){Jt(!1),qt()}))})},initializeForTextWithMediaSource:function(pt){return new Promise(function(kt,jt){rt(o.Z.TEXT,pt).then(function(){return(qt=st(o.Z.TEXT))?qt.createBufferSinks():Promise.resolve();var qt}).then(function(){Oe.createTracks(xe),kt()}).catch(function(qt){jt(qt)})})},getThumbnailController:function(){return W},getBitrateListFor:function(pt){if(Et(),pt===o.Z.IMAGE)return W?W.getBitrateList():[];var kt=function(jt){for(var qt=null,Qt=0;Qt<I.length;Qt++)if((qt=I[Qt]).getType()===jt)return qt.getMediaInfo();return null}(pt);return se.getBitrateList(kt)},updateData:function(pt){return new Promise(function(kt){Q=!0,xe=pt,le&&Kt();for(var jt=[],qt=0,Qt=I.length;qt<Qt;qt++){var We=I[qt],ke=We.getMediaInfo();jt.push(We.updateStreamInfo(xe));var ct=D.getAllMediaInfoForType(xe,We.getType());if(ct=ct.filter(function(Je){return!Je.isEmbedded})){We.clearMediaInfoArray();for(var Ee=0;Ee<ct.length;Ee++){var be=ct[Ee];We.addMediaInfo(ct[Ee]),D.areMediaInfosEqual(ke,be)&&(se.updateTopQualityIndex(be),jt.push(We.selectMediaInfo(be)))}}}Promise.all(jt).then(function(){for(jt=[];X.length>0;){var Je=X.pop(),Nt=Je.newMediaInfo,Lt=yt(Je.oldMediaInfo);if(!Lt)return;jt.push(Lt.prepareTrackSwitch()),jt.push(Lt.selectMediaInfo(Nt))}return Promise.all(jt)}).then(function(){Q=!1,Vt(),ee.trigger(f.Z.STREAM_UPDATED,{streamInfo:xe}),kt()})})},reset:function(pt){k&&(k.reset(),k=null),se&&xe&&se.clearDataForStream(xe.id),K&&(K.reset(),K=null),Ce(pt),xe=null,ee.off(f.Z.DATA_UPDATE_COMPLETED,mn,c),ee.off(f.Z.BUFFERING_COMPLETED,gn,c),ee.off(f.Z.INBAND_EVENTS,Ke,c),Ue&&(ee.off(f.Z.KEY_ERROR,gt,c),ee.off(f.Z.SERVER_CERTIFICATE_UPDATED,gt,c),ee.off(f.Z.LICENSE_REQUEST_COMPLETE,gt,c),ee.off(f.Z.KEY_SYSTEM_SELECTED,gt,c),ee.off(f.Z.KEY_SESSION_CREATED,gt,c),ee.off(f.Z.KEY_STATUSES_CHANGED,gt,c))},getProcessors:bt,setMediaSource:function(pt){return new Promise(function(kt,jt){for(var qt=[],Qt=0;Qt<I.length;)it(I[Qt].getMediaInfo())?(qt.push(I[Qt].setMediaSource(pt)),Qt++):(I[Qt].reset(),I.splice(Qt,1));Promise.all(qt).then(function(){for(var We=0;We<I.length;We++)I[We].dischargePreBuffer();if(I.length===0){var ke="No streams to play.";pe.error(new de.Z(ae.MANIFEST_ERROR_ID_NOSTREAMS_CODE,ke+"nostreams",T.getValue())),h.fatal(ke)}kt()}).catch(function(We){h.error(We),jt(We)})})},isMediaCodecCompatible:function(pt){var kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return Wt(pt,o.Z.VIDEO,kt)&&Wt(pt,o.Z.AUDIO,kt)},isProtectionCompatible:function(pt){return!pt||Pt(o.Z.VIDEO,pt)&&Pt(o.Z.AUDIO,pt)},getPreloaded:an,getIsEndedEventSignaled:function(){return _e},setIsEndedEventSignaled:qe,getAdapter:function(){return D},getHasFinishedBuffering:function(){return w},setPreloaded:Jt,startScheduleControllers:function(){for(var pt=I.length,kt=0;kt<pt&&I[kt];kt++)I[kt].getScheduleController().startScheduleTimer()},prepareTrackChange:function(pt){if(O&&xe){w=!1;var kt=pt.newMediaInfo,jt=T.getValue();D.setCurrentMediaInfo(xe.id,kt.type,kt);var qt=yt(kt);if(qt){var Qt=V.getTime();h.info("Stream -  Process track changed at current time "+Qt),jt.refreshManifestOnSwitchTrack?(X.push(pt),G.getIsUpdating()||(h.debug("Stream -  Refreshing manifest for switch track"),G.refreshManifest())):qt.selectMediaInfo(kt).then(function(){kt.type!==o.Z.VIDEO&&kt.type!==o.Z.AUDIO||se.updateTopQualityIndex(kt),qt.prepareTrackSwitch()})}}},prepareQualityChange:function(pt){var kt=st(pt.mediaType);kt&&kt.prepareQualityChange(pt)}},function(){try{me=(0,y.Z)(ge).getInstance(),h=me.getLogger(c),Ce(),ce=(0,va.Z)(ge).getInstance(),K=xo(ge).create({updateEventName:f.Z.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:f.Z.SEGMENT_LOCATION_BLACKLIST_ADD}),k=nu(ge).create({streamInfo:xe,mediaPlayerModel:j,dashMetrics:B,errHandler:pe,settings:lt,boxParser:ce,dashConstants:i.Z,urlUtils:ye})}catch(pt){throw pt}}(),c}Bn.__dashjs_factory_name="Stream";var uo=R.Z.getClassFactory(Bn),ko=function g(c){(function(h,I){if(!(h instanceof I))throw new TypeError("Cannot call a class as a function")})(this,g),this.url=c||null,this.type=Me.w.CONTENT_STEERING_TYPE,this.responseType="json"},co=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.version=null,this.ttl=300,this.reloadUri=null,this.pathwayPriority=[],this.pathwayClones=[]};function Ts(){var g,c,h,I,P,O,w,L,z,J,Q,k,W,K,ve,ce=this.context,me=(0,tt.Z)(ce).getInstance();function _e(se){T(se,"baseUrl")}function X(se){T(se,"location")}function ge(se){if(se&&se.request&&se.request.serviceLocation&&se.request.requestStartDate&&se.request.requestEndDate&&!isNaN(se.request.bytesTotal)){var V=se.request.serviceLocation,le=se.request.requestEndDate.getTime()-se.request.requestStartDate.getTime();ye(V,parseInt(8*se.request.bytesTotal/le*1e3))}}function ee(se){se&&se.httpRequest&&se.httpRequest._serviceLocation&&!isNaN(se.throughput)&&ye(se.httpRequest._serviceLocation,1e3*se.throughput)}function ye(se,V){P[se]||(P[se]=[]),P[se].push(V),P[se].length>4&&P[se].shift()}function T(se,V){if(se&&se.request&&se.request.serviceLocation){var le=se.request.serviceLocation;I[V].all.indexOf(le)===-1&&I[V].all.push(le),I[V].current=le}}function j(){var se=Q.getValue(),V=ve.getContentSteering(se);return V||(V=W.getServiceDescriptionSettings().contentSteering),V}function B(){return new Promise(function(se){try{var V=j();if(!V||!V.serverUrl)return void se();var le=function(Ue){var Oe=Ue.serverUrl;h&&h.reloadUri&&(Oe=me.isRelative(h.reloadUri)?me.resolve(h.reloadUri,Ue.serverUrl):h.reloadUri);var Ze=[],xe=I.baseUrl.all.concat(I.location.all);if(xe.length>0){var lt=xe.map(function(it){var Ut=function(Ce){if(!Ce||!P[Ce]||P[Ce].length===0)return-1;var qe=P[Ce].reduce(function(ht,Xe){return ht+Xe})/P[Ce].length;return parseInt(qe)}(it);return{serviceLocation:it,throughput:Ut}});lt.sort(function(it,Ut){return Ut.throughput-it.throughput});var ut="",rt="";lt.forEach(function(it,Ut){Ut!==0&&(ut="".concat(ut,","),it.throughput>-1&&(rt="".concat(rt,","))),ut="".concat(ut).concat(it.serviceLocation),it.throughput>-1&&(rt="".concat(rt).concat(it.throughput))}),Ze.push({key:"_DASH_pathway",value:'"'.concat(ut,'"')}),Ze.push({key:"_DASH_throughput",value:rt})}return Oe=At.Z.addAditionalQueryParameterToUrl(Oe,Ze)}(V),Se=new ko(le);w.load({request:Se,success:function(Ue){(function(Oe){Oe&&Oe[i.Z.CONTENT_STEERING_RESPONSE.VERSION]&&parseInt(Oe[i.Z.CONTENT_STEERING_RESPONSE.VERSION])===1&&((h=new co).version=Oe[i.Z.CONTENT_STEERING_RESPONSE.VERSION],Oe[i.Z.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(Oe[i.Z.CONTENT_STEERING_RESPONSE.TTL])&&(h.ttl=Oe[i.Z.CONTENT_STEERING_RESPONSE.TTL]),Oe[i.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(h.reloadUri=Oe[i.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]),Oe[i.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]&&(h.pathwayPriority=Oe[i.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]),Oe[i.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES]&&(h.pathwayClones=Oe[i.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES],h.pathwayClones=h.pathwayClones.filter(function(Ze){return function(xe){return xe[i.Z.CONTENT_STEERING_RESPONSE.BASE_ID]&&xe[i.Z.CONTENT_STEERING_RESPONSE.ID]&&xe[i.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT]&&xe[i.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][i.Z.CONTENT_STEERING_RESPONSE.HOST]}(Ze)})),fe())})(Ue),K.trigger(r.Z.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:h,url:le}),se()},error:function(Ue,Oe,Ze,xe){(function(lt,ut){try{switch(c.warn("Error fetching data from content steering server",lt),ut.status){case 410:break;case 429:var rt=ut&&ut.getResponseHeader?ut.getResponseHeader("retry-after"):null;rt!==null&&(h||(h={}),h.ttl=parseInt(rt)),fe();break;default:fe()}}catch(it){c.error(it)}})(Ue,xe),se(Ue)},complete:function(){I.baseUrl.all=G(I.baseUrl),I.location.all=G(I.location)}})}catch(Ue){se(Ue)}})}function G(se){return se.all&&se.all.length!==0&&se.current?se.all.filter(function(V){return V===se.current}):[]}function D(se){try{var V=[];return se&&se.length!==0&&h&&h.pathwayClones&&h.pathwayClones.length!==0&&h.pathwayClones.forEach(function(le){var Se=se.filter(function(lt){return le[i.Z.CONTENT_STEERING_RESPONSE.BASE_ID]===lt.serviceLocation}),Ue=null;if(Se&&Se.length>0&&(Ue=Se[0]),Ue){var Oe=new URL(Ue.url),Ze=le[i.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][i.Z.CONTENT_STEERING_RESPONSE.HOST];Ze=At.Z.stringHasProtocol(Ze)?Ze:"".concat(Oe.protocol,"//").concat(Ze);var xe={synthesizedUrl:"".concat(Ze).concat(Oe.pathname),serviceLocation:le[i.Z.CONTENT_STEERING_RESPONSE.ID],queryParams:le[i.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][i.Z.CONTENT_STEERING_RESPONSE.PARAMS],reference:Ue};V.push(xe)}}),V}catch(le){return c.error(le),[]}}function fe(){h&&h.ttl&&!isNaN(h.ttl)&&(O&&clearTimeout(O),O=setTimeout(function(){B()},1e3*h.ttl))}function ie(){O&&clearTimeout(O),O=null}function pe(){h=null,P={},I={baseUrl:{current:null,all:[]},location:{current:null,all:[]}},ie()}return g={reset:function(){pe(),K.off(r.Z.FRAGMENT_LOADING_STARTED,_e,g),K.off(r.Z.MANIFEST_LOADING_STARTED,X,g),K.off(r.Z.MANIFEST_LOADING_FINISHED,ge,g),K.off(r.Z.THROUGHPUT_MEASUREMENT_STORED,ee,g)},setConfig:function(se){se&&(se.adapter&&(ve=se.adapter),se.errHandler&&(L=se.errHandler),se.dashMetrics&&(z=se.dashMetrics),se.mediaPlayerModel&&(J=se.mediaPlayerModel),se.requestModifier&&(k=se.requestModifier),se.manifestModel&&(Q=se.manifestModel),se.serviceDescriptionController&&(W=se.serviceDescriptionController),se.eventBus&&(K=se.eventBus))},loadSteeringData:B,getCurrentSteeringResponseData:function(){return h},shouldQueryBeforeStart:function(){var se=j();return!!se&&se.queryBeforeStart},getSteeringDataFromManifest:j,stopSteeringRequestTimer:ie,getSynthesizedBaseUrlElements:function(se){try{return D(se).map(function(V){var le=new Xr(V.synthesizedUrl,V.serviceLocation);return le.queryParams=V.queryParams,le.dvbPriority=V.reference.dvbPriority,le.dvbWeight=V.reference.dvbWeight,le.availabilityTimeOffset=V.reference.availabilityTimeOffset,le.availabilityTimeComplete=V.reference.availabilityTimeComplete,le})}catch(V){return c.error(V),[]}},getSynthesizedLocationElements:function(se){try{return D(se).map(function(V){var le=new nn(V.synthesizedUrl,V.serviceLocation);return le.queryParams=V.queryParams,le})}catch(V){return c.error(V),[]}},initialize:function(){w=wr(ce).create({errHandler:L,dashMetrics:z,mediaPlayerModel:J,requestModifier:k,errors:ae}),K.on(r.Z.FRAGMENT_LOADING_STARTED,_e,g),K.on(r.Z.MANIFEST_LOADING_STARTED,X,g),K.on(r.Z.MANIFEST_LOADING_FINISHED,ge,g),K.on(r.Z.THROUGHPUT_MEASUREMENT_STORED,ee,g)}},c=(0,y.Z)(ce).getInstance().getLogger(g),pe(),g}Ts.__dashjs_factory_name="ContentSteeringController";var ei=R.Z.getSingletonFactory(Ts);function Ss(){var g,c,h,I=this.context,P=(0,we.Z)(I).getInstance();return g={select:function(O){if(!O||O.length===0)return null;var w=null;return P.get().streaming.applyContentSteering&&(w=function(L){var z=h.getCurrentSteeringResponseData();return z&&z.pathwayPriority&&z.pathwayPriority.length>0?function(){for(var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],k=0,W=null,K=function(){var ve=J[k],ce=Q.findIndex(function(me){return me.serviceLocation&&me.serviceLocation===ve});if(ce!==-1&&!c.contains(Q[ce].serviceLocation))return W=Q[ce],"break";k+=1};k<J.length&&K()!=="break";);return W}(z.pathwayPriority,L):null}(O)),w||(w=function(L){return L[0]}(O)),w},setConfig:function(O){O.blacklistController&&(c=O.blacklistController),O.contentSteeringController&&(h=O.contentSteeringController)},reset:function(){c.reset()}},c=xo(I).create({updateEventName:f.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:f.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD}),h=ei(I).getInstance(),g}Ss.__dashjs_factory_name="LocationSelector";var Ui=R.Z.getClassFactory(Ss);function As(){var g,c,h,I,P,O,w,L,z,J,Q,k,W,K,ve=this.context,ce=(0,E.Z)(ve).getInstance(),me=(0,tt.Z)(ve).getInstance();function _e(){h=NaN,w=!1,P=!0,O=!1,X()}function X(){I!==null&&(clearTimeout(I),I=null)}function ge(ie){X(),O||(isNaN(ie)&&!isNaN(h)&&(ie=1e3*h),isNaN(ie)||(c.debug("Refresh manifest in "+ie+" milliseconds."),I=setTimeout(j,ie)))}function ee(){var ie=arguments.length>0&&arguments[0]!==void 0&&arguments[0];w=!0;var pe=z.getValue(),se=pe.url,V=null,le=Q.getPatchLocation(pe),Se=J.select(le),Ue=null;if(Se&&!ie)se=Se.url,V=Se.serviceLocation,Ue=Se.queryParams;else{var Oe=ye(pe),Ze=J.select(Oe);Ze&&(se=Ze.url,V=Ze.serviceLocation,Ue=Ze.queryParams)}me.isRelative(se)&&(se=me.resolve(se,pe.url)),L.load(se,V,Ue)}function ye(ie){var pe=Q.getLocation(ie),se=W.getSynthesizedLocationElements(pe);return pe.concat(se)}function T(ie){if(ie){if(Q.getIsPatch(ie)){var pe=ie;ie=z.getValue();var se=Q.isPatchValid(ie,pe),V=se;if(se){var le=Q.getPublishTime(ie);V=Q.applyPatchToManifest(ie,pe);var Se=Q.getPublishTime(ie);V=le.getTime()!=Se.getTime()}if(!V)return c.debug("Patch provided is invalid, performing full manifest refresh"),void ee(!0);ie.loadedTime=new Date}}else(ie=z.getValue()).loadedTime=new Date;if(z.getValue()&&z.getValue().type===i.Z.DYNAMIC&&ie.type===i.Z.STATIC)return ce.trigger(f.Z.DYNAMIC_TO_STATIC),w=!1,void(O=!0);z.setValue(ie);var Ue=new Date,Oe=(Ue.getTime()-ie.loadedTime.getTime())/1e3;1e3*(h=Q.getManifestUpdatePeriod(ie,Oe))>2147483647&&(h=2147483647e-3),ce.trigger(f.Z.MANIFEST_UPDATED,{manifest:ie}),c.info("Manifest has been refreshed at "+Ue+"["+Ue.getTime()/1e3+"] "),P||ge()}function j(){P||(w?ge(K.get().streaming.manifestUpdateRetryInterval):ee())}function B(ie){ie.error?ie.error.code===ae.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&k.error(ie.error):T(ie.manifest)}function G(){P=!1,ge()}function D(){(P=!K.get().streaming.scheduling.scheduleWhilePaused)&&X()}function fe(){w=!1}return g={initialize:function(){_e(),ce.on(f.Z.STREAMS_COMPOSED,fe,this),ce.on(r.Z.PLAYBACK_STARTED,G,this),ce.on(r.Z.PLAYBACK_PAUSED,D,this),ce.on(f.Z.INTERNAL_MANIFEST_LOADED,B,this)},setManifest:function(ie){T(ie)},refreshManifest:ee,getIsUpdating:function(){return w},setConfig:function(ie){ie&&(ie.manifestModel&&(z=ie.manifestModel),ie.adapter&&(Q=ie.adapter),ie.manifestLoader&&(L=ie.manifestLoader),ie.errHandler&&(k=ie.errHandler),ie.locationSelector&&(J=ie.locationSelector),ie.settings&&(K=ie.settings),ie.contentSteeringController&&(W=ie.contentSteeringController))},reset:function(){ce.off(r.Z.PLAYBACK_STARTED,G,this),ce.off(r.Z.PLAYBACK_PAUSED,D,this),ce.off(f.Z.STREAMS_COMPOSED,fe,this),ce.off(f.Z.INTERNAL_MANIFEST_LOADED,B,this),_e()}},c=(0,y.Z)(ve).getInstance().getLogger(g),J=Ui(ve).create(),g}As.__dashjs_factory_name="ManifestUpdater";var Qf=R.Z.getClassFactory(As);function au(){var g,c,h,I,P,O,w,L,z,J,Q,k,W,K,ve,ce,me=this.context,_e=(0,E.Z)(me).getInstance(),X=(0,tt.Z)(me).getInstance();function ge(){L=[],z=[],J=null,Q=null,W=null,k=NaN,h=!1,I=!1,K=P.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function ee(){P.get().streaming.utcSynchronization.enabled&&!h&&!I&&W&&W.value&&W.schemeIdUri&&!isNaN(k)&&!isNaN(P.get().streaming.utcSynchronization.backgroundAttempts)&&(Q&&(Date.now()-Q)/1e3<30||(L=[],I=!0,ye(isNaN(P.get().streaming.utcSynchronization.backgroundAttempts)?2:P.get().streaming.utcSynchronization.backgroundAttempts)))}function ye(Ze){try{if(Ze<=0)return void Ue();var xe=Date.now();O[W.schemeIdUri](W.value,function(lt){var ut=Date.now(),rt=j(xe,ut,lt);L.push(rt),ye(Ze-1)},function(){Ue()})}catch{Ue()}}function T(){var Ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,xe=Ze||0;if(!z||z.length===0||xe>=z.length)B();else{var lt=z[xe];if(lt)if(O.hasOwnProperty(lt.schemeIdUri)){var ut=new Date().getTime();O[lt.schemeIdUri](lt.value,function(rt){var it=new Date().getTime(),Ut=j(ut,it,rt);W=lt,B(Ut)},function(){T(xe+1)})}else T(xe+1);else B()}}function j(Ze,xe,lt){return lt-(xe-(xe-Ze)/2)}function B(){var Ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NaN,xe=isNaN(Ze);xe&&P.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?le():Se(xe,Ze)}function G(Ze){var xe=Date.parse(Ze);return isNaN(xe)&&(xe=function(lt){var ut,rt,it=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(lt);return ut=Date.UTC(parseInt(it[1],10),parseInt(it[2],10)-1,parseInt(it[3],10),parseInt(it[4],10),parseInt(it[5],10),it[6]&&(parseInt(it[6],10)||0),it[7]&&1e3*parseFloat(it[7])||0),it[9]&&it[10]&&(rt=60*parseInt(it[9],10)+parseInt(it[10],10),ut+=(it[8]==="+"?-1:1)*rt*60*1e3),new Date(ut).getTime()}(Ze)),xe}function D(Ze){return Date.parse(Ze)}function fe(Ze){return Date.parse(Ze)}function ie(Ze,xe,lt){lt()}function pe(Ze,xe,lt){var ut=G(Ze);isNaN(ut)?lt():xe(ut)}function se(Ze,xe,lt,ut,rt){var it,Ut,Ce=!1,qe=new XMLHttpRequest,ht=rt?Me.w.HEAD:Me.w.GET,Xe=xe.match(/\S+/g);if(xe=Xe.shift(),it=function(){Ce||(Ce=!0,Xe.length?se(Ze,Xe.join(" "),lt,ut,rt):ut())},Ut=function(){var Et,gt;qe.status===200&&(Et=rt?qe.getResponseHeader("Date"):qe.response,gt=Ze(Et),isNaN(gt)||(lt(gt),Ce=!0))},X.isRelative(xe)){var _t=ce.resolve();_t&&(xe=X.resolve(xe,_t.url))}qe.open(ht,xe),qe.timeout=5e3,qe.onload=Ut,qe.onloadend=it,qe.send()}function V(Ze,xe,lt){se(fe,Ze,xe,lt,!0)}function le(){var Ze=w.getLatestMPDRequestHeaderValueByID("Date"),xe=Ze!==null?new Date(Ze).getTime():Number.NaN;isNaN(xe)?Se(!0):Se(!1,xe-Date.now())}function Se(Ze,xe){if(isNaN(k)||isNaN(xe)||Ze||function(ut){try{var rt,it=Oe(ut),Ut=isNaN(K)?30:K,Ce=isNaN(P.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:P.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,qe=isNaN(P.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:P.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,ht=isNaN(P.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:P.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;it?(rt=Math.min(Ut*Ce,qe),c.debug("Increasing timeBetweenSyncAttempts to ".concat(rt))):(rt=Math.max(Ut/Ce,ht),c.debug("Decreasing timeBetweenSyncAttempts to ".concat(rt))),K=rt}catch{}}(xe),!Ze&&!isNaN(xe)){J=Date.now(),h=!1;var lt=isNaN(k);k=xe,lt&&ee(),c.debug("Completed UTC sync. Setting client - server offset to ".concat(xe))}Ze&&(W=null,h=!1,ve.error(new de.Z(ae.TIME_SYNC_FAILED_ERROR_CODE,ae.TIME_SYNC_FAILED_ERROR_MESSAGE))),_e.trigger(f.Z.UPDATE_TIME_SYNC_OFFSET,{offset:xe}),_e.trigger(f.Z.TIME_SYNCHRONIZATION_COMPLETED)}function Ue(){if(L&&L.length!==0){var Ze=L.reduce(function(xe,lt){return xe+lt},0)/L.length;Oe(Ze)?c.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(c.debug("Completed background UTC sync. Setting client - server offset to ".concat(Ze)),k=Ze,_e.trigger(f.Z.UPDATE_TIME_SYNC_OFFSET,{offset:k})),I=!1,Q=Date.now()}}function Oe(Ze){try{if(isNaN(k))return!0;var xe=P.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(P.get().streaming.utcSynchronization.maximumAllowedDrift)?P.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Ze>=k-xe&&Ze<=k+xe}catch{return!0}}return g={initialize:function(){ge(),O={"urn:mpeg:dash:utc:http-head:2014":V,"urn:mpeg:dash:utc:http-xsdate:2014":se.bind(null,G),"urn:mpeg:dash:utc:http-iso:2014":se.bind(null,D),"urn:mpeg:dash:utc:direct:2014":pe,"urn:mpeg:dash:utc:http-head:2012":V,"urn:mpeg:dash:utc:http-xsdate:2012":se.bind(null,G),"urn:mpeg:dash:utc:http-iso:2012":se.bind(null,D),"urn:mpeg:dash:utc:direct:2012":pe,"urn:mpeg:dash:utc:http-ntp:2014":ie,"urn:mpeg:dash:utc:ntp:2014":ie,"urn:mpeg:dash:utc:sntp:2014":ie}},attemptSync:function(Ze,xe){z=Ze,h||(function(lt){try{if(!lt||!P.get().streaming.utcSynchronization.enabled)return!1;var ut=isNaN(K)?30:K;return!(J&&ut&&!isNaN(ut))||(Date.now()-J)/1e3>=ut}catch{return!0}}(xe)?(h=!0,T()):_e.trigger(f.Z.TIME_SYNCHRONIZATION_COMPLETED))},setConfig:function(Ze){Ze&&(Ze.dashMetrics&&(w=Ze.dashMetrics),Ze.baseURLController&&(ce=Ze.baseURLController),Ze.errHandler&&(ve=Ze.errHandler),Ze.settings&&(P=Ze.settings))},reset:function(){ge(),_e.off(f.Z.ATTEMPT_BACKGROUND_SYNC,ee,g)}},c=(0,y.Z)(me).getInstance().getLogger(g),_e.on(f.Z.ATTEMPT_BACKGROUND_SYNC,ee,g),g}au.__dashjs_factory_name="TimeSyncController";var su=R.Z.getSingletonFactory(au);su.HTTP_TIMEOUT_MS=5e3,R.Z.updateSingletonFactory(au.__dashjs_factory_name,su);var Fm=su;function Xf(){var g,c,h,I,P,O=this.context,w=(0,E.Z)(O).getInstance();return g={attachMediaSource:function(L){var z=window.URL.createObjectURL(c);return L.setSource(z),I==="managedMediaSource"&&(L.setDisableRemotePlayback(!0),c.addEventListener("startstreaming",function(){w.trigger(r.Z.MANAGED_MEDIA_SOURCE_START_STREAMING)}),c.addEventListener("endstreaming",function(){w.trigger(r.Z.MANAGED_MEDIA_SOURCE_END_STREAMING)})),z},createMediaSource:function(){var L="WebKitMediaSource"in window,z="MediaSource"in window;return"ManagedMediaSource"in window?(c=new ManagedMediaSource,I="managedMediaSource",P.info("Created ManagedMediaSource")):z?(c=new MediaSource,I="mediaSource",P.info("Created MediaSource")):L&&(c=new WebKitMediaSource,P.info("Created WebkitMediaSource")),c},detachMediaSource:function(L){L.setSource(null)},setConfig:function(L){L&&L.settings&&(h=L.settings)},setDuration:function L(z){c&&c.readyState==="open"&&(z===null&&isNaN(z)||c.duration!==z&&(z!==1/0||h.get().streaming.buffer.mediaSourceDurationInfinity||(z=Math.pow(2,32)),function(J){for(var Q=J.sourceBuffers,k=0;k<Q.length;k++)if(Q[k].updating)return!0;return!1}(c)?setTimeout(L.bind(null,z),50):(P.info("Set MediaSource duration:"+z),c.duration=z)))},setSeekable:function(L,z){c&&typeof c.setLiveSeekableRange=="function"&&typeof c.clearLiveSeekableRange=="function"&&c.readyState==="open"&&L>=0&&L<z&&(c.clearLiveSeekableRange(),c.setLiveSeekableRange(L,z))},signalEndOfStream:function(L){if(L&&L.readyState==="open"){for(var z=L.sourceBuffers,J=0;J<z.length;J++)if(z[J].updating||z[J].buffered.length===0)return;P.info("call to mediaSource endOfStream"),L.endOfStream()}}},P=(0,y.Z)(O).getInstance().getLogger(g),g}Xf.__dashjs_factory_name="MediaSourceController";var Um=R.Z.getSingletonFactory(Xf);function $f(){var g,c,h,I,P,O,w,L,z,J,Q,k="urn:mpeg:dash:event:2012",W="discarded",K="updated",ve="added",ce=this.context,me=(0,E.Z)(ce).getInstance();function _e(){if(!w||!L)throw new Error("setConfig function has to be called previously")}function X(){Q=!1,h={},I={},P=null,J=!1,O=Date.now()/1e3}function ge(){try{if(!J){J=!0;var ie=L.getTime(),pe=ie-O;pe=O>0?Math.max(0,pe):0,ee(I,pe,ie),ee(h,pe,ie),ye(I),ye(h),O=ie,J=!1}}catch(se){J=!1,c.error(se)}}function ee(ie,pe,se){try{G(ie,function(V){if(V!==void 0){var le=isNaN(V.duration)?0:V.duration;V.calculatedPresentationTime<=se&&V.calculatedPresentationTime+pe+le>=se?fe(V,r.Z.EVENT_MODE_ON_START):(D(se,le+pe,V.calculatedPresentationTime)||function(Se){try{var Ue=Se.eventStream.period.start+Se.eventStream.period.duration;return Se.calculatedPresentationTime>Ue}catch(Oe){return c.error(Oe),!1}}(V))&&(c.debug("Removing event ".concat(V.id," from period ").concat(V.eventStream.period.id," as it is expired or invalid")),function(Se,Ue){try{var Oe=Ue.eventStream.schemeIdUri,Ze=Ue.eventStream.period.id,xe=Ue.eventStream.value,lt=Ue.id;Se[Ze][Oe]=Se[Ze][Oe].filter(function(ut){return xe&&ut.eventStream.value&&ut.eventStream.value!==xe||ut.id!==lt}),Se[Ze][Oe].length===0&&delete Se[Ze][Oe]}catch(ut){c.error(ut)}}(ie,V))}})}catch(V){c.error(V)}}function ye(ie){try{for(var pe in ie)ie.hasOwnProperty(pe)&&Object.keys(ie[pe]).length===0&&delete ie[pe]}catch(se){c.error(se)}}function T(ie,pe){var se=arguments.length>2&&arguments[2]!==void 0&&arguments[2],V=ie.eventStream.schemeIdUri,le=ie.eventStream.value,Se=ie.id,Ue=W;pe[V]||(pe[V]=[]);var Oe=pe[V].findIndex(function(xe){return(!le||xe.eventStream.value&&xe.eventStream.value===le)&&xe.id===Se});if(Oe===-1)pe[V].push(ie),ie.triggeredReceivedEvent=!1,ie.triggeredStartEvent=!1,Ue=ve;else if(se){var Ze=pe[V][Oe];ie.triggeredReceivedEvent=Ze.triggeredReceivedEvent,ie.triggeredStartEvent=Ze.triggeredStartEvent,pe[V][Oe]=ie,Ue=K}return Ue}function j(ie){try{if(ie.eventStream.value==1){var pe,se=ie.calculatedPresentationTime;pe=ie.calculatedPresentationTime==4294967295?NaN:ie.calculatedPresentationTime+ie.duration,me.trigger(r.Z.MANIFEST_VALIDITY_CHANGED,{id:ie.id,validUntil:se,newDuration:pe,newManifestValidAfter:NaN},{mode:r.Z.EVENT_MODE_ON_START})}}catch(V){c.error(V)}}function B(ie){try{var pe=L.getTime();G(ie,function(se){var V=se.eventStream&&se.eventStream.period&&!isNaN(se.eventStream.period.duration)?se.eventStream.period.duration:NaN,le=se.eventStream&&se.eventStream.period&&!isNaN(se.eventStream.period.start)?se.eventStream.period.start:NaN;if(!isNaN(V)&&!isNaN(le)){var Se=se.calculatedPresentationTime;Math.abs(Se-pe)<300&&fe(se,r.Z.EVENT_MODE_ON_START)}})}catch(se){c.error(se)}}function G(ie,pe){try{if(ie)for(var se=Object.keys(ie),V=0;V<se.length;V++)for(var le=ie[se[V]],Se=Object.keys(le),Ue=0;Ue<Se.length;Ue++)le[Se[Ue]].forEach(function(Oe){Oe!==void 0&&pe(Oe)})}catch(Oe){c.error(Oe)}}function D(ie,pe,se){try{return ie-pe>se}catch(V){return c.error(V),!1}}function fe(ie,pe){try{var se=L.getTime(),V=ie.id;if(pe===r.Z.EVENT_MODE_ON_RECEIVE&&!ie.triggeredReceivedEvent)return c.debug("Received event ".concat(V)),ie.triggeredReceivedEvent=!0,void me.trigger(ie.eventStream.schemeIdUri,{event:ie},{mode:pe});ie.triggeredStartEvent||(ie.eventStream.schemeIdUri===k&&ie.eventStream.value==1?ie.duration===0&&ie.presentationTimeDelta===0||(c.debug("Starting manifest refresh event ".concat(V," at ").concat(se)),function(){try{_e(),w.refreshManifest()}catch(le){c.error(le)}}()):ie.eventStream.schemeIdUri==="urn:mpeg:dash:event:callback:2015"&&ie.eventStream.value==1?(c.debug("Starting callback event ".concat(V," at ").concat(se)),function(le){try{(0,Gt.Z)(ce).create({}).load({method:"get",url:le,request:{responseType:"arraybuffer"}})}catch(Se){c.error(Se)}}(ie.messageData)):(c.debug("Starting event ".concat(V," from period ").concat(ie.eventStream.period.id," at ").concat(se)),me.trigger(ie.eventStream.schemeIdUri,{event:ie},{mode:pe})),ie.triggeredStartEvent=!0)}catch(le){c.error(le)}}return g={addInlineEvents:function(ie,pe){try{if(_e(),h[pe]||(h[pe]={}),ie)for(var se=0;se<ie.length;se++){var V=ie[se];if(!D(L.getTime(),isNaN(V.duration)?0:V.duration,V.calculatedPresentationTime)){var le=T(V,h[pe],!0);le===ve?(c.debug("Added inline event with id ".concat(V.id," from period ").concat(pe)),fe(V,r.Z.EVENT_MODE_ON_RECEIVE)):le===K&&c.debug("Updated inline event with id ".concat(V.id," from period ").concat(pe))}}}catch(Se){throw Se}},addInbandEvents:function(ie,pe){try{_e(),I[pe]||(I[pe]={});for(var se=0;se<ie.length;se++){var V=ie[se];D(L.getTime(),isNaN(V.duration)?0:V.duration,V.calculatedPresentationTime)||(T(V,I[pe],!1)===ve?(V.eventStream.schemeIdUri===k&&j(V),c.debug("Added inband event with id ".concat(V.id," from period ").concat(pe)),fe(V,r.Z.EVENT_MODE_ON_RECEIVE)):c.debug("Inband event with scheme_id_uri ".concat(V.eventStream.schemeIdUri,", value ").concat(V.eventStream.value,", period id ").concat(pe," and event id ").concat(V.id," was ignored because it has been added before.")))}ge()}catch(le){throw le}},getInbandEvents:function(){return I},getInlineEvents:function(){return h},start:function(){try{_e(),c.debug("Start Event Controller");var ie=z.get().streaming.eventControllerRefreshDelay;Q||isNaN(ie)||(Q=!0,P=setInterval(ge,ie))}catch(pe){throw pe}},setConfig:function(ie){try{if(!ie)return;ie.manifestUpdater&&(w=ie.manifestUpdater),ie.playbackController&&(L=ie.playbackController),ie.settings&&(z=ie.settings)}catch(pe){throw pe}},reset:function(){(function(){try{P!==null&&Q&&(clearInterval(P),P=null,Q=!1,function(){try{B(I),B(h)}catch(ie){c.error(ie)}}())}catch(ie){throw ie}})(),X()}},c=(0,y.Z)(ce).getInstance().getLogger(g),X(),g}$f.__dashjs_factory_name="EventController";var Zm=R.Z.getSingletonFactory($f),Fo={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}};function lu(g,c){(c==null||c>g.length)&&(c=g.length);for(var h=0,I=new Array(c);h<c;h++)I[h]=g[h];return I}function Jf(){var g,c,h,I,P,O,w,L,z,J,Q,k,W,K,ve,ce,me,_e,X,ge,ee,ye,T,j,B,G,D,fe,ie,pe,se,V,le,Se,Ue,Oe,Ze,xe,lt,ut,rt,it,Ut,Ce,qe,ht,Xe,_t,Et=this.context,gt=(0,E.Z)(Et).getInstance();function Kt(){if(!(O&&O.hasOwnProperty("load")&&ee&&ee.hasOwnProperty("initialize")&&ee.hasOwnProperty("reset")&&ee.hasOwnProperty("getClientTimeOffset")&&w&&ge&&z&&le))throw new Error(o.Z.MISSING_CONFIG_ERROR)}function Vt(){if(!P||!P.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}function gn(){(function(){try{var et=L.getStreamsInfo();if(!T&&et.length===0)throw new Error("There are no periods in the MPD");T&&et.length>0&&z.updateManifestUpdateInfo({currentTime:le.getTime(),buffered:V.getBufferRange(),presentationStartTime:et[0].start,clientTimeOffset:ee.getClientTimeOffset()}),ye.length>0&&function(wn){wn.length!==0?ye=ye.filter(function(En){var zn=wn.filter(function(Fn){return Fn.id===En.getId()}).length>0||En.getId()===T.getId();return zn||(c.debug("Removing stream ".concat(En.getId())),En.reset(!0)),zn}):c.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(et);for(var Mt=[],on=0,pn=et.length;on<pn;on++){var An=et[on];Mt.push(Ke(An)),z.addManifestUpdateStreamInfo(An)}Promise.all(Mt).then(function(){return new Promise(function(wn,En){T?wn():yt(et,wn,En)})}).then(function(){gt.trigger(f.Z.STREAMS_COMPOSED),Lt()}).catch(function(wn){throw wn})}catch(wn){ge.error(new de.Z(ae.MANIFEST_ERROR_ID_NOSTREAMS_CODE,wn.message+" nostreamscomposed",w.getValue())),pe=!0,Gi()}})()}function mn(){qe=!0}function Ke(et){var Mt=Sa(et.id);return Mt?Mt.updateData(et):(Mt=uo(Et).create({manifestModel:w,mediaPlayerModel:Ue,dashMetrics:z,manifestUpdater:P,adapter:L,timelineConverter:ee,capabilities:h,capabilitiesFilter:I,errHandler:ge,baseURLController:W,segmentBaseController:K,textController:B,abrController:ce,playbackController:le,eventController:_e,mediaController:me,protectionController:j,videoModel:V,streamInfo:et,settings:Ce}),ye.push(Mt),Mt.initialize(),Promise.resolve())}function yt(et,Mt,on){try{Qt();var pn=z.getCurrentDVRInfo().range;if(pn.end<pn.start){ht&&clearTimeout(ht);var An=Math.min(1e3*(-1*(pn.end-pn.start)+2),2147483647);return c.debug("Waiting for ".concat(An," ms before playback can start")),gt.trigger(f.Z.AST_IN_FUTURE,{delay:An}),void(ht=setTimeout(function(){yt(et,Mt,on)},An))}Ce.get().streaming.applyProducerReferenceTime&&Se.calculateProducerReferenceTimeOffsets(et);var wn=et[0].manifestInfo;if(Ce.get().streaming.applyServiceDescription&&Se.applyServiceDescription(wn),L.getIsDynamic()){var En=fo(et,wn);le.computeAndSetLiveDelay(En,wn)}(Ce.get().streaming.applyContentSteering&&k.shouldQueryBeforeStart()?k.loadSteeringData():Promise.resolve()).then(function(){var zn=w.getValue();zn&&W.update(zn),st(),Mt()}).catch(function(zn){c.error(zn),st(),Mt()})}catch(zn){on(zn)}}function st(){var et=function(){var pn;if(L.getIsDynamic()){var An=z.getCurrentDVRInfo();pn=(An&&An.range?An.range.end:0)-le.getOriginalLiveDelay();var wn=An?An.range:null;if(wn){if(isNaN(Xe)&&Xe.toString().indexOf("posix:")===-1){var En=Or(!0);isNaN(En)||(c.info("Start time from URI parameters: ".concat(En)),pn=Math.min(pn,En))}else{c.info("Start time provided by the app: ".concat(Xe));var zn=lr(!0,Xe);isNaN(zn)||(pn=Math.min(pn,zn))}var Fn=Ce.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;pn=Math.max(pn,wn.start+Fn)}}else if(pn=ho()[0].getStreamInfo().start,isNaN(Xe)){var Ii=Or(!1);isNaN(Ii)||(c.info("Start time from URI parameters: ".concat(Ii)),pn=Math.max(pn,Ii))}else{c.info("Start time provided by the app: ".concat(Xe));var Go=lr(!1,Xe);isNaN(Go)||(pn=Math.max(pn,Go))}return pn}(),Mt=qt(et),on=Mt!==null?Mt:ye[0];gt.trigger(f.Z.INITIAL_STREAM_SWITCH,{startTime:et}),bt(on,null,et),ut||(ut=setInterval(function(){!fe&&le.getTimeToStreamEnd()<=0&&!le.isSeeking()&&gt.trigger(f.Z.PLAYBACK_ENDED,{isLast:ti().isLast})},200))}function bt(et,Mt,on){try{if(fe||!et||Mt===et&&et.getIsActive())return;fe=!0,gt.trigger(f.Z.PERIOD_SWITCH_STARTED,{fromStreamInfo:Mt?Mt.getStreamInfo():null,toStreamInfo:et.getStreamInfo()});var pn=!1;T=et,Mt&&(pn=kt(et,Mt),Mt.deactivate(pn)),on=isNaN(on)?!pn&&Mt?et.getStreamInfo().start:NaN:on,c.info("Switch to stream ".concat(et.getId(),". Seektime is ").concat(on,", current playback time is ").concat(le.getTime(),". Seamless period switch is set to ").concat(pn)),it=it.filter(function(An){return An.getId()!==T.getId()}),le.initialize(ti(),!!Mt),V.getElement()?Pt(on,pn,!1):Xt(on,pn)}catch{fe=!1}}function Pt(et,Mt){var on,pn=arguments.length>2&&arguments[2]!==void 0&&arguments[2];function An(){if(se&&se.readyState==="open"){c.debug("MediaSource is open!"),window.URL.revokeObjectURL(on),se.removeEventListener("sourceopen",An),se.removeEventListener("webkitsourceopen",An),Ln();var En=z.getCurrentDVRInfo();J.setSeekable(En.range.start,En.range.end),pn?(isNaN(et)||le.seek(et,!0,!0),T.setMediaSource(se).then(function(){T.initializeForTextWithMediaSource(se)})):Xt(et,Mt)}}function wn(){se.addEventListener("sourceopen",An,!1),se.addEventListener("webkitsourceopen",An,!1),on=J.attachMediaSource(V),c.debug("MediaSource attached to element.  Waiting on open...")}se?Mt?Xt(et,Mt):(J.detachMediaSource(V),wn()):(se=J.createMediaSource(),wn())}function Xt(et,Mt){T.activate(se,Mt?rt:void 0,et).then(function(on){if(on){var pn=Object.keys(on);pn.length>0&&on[pn[0]].getBuffer().changeType&&(Ut=!0),rt=on}isNaN(et)||(gt.trigger(f.Z.SEEK_TARGET,{time:et},{streamId:T.getId()}),le.seek(et,!1,!0),T.startScheduleControllers()),fe=!1,gt.trigger(f.Z.PERIOD_SWITCH_COMPLETED,{toStreamInfo:ti()})})}function Wt(et){var Mt=qt(et.seekTime);Mt&&Mt!==T?Mt&&Mt!==T&&(Jt(),function(on,pn){var An=on&&!isNaN(on.seekTime)?on.seekTime:NaN,wn=T.getProcessors().map(function(En){return En.prepareOuterPeriodPlaybackSeeking(on)});Promise.all(wn).then(function(){bt(pn,T,An)}).catch(function(En){ge.error(En)})}(et,Mt)):(Jt(),function(on){T.getProcessors().forEach(function(pn){return pn.prepareInnerPeriodPlaybackSeeking(on)}),Mr(Pe.USER_REQUEST_STOP_REASON)}(et)),Bi(Be.SEEK_START_REASON)}function Jt(){an()}function an(){it&&it.length>0&&(it.forEach(function(et){et.deactivate(!0)}),it=[])}function pt(et){if(et.newMediaInfo.streamInfo.id===T.getId()){if(an(),Ce.get().streaming.buffer.resetSourceBuffersForTrackSwitch&&et.oldMediaInfo&&et.oldMediaInfo.codec!==et.newMediaInfo.codec){var Mt=le.getTime();return T.deactivate(!1),void Pt(Mt,!1,!1)}T.prepareTrackChange(et)}}function kt(et,Mt){try{return Ce.get().streaming.buffer.reuseExistingSourceBuffers&&(Mt.isProtectionCompatible(et)||qe)&&(Ut&&Ce.get().streaming.buffer.useChangeTypeForTrackSwitch||Mt.isMediaCodecCompatible(et,Mt))}catch{return!1}}function jt(et){var Mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(se&&!et.getPreloaded()){var on=kt(et,Mt);on&&et.startPreloading(se,rt).then(function(){it.push(et)})}}function qt(et){if(isNaN(et))return null;for(var Mt=ye.length,on=0;on<Mt;on++){var pn=ye[on];if(et<parseFloat((pn.getStartTime()+pn.getDuration()).toFixed(5)))return pn}return null}function Qt(){try{var et=L.getIsDynamic(),Mt=L.getStreamsInfo()[0].manifestInfo,on=le.getTime(),pn=ee.calcTimeShiftBufferWindow(ye,et),An=xn();if(pn.start===void 0||pn.end===void 0)return;An&&An.length!==0?An.forEach(function(wn){z.addDVRInfo(wn.getType(),on,Mt,pn)}):z.addDVRInfo(o.Z.VIDEO,on,Mt,pn)}catch{}}function We(et){if(xe&&D){var Mt=Ue.getInitialBufferLevel(),on=[o.Z.TEXT];(isNaN(Mt)||Mt<=le.getBufferLevel(on)||L.getIsDynamic()&&Mt>le.getLiveDelay())&&(xe=!1,Bi(Be.INITIAL_PLAYOUT_START_REASON),le.play())}et&&et.mediaType&&z.addBufferLevel(et.mediaType,new Date,1e3*et.bufferLevel)}function ke(et){et.streamInfo.id===T.getId()&&et.reason&&et.reason.forceReplace&&an(),Sa(et.streamInfo.id).prepareQualityChange(et)}function ct(){if(L.getIsDynamic()&&le.getOriginalLiveDelay()!==0&&T){var et=L.getStreamsInfo();if(et.length>0){var Mt=et[0].manifestInfo,on=fo(et,Mt);le.computeAndSetLiveDelay(on,Mt)}}}function Ee(){if(fi()){var et=V.getPlaybackQuality();et&&z.addDroppedFrames(et)}}function be(){c.debug("[onPlaybackStarted]"),!xe&&Ze&&Bi(Be.RESUME_FROM_PAUSE_START_REASON),xe&&(xe=!1),lt&&(lt=!1,Ce.get().streaming.applyContentSteering&&!k.shouldQueryBeforeStart()&&k.loadSteeringData()),Ze=!1}function Je(et){c.debug("[onPlaybackPaused]"),et.ended||(Ze=!0,Mr(Pe.USER_REQUEST_STOP_REASON))}function Nt(et){c.debug("Stream with id ".concat(et.streamInfo.id," finished buffering"));var Mt=et.streamInfo.isLast;se&&Mt?(c.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),J.signalEndOfStream(se)):Lt()}function Lt(){if(T&&T.getHasFinishedBuffering())for(var et=function(){var An=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;try{var wn=An||T||null;if(wn){var En=wn.getStreamInfo();return ye.filter(function(zn){var Fn=zn.getStreamInfo();return Fn.start>En.start&&En.id!==Fn.id})}}catch{return[]}}(T),Mt=0;Mt<et.length;){var on=et[Mt],pn=Mt===0?T:et[Mt-1];!on.getPreloaded()&&pn.getHasFinishedBuffering()&&se&&jt(on,pn),Mt+=1}}function yn(){ut&&(clearInterval(ut),ut=null)}function xn(){return T?T.getProcessors():[]}function rr(et){if(T&&!T.getIsEndedEventSignaled()){T.setIsEndedEventSignaled(!0);var Mt=function(){var on=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,pn=on||T||null;if(!pn)return null;for(var An=pn.getStreamInfo(),wn=An.start,En=0,zn=-1,Fn=NaN;En<ye.length;){var Ii=ye[En].getStreamInfo(),Go=Ii.start-wn;Go>0&&(isNaN(Fn)||Go<Fn)&&An.id!==Ii.id&&(Fn=Go,zn=En),En+=1}return zn>=0?ye[zn]:null}();Mt?(c.debug("StreamController onEnded, found next stream with id ".concat(Mt.getStreamInfo().id,". Switching from ").concat(T.getStreamInfo().id," to ").concat(Mt.getStreamInfo().id)),bt(Mt,T,NaN)):(c.debug("StreamController no next stream found"),T.setIsEndedEventSignaled(!1)),Mr(Mt?Pe.END_OF_PERIOD_STOP_REASON:Pe.END_OF_CONTENT_STOP_REASON)}et&&et.isLast&&(yn(),k.stopSteeringRequestTimer())}function Ln(et){var Mt=et||ti().manifestInfo.duration;J.setDuration(Mt)}function Or(et){var Mt=ve.getURIFragmentData();if(!Mt||!Mt.t)return NaN;var on=ho()[0].getStreamInfo().start;return Mt.t=Mt.t.split(",")[0],Zi(et,Mt.t,on)}function lr(et,Mt){var on=0;return et||(on=ho()[0].getStreamInfo().start),Zi(et,Mt,on)}function Zi(et,Mt,on){var pn=L.getRegularPeriods()[0],An=Mt.toString(),wn=An.indexOf("posix:")!==-1?An.substring(6)==="now"?Date.now()/1e3:parseFloat(An.substring(6)):NaN;return et&&!isNaN(wn)?ee.calcPresentationTimeFromWallTime(new Date(1e3*wn),pn):parseFloat(An)+on}function fo(et,Mt){try{var on=NaN;if(Mt&&!isNaN(Mt.maxFragmentDuration)&&isFinite(Mt.maxFragmentDuration))return Mt.maxFragmentDuration;if(et&&et.length===1){var pn=et[0],An=[o.Z.VIDEO,o.Z.AUDIO,o.Z.TEXT].reduce(function(En,zn){var Fn=L.getMediaInfoForType(pn,zn);return Fn&&Fn.isFragmented!==!1&&En.push(Fn),En},[]).reduce(function(En,zn){var Fn=L.getVoRepresentations(zn);return Fn&&Fn.length>0&&Fn.forEach(function(Ii){Ii&&En.push(Ii)}),En},[]).reduce(function(En,zn){var Fn=L.convertRepresentationToRepresentationInfo(zn);return Fn&&Fn.fragmentDuration&&!isNaN(Fn.fragmentDuration)&&En.push(Fn.fragmentDuration),En},[]);on=Math.max.apply(Math,function(En){if(Array.isArray(En))return lu(En)}(wn=An)||function(En){if(typeof Symbol<"u"&&Symbol.iterator in Object(En))return Array.from(En)}(wn)||function(En,zn){if(En){if(typeof En=="string")return lu(En,zn);var Fn=Object.prototype.toString.call(En).slice(8,-1);return Fn==="Object"&&En.constructor&&(Fn=En.constructor.name),Fn==="Map"||Fn==="Set"?Array.from(En):Fn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Fn)?lu(En,zn):void 0}}(wn)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())}return isFinite(on)?on:NaN}catch{return NaN}var wn}function go(et){if(et.error)pe=!0,Gi();else{c.info("Manifest updated... updating data system wide.");var Mt=et.manifest;L.updatePeriods(Mt);var on=L.getUTCTimingSources();!L.getIsDynamic()||on&&on.length!==0||gt.trigger(r.Z.CONFORMANCE_VIOLATION,{level:Fo.LEVELS.WARNING,event:Fo.EVENTS.NO_UTC_TIMING_ELEMENT});var pn=L.getIsDynamic()?on.concat(Oe.getUTCTimingSources()):on;I.filterUnsupportedFeatures(Mt).then(function(){W.initialize(Mt),Q.attemptSync(pn,L.getIsDynamic())})}}function fi(){return!!T&&T.getHasVideoTrack()}function wi(){return!!T&&T.getHasAudioTrack()}function Mr(et,Mt){Mt=Mt||new Date,xn().forEach(function(on){on.finalisePlayList(Mt,et)}),z.addPlayList()}function Bi(et){z.createPlaylistMetrics(1e3*le.getTime(),et)}function po(et){if(et.error){var Mt="";switch(et.error.code){case 1:Mt="MEDIA_ERR_ABORTED";break;case 2:Mt="MEDIA_ERR_NETWORK";break;case 3:Mt="MEDIA_ERR_DECODE",_t.counts.mediaErrorDecode+=1;break;case 4:Mt="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:Mt="MEDIA_ERR_ENCRYPTED";break;default:Mt="UNKNOWN"}Mt==="MEDIA_ERR_DECODE"&&Ce.get().errors.recoverAttempts.mediaErrorDecode>=_t.counts.mediaErrorDecode?function(){c.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var on=le.getTime();T.deactivate(!1),c.warn("MediaSource has been resetted. Resuming playback from time ".concat(on)),Pt(on,!1,!1)}():(ie=!0,et.error.message&&(Mt+=" ("+et.error.message+")"),et.error.msExtendedCode&&(Mt+=" (0x"+(et.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),c.fatal("Video Element Error: "+Mt),et.error&&c.fatal(et.error),ge.error(new de.Z(et.error.code,Mt)),Gi())}}function ti(){return T?T.getStreamInfo():null}function Sa(et){for(var Mt=0,on=ye.length;Mt<on;Mt++)if(ye[Mt].getId()===et)return ye[Mt];return null}function Us(et){isNaN(et.newDuration)||Ln(et.newDuration)}function Zs(){ye=[],Xe=NaN,j=null,fe=!1,T=null,ie=!1,pe=!1,xe=!0,lt=!0,Ze=!1,D=!0,ut=null,qe=!1,Ut=!1,it=[],ht=null,_t={counts:{mediaErrorDecode:0}}}function Gi(){Kt(),Q.reset(),Mr(ie||pe?Pe.FAILURE_STOP_REASON:Pe.USER_REQUEST_STOP_REASON);for(var et=0,Mt=ye?ye.length:0;et<Mt;et++)ye[et].reset(ie);gt.off(r.Z.PLAYBACK_TIME_UPDATED,Ee,g),gt.off(r.Z.PLAYBACK_SEEKING,Wt,g),gt.off(r.Z.PLAYBACK_ERROR,po,g),gt.off(r.Z.PLAYBACK_STARTED,be,g),gt.off(r.Z.PLAYBACK_PAUSED,Je,g),gt.off(r.Z.PLAYBACK_ENDED,rr,g),gt.off(r.Z.METRIC_ADDED,Bs,g),gt.off(r.Z.MANIFEST_VALIDITY_CHANGED,Us,g),gt.off(r.Z.BUFFER_LEVEL_UPDATED,We,g),gt.off(r.Z.QUALITY_CHANGE_REQUESTED,ke,g),f.Z.KEY_SESSION_UPDATED&&gt.off(f.Z.KEY_SESSION_UPDATED,mn,g),gt.off(f.Z.MANIFEST_UPDATED,go,g),gt.off(f.Z.STREAM_BUFFERING_COMPLETED,Nt,g),gt.off(f.Z.TIME_SYNCHRONIZATION_COMPLETED,gn,g),gt.off(f.Z.CURRENT_TRACK_CHANGED,pt,g),gt.off(f.Z.SETTING_UPDATED_LIVE_DELAY,ct,g),gt.off(f.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,ct,g),W.reset(),P.reset(),_e.reset(),z.clearAllCurrentMetrics(),w.setValue(null),O.reset(),ee.reset(),X.reset(),se&&(J.detachMediaSource(V),se=null),V=null,j&&(j=null,G=null,w.getValue()&&gt.trigger(f.Z.PROTECTION_DESTROYED,{data:w.getValue().url})),yn(),gt.trigger(f.Z.STREAM_TEARDOWN_COMPLETE),Zs()}function Bs(et){if(et.metric===_.Z.DVR_INFO){var Mt=wi()?o.Z.AUDIO:o.Z.VIDEO;et.mediaType===Mt&&J.setSeekable(et.value.range.start,et.value.range.end)}}function ho(){return ye}return g={initialize:function(et,Mt){Kt(),D=et,G=Mt,ee.initialize(),(P=Qf(Et).create()).setConfig({manifestModel:w,adapter:L,manifestLoader:O,errHandler:ge,settings:Ce,contentSteeringController:k}),P.initialize(),(_e=Zm(Et).getInstance()).setConfig({manifestUpdater:P,playbackController:le,settings:Ce}),_e.start(),Q.setConfig({dashMetrics:z,baseURLController:W,errHandler:ge,settings:Ce}),Q.initialize(),J.setConfig({settings:Ce}),j&&(gt.trigger(f.Z.PROTECTION_CREATED,{controller:j}),j.setMediaElement(V.getElement()),G&&j.setProtectionData(G)),gt.on(r.Z.PLAYBACK_TIME_UPDATED,Ee,g),gt.on(r.Z.PLAYBACK_SEEKING,Wt,g),gt.on(r.Z.PLAYBACK_ERROR,po,g),gt.on(r.Z.PLAYBACK_STARTED,be,g),gt.on(r.Z.PLAYBACK_PAUSED,Je,g),gt.on(r.Z.PLAYBACK_ENDED,rr,g),gt.on(r.Z.METRIC_ADDED,Bs,g),gt.on(r.Z.MANIFEST_VALIDITY_CHANGED,Us,g),gt.on(r.Z.BUFFER_LEVEL_UPDATED,We,g),gt.on(r.Z.QUALITY_CHANGE_REQUESTED,ke,g),f.Z.KEY_SESSION_UPDATED&&gt.on(f.Z.KEY_SESSION_UPDATED,mn,g),gt.on(f.Z.MANIFEST_UPDATED,go,g),gt.on(f.Z.STREAM_BUFFERING_COMPLETED,Nt,g),gt.on(f.Z.TIME_SYNCHRONIZATION_COMPLETED,gn,g),gt.on(f.Z.CURRENT_TRACK_CHANGED,pt,g),gt.on(f.Z.SETTING_UPDATED_LIVE_DELAY,ct,g),gt.on(f.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,ct,g)},getActiveStreamInfo:ti,addDVRMetric:Qt,hasVideoTrack:fi,hasAudioTrack:wi,getStreamById:Sa,getStreamForTime:qt,getTimeRelativeToStreamId:function(et,Mt){for(var on=null,pn=0,An=0,wn=null,En=0;En<ye.length;En++){if(An=(on=ye[En]).getStartTime(),wn=on.getDuration(),Number.isFinite(An)&&(pn=An),on.getId()===Mt)return et-pn;Number.isFinite(wn)&&(pn+=wn)}return null},load:function(et){var Mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;Kt(),Xe=Mt,O.load(et)},loadWithManifest:function(et){var Mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;Vt(),Xe=Mt,P.setManifest(et)},getActiveStreamProcessors:xn,setConfig:function(et){et&&(et.capabilities&&(h=et.capabilities),et.capabilitiesFilter&&(I=et.capabilitiesFilter),et.manifestLoader&&(O=et.manifestLoader),et.manifestModel&&(w=et.manifestModel),et.mediaPlayerModel&&(Ue=et.mediaPlayerModel),et.customParametersModel&&(Oe=et.customParametersModel),et.protectionController&&(j=et.protectionController),et.adapter&&(L=et.adapter),et.dashMetrics&&(z=et.dashMetrics),et.errHandler&&(ge=et.errHandler),et.timelineConverter&&(ee=et.timelineConverter),et.videoModel&&(V=et.videoModel),et.playbackController&&(le=et.playbackController),et.serviceDescriptionController&&(Se=et.serviceDescriptionController),et.contentSteeringController&&(k=et.contentSteeringController),et.textController&&(B=et.textController),et.abrController&&(ce=et.abrController),et.mediaController&&(me=et.mediaController),et.settings&&(Ce=et.settings),et.baseURLController&&(W=et.baseURLController),et.uriFragmentModel&&(ve=et.uriFragmentModel),et.segmentBaseController&&(K=et.segmentBaseController),et.manifestUpdater&&(P=et.manifestUpdater))},setProtectionData:function(et){G=et,j&&j.setProtectionData(G)},getIsStreamSwitchInProgress:function(){return fe},switchToVideoElement:function(et){T&&(le.initialize(ti()),Pt(et,!1,!0))},getHasMediaOrInitialisationError:function(){return ie||pe},getStreams:ho,getActiveStream:function(){return T},getInitialPlayback:function(){return xe},getAutoPlay:function(){return D},refreshManifest:function(){P.getIsUpdating()||P.refreshManifest()},reset:Gi},c=(0,y.Z)(Et).getInstance().getLogger(g),Q=Fm(Et).getInstance(),J=Um(Et).getInstance(),X=Re(Et).getInstance(),Zs(),g}Jf.__dashjs_factory_name="StreamController";var ed=R.Z.getSingletonFactory(Jf);function td(){var g,c,h,I,P,O,w,L,z,J,Q,k,W=this.context,K=(0,E.Z)(W).getInstance();function ve(){k.debug("Stopping the gap controller"),P&&(clearInterval(P),P=null),function(){K.off(f.Z.WALLCLOCK_TIME_UPDATED,ge,this),K.off(f.Z.INITIAL_STREAM_SWITCH,X,this),K.off(f.Z.PLAYBACK_SEEKING,ce,this),K.off(f.Z.BUFFER_REPLACEMENT_STARTED,me,g),K.off(f.Z.TRACK_CHANGE_RENDERED,_e,g)}(),P=null,O=NaN,I=0,J=null,Q={}}function ce(){J&&(clearTimeout(J),J=null)}function me(G){try{if(G.streamId!==L.getActiveStreamInfo().id||G.mediaType!==o.Z.VIDEO&&G.mediaType!==o.Z.AUDIO)return;G.streamId===L.getActiveStreamInfo().id&&(Q[G.mediaType]=!0)}catch(D){k.error(D)}}function _e(G){G&&G.mediaType&&(Q[G.mediaType]=!1)}function X(){P||function(){try{P||(k.debug("Starting the gap controller"),P=setInterval(function(){ee()&&B(w.getTime())},100))}catch{}}()}function ge(){if(ee(h.get().streaming.gaps.enableSeekFix)&&++I>=10){var G=w.getTime();c===G?B(G,!0):(c=G,O=NaN),I=0}}function ee(){var G=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!L.getActiveStream())return!1;var D=Object.keys(Q).some(function(ie){return Q[ie]}),fe=!!G&&ye();return!D&&h.get().streaming.gaps.jumpGaps&&L.getActiveStreamProcessors().length>0&&(!w.isSeeking()||fe)&&!w.isPaused()&&!L.getIsStreamSwitchInProgress()&&!L.getHasMediaOrInitialisationError()}function ye(){var G=L.getActiveStream(),D=parseFloat((G.getStartTime()+G.getDuration()).toFixed(5));return w.getTime()+h.get().streaming.gaps.threshold>=D}function T(G,D){try{if(!G||G.length<=1&&D>0)return NaN;for(var fe=NaN,ie=0;isNaN(fe)&&ie<G.length;){var pe=ie>0?G.end(ie-1):0;D<G.start(ie)&&pe-D<h.get().streaming.gaps.threshold&&(fe=ie),ie+=1}return fe}catch{return null}}function j(G,D){for(var fe=0,ie=G.length;fe<ie;fe++)if(D>=G.start(fe)&&D<=G.end(fe))return!0;return!1}function B(G){var D,fe=arguments.length>1&&arguments[1]!==void 0&&arguments[1],ie=h.get().streaming.gaps.enableStallFix,pe=h.get().streaming.gaps.stallSeek,se=h.get().streaming.gaps.smallGapLimit,V=h.get().streaming.gaps.jumpLargeGaps,le=z.getBufferRange(),Se=NaN,Ue=!1;if(D=T(le,G),!isNaN(D)){var Oe=le.start(D),Ze=Oe-G;Ze>0&&(Ze<=se||V)&&(Se=Oe)}var xe=w.getTimeToStreamEnd();if(isNaN(Se)&&fe&&isFinite(xe)&&!isNaN(xe)&&xe<se&&(Se=parseFloat(w.getStreamEndTime().toFixed(5)),Ue=!0),ie&&isNaN(Se)&&fe&&isNaN(D)&&j(le,G)&&(pe===0?(k.warn("Toggle play pause to break stall"),z.pause(),z.play()):(k.warn("Jumping ".concat(pe,"s to break stall")),Se=G+pe)),Se>0&&O!==Se&&Se>G&&!J){var lt=Se-G;if(Ue){var ut=L.getStreamForTime(Se),rt=ut&&!!ut.getPreloaded();k.warn("Jumping to end of stream because of gap from ".concat(G," to ").concat(Se,". Gap duration: ").concat(lt)),w.seek(Se,!0,rt)}else{var it=w.getIsDynamic(),Ut=D>0?le.end(D-1):G,Ce=it?1e3*Math.max(0,lt-.1):0;J=window.setTimeout(function(){w.seek(Se,!0,!0),k.warn("Jumping gap occuring in period ".concat(L.getActiveStream().getStreamId()," starting at ").concat(Ut," and ending at ").concat(Se,". Jumping by: ").concat(Se-Ut)),J=null},Ce)}O=Se}}return g={reset:ve,setConfig:function(G){G&&(G.settings&&(h=G.settings),G.playbackController&&(w=G.playbackController),G.streamController&&(L=G.streamController),G.videoModel&&(z=G.videoModel))},initialize:function(){(function(){K.on(f.Z.WALLCLOCK_TIME_UPDATED,ge,this),K.on(f.Z.INITIAL_STREAM_SWITCH,X,this),K.on(f.Z.PLAYBACK_SEEKING,ce,this),K.on(f.Z.BUFFER_REPLACEMENT_STARTED,me,g),K.on(f.Z.TRACK_CHANGE_RENDERED,_e,g)})()}},k=(0,y.Z)(W).getInstance().getLogger(g),ve(),g}td.__dashjs_factory_name="GapController";var Bm=R.Z.getSingletonFactory(td);function nd(){var g,c,h,I,P,O,w,L,z,J,Q=this.context,k=(0,E.Z)(Q).getInstance();function W(){c=!1;var ye=At.Z.parseUserAgent();h=ye&&ye.browser&&ye.browser.name&&ye.browser.name.toLowerCase()==="safari"}function K(){c=!1}function ve(ye){if(ye.streamId===O.getActiveStreamInfo().id&&z){var T=w.getLiveDelay();w.getBufferLevel()>T/2&&(z=!1)}}function ce(ye){ye.streamId===O.getActiveStreamInfo().id&&(z=ye.state===_.Z.BUFFER_EMPTY)}function me(){L.getCatchupModeEnabled()||I.setPlaybackRate(1)}function _e(){w.getIsDynamic()&&L.getCatchupModeEnabled()&&(L.getCatchupPlaybackRates().max>0||L.getCatchupPlaybackRates().min<0)&&!w.isPaused()&&!w.isSeeking()&&function(){try{return!(!w.getTime()>0||c)&&(ge()===o.Z.LIVE_CATCHUP_MODE_LOLP?function(ye,T){try{return Math.abs(X())>0||ye<T}catch{return!1}}(w.getBufferLevel(),P.get().streaming.liveCatchup.playbackBufferMin):function(){try{return Math.abs(X())>0}catch{return!1}}())}catch{return!1}}()&&function(){if(!c&&I){var ye,T=I.getPlaybackRate(),j=L.getCatchupPlaybackRates(),B=w.getBufferLevel(),G=X(),D=L.getCatchupMaxDrift();if(!isNaN(D)&&D>0&&G>D)J.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),c=!0,w.seekToCurrentLive(!0,!1);else{var fe=w.getCurrentLiveLatency(),ie=w.getLiveDelay();ye=ge()===o.Z.LIVE_CATCHUP_MODE_LOLP?function(se,V,le,Se,Ue){var Oe;if(Ue<Se){var Ze=Math.abs(se.min),xe=5*(Ue-Se);Oe=1-Ze+2*Ze/(1+Math.pow(Math.E,-xe)),J.debug("[LoL+ playback control_buffer-based] bufferLevel: "+Ue+", newRate: "+Oe)}else{if(Math.abs(V-le)<=.02*le)Oe=1;else{var lt=V-le,ut=lt<0?Math.abs(se.min):se.max,rt=5*lt;Oe=1-ut+2*ut/(1+Math.pow(Math.E,-rt))}J.debug("[LoL+ playback control_latency-based] latency: "+V+", newRate: "+Oe)}return Oe}(j,fe,ie,P.get().streaming.liveCatchup.playbackBufferMin,B):function(se,V,le,Se){if(z)return 1;var Ue=V-le,Oe=Ue<0?Math.abs(se.min):se.max,Ze=5*Ue,xe=1-Oe+2*Oe/(1+Math.pow(Math.E,-Ze));return w.getPlaybackStalled()&&Se<=le/2&&Ue>0&&(xe=1),xe}(j,fe,ie,B);var pe=h?.25:.02/(.5/j.max);ye&&Math.abs(T-ye)>=pe&&(J.debug("[CatchupController]: Setting playback rate to ".concat(ye)),I.setPlaybackRate(ye))}}}()}function X(){return w.getCurrentLiveLatency()-w.getLiveDelay()}function ge(){var ye=P.get().streaming.liveCatchup.playbackBufferMin;return P.get().streaming.liveCatchup.mode!==o.Z.LIVE_CATCHUP_MODE_LOLP||ye===null||isNaN(ye)?o.Z.LIVE_CATCHUP_MODE_DEFAULT:o.Z.LIVE_CATCHUP_MODE_LOLP}function ee(){L.getCatchupPlaybackRates(!0)}return g={reset:function(){k.off(r.Z.BUFFER_LEVEL_UPDATED,ve,g),k.off(r.Z.BUFFER_LEVEL_STATE_CHANGED,ce,g),k.off(r.Z.PLAYBACK_PROGRESS,_e,g),k.off(r.Z.PLAYBACK_TIME_UPDATED,_e,g),k.off(r.Z.PLAYBACK_SEEKED,K,g),k.off(f.Z.SETTING_UPDATED_CATCHUP_ENABLED,me,g),k.off(f.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,ee,g),k.off(f.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,ee,g),k.off(r.Z.STREAM_INITIALIZED,ee,g),W(),I.setPlaybackRate(1,!0)},setConfig:function(ye){ye&&(ye.settings&&(P=ye.settings),ye.videoModel&&(I=ye.videoModel),ye.streamController&&(O=ye.streamController),ye.playbackController&&(w=ye.playbackController),ye.mediaPlayerModel&&(L=ye.mediaPlayerModel))},initialize:function(){k.on(r.Z.BUFFER_LEVEL_UPDATED,ve,g),k.on(r.Z.BUFFER_LEVEL_STATE_CHANGED,ce,g),k.on(r.Z.PLAYBACK_PROGRESS,_e,g),k.on(r.Z.PLAYBACK_TIME_UPDATED,_e,g),k.on(r.Z.PLAYBACK_SEEKED,K,g),k.on(f.Z.SETTING_UPDATED_CATCHUP_ENABLED,me,g),k.on(f.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,ee,g),k.on(f.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,ee,g),k.on(r.Z.STREAM_INITIALIZED,ee,g),ee()}},J=(0,y.Z)(Q).getInstance().getLogger(g),W(),g}nd.__dashjs_factory_name="CatchupController";var Gm=R.Z.getSingletonFactory(nd),jm=[o.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME],rd="video",id="audio";function od(){var g,c,h,I,P,O=this.context;function w(){c={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{},contentSteering:null},h=[]}function L(z,J,Q){try{c[z][J]=Q/1e3}catch(k){I.error(k)}}return g={getServiceDescriptionSettings:function(){return c},getProducerReferenceTimeOffsets:function(){return h},calculateProducerReferenceTimeOffsets:function(z){try{var J=[];if(z&&z.length>0){var Q=[o.Z.VIDEO,o.Z.AUDIO,o.Z.TEXT],k=P.getAvailabilityStartTime()/1e3;z.forEach(function(W){var K=Q.reduce(function(ve,ce){return ve.concat(P.getAllMediaInfoForType(W,ce))},[]).reduce(function(ve,ce){return P.getProducerReferenceTimes(W,ce).forEach(function(me){var _e=P.getVoRepresentations(ce);if(_e&&_e.length>0&&_e[0].adaptation&&_e[0].segmentInfoType===i.Z.SEGMENT_TEMPLATE){var X=_e[0],ge=new Date(me[i.Z.WALL_CLOCK_TIME]).getTime()/1e3-(me[i.Z.PRESENTATION_TIME]/X[i.Z.TIMESCALE]-X[i.Z.PRESENTATION_TIME_OFFSET]+W.start),ee=k-ge;ve.push({id:me[i.Z.ID],to:ee})}}),ve},[]);J=J.concat(K)})}h=J}catch(W){I.error(W),h=[]}},applyServiceDescription:function(z){if(z&&z.serviceDescriptions){var J=z.serviceDescriptions.filter(function(W){return jm.includes(W.schemeIdUri)}),Q=z.serviceDescriptions.filter(function(W){return W.schemeIdUri==null}),k=J.length>0?J[J.length-1]:Q[Q.length-1];k&&(k.latency&&k.latency.target>0&&function(W){var K;if(W.schemeIdUri,o.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME,K=function(_e){return{liveDelay:_e.latency.target/1e3,maxDrift:!isNaN(_e.latency.max)&&_e.latency.max>_e.latency.target?(_e.latency.max-_e.latency.target+500)/1e3:NaN,referenceId:_e.latency.referenceId||NaN}}(W),h.length>0){var ve=function(_e){var X,ge=0,ee=h.filter(function(ye){return ye.id===_e.referenceId});return ee.length===0?(ge=h.length>0?h[0].to:0,X=h[0].id||NaN):(ge=ee[0].to||0,X=ee[0].id||NaN),{to:ge,id:X}}(K),ce=ve.to,me=ve.id;c.liveDelay=K.liveDelay-ce,c.liveCatchup.maxDrift=K.maxDrift,I.debug(`
                Found latency properties coming from service description. Applied time offset of `.concat(ce," from ProducerReferenceTime element with id ").concat(me,`.
                Live Delay: `).concat(K.liveDelay-ce,", Live catchup max drift: ").concat(K.maxDrift,`
            `))}else c.liveDelay=K.liveDelay,c.liveCatchup.maxDrift=K.maxDrift,I.debug("Found latency properties coming from service description: Live Delay: ".concat(K.liveDelay,", Live catchup max drift: ").concat(K.maxDrift))}(k),k.playbackRate&&function(W){var K=W.playbackRate.min?Math.round(1e3*(W.playbackRate.min-1))/1e3:NaN,ve=W.playbackRate.max?Math.round(1e3*(W.playbackRate.max-1))/1e3:NaN;c.liveCatchup.playbackRate.min=K,c.liveCatchup.playbackRate.max=ve,I.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(K)),I.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(ve))}(k),k.operatingQuality,k.operatingBandwidth&&function(W){if(W&&W.operatingBandwidth&&W.operatingBandwidth.mediaType&&W.operatingBandwidth.mediaType!=="all"){var K={};K.minBandwidth=W.operatingBandwidth.min,K.maxBandwidth=W.operatingBandwidth.max,K.targetBandwidth=W.operatingBandwidth.target;var ve=[];W.operatingBandwidth.mediaType===rd||W.operatingBandwidth.mediaType===id?ve.push(W.operatingBandwidth.mediaType):W.operatingBandwidth.mediaType==="any"&&(ve.push(id),ve.push(rd)),ve.forEach(function(ce){isNaN(K.minBandwidth)||L("minBitrate",ce,K.minBandwidth),isNaN(K.maxBandwidth)||L("maxBitrate",ce,K.maxBandwidth),isNaN(K.targetBandwidth)||L("initialBitrate",ce,K.targetBandwidth)})}}(k),k.contentSteering&&function(W){c.contentSteering=W.contentSteering}(k))}},reset:function(){w()},setConfig:function(z){z&&z.adapter&&(P=z.adapter)}},I=(0,y.Z)(O).getInstance().getLogger(g),w(),g}od.__dashjs_factory_name="ServiceDescriptionController";var qm=R.Z.getSingletonFactory(od),Ym=S(3973),ws=S.n(Ym),ad=S(3039);function uu(){var g,c,h,I,P,O,w,L,z=this.context,J=(0,E.Z)(z).getInstance();function Q(V,le){return V&&h[le]&&h[le][V]?h[le][V].list:[]}function k(V,le){return V&&h[le]&&h[le][V]?h[le][V].current:null}function W(V){var le=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(V&&V.streamInfo){var Se=V.type,Ue=V.streamInfo,Oe=Ue.id,Ze=k(Se,Oe);if(h[Oe]&&h[Oe][Se]&&(h[Oe][Se].current=V,h[Oe][Se].current&&(Se!==o.Z.TEXT&&!ce(V,Ze)||Se===o.Z.TEXT&&V.isFragmented)&&J.trigger(f.Z.CURRENT_TRACK_CHANGED,{oldMediaInfo:Ze,newMediaInfo:V,switchMode:I.get().streaming.trackSwitchMode[Se]},{streamId:Oe}),!le)){var xe=_e(V);if(!xe||!h[Oe][Se].storeLastSettings)return;xe.roles&&(xe.role=xe.roles[0],delete xe.roles),xe.accessibility&&(xe.accessibility=xe.accessibility[0]),xe.audioChannelConfiguration&&(xe.audioChannelConfiguration=xe.audioChannelConfiguration[0]),O[Se]=xe,L.setSavedMediaSettings(Se,xe)}}}function K(V,le){V&&le&&(P[V]=le)}function ve(V){return V?P[V]:null}function ce(V,le){if(!V&&!le)return!0;if(!V||!le)return!1;var Se=V.id===le.id,Ue=V.viewpoint===le.viewpoint,Oe=JSON.stringify(V.viewpointsWithSchemeIdUri)===JSON.stringify(le.viewpointsWithSchemeIdUri),Ze=V.lang===le.lang,xe=V.codec===le.codec,lt=V.roles.toString()===le.roles.toString(),ut=JSON.stringify(V.rolesWithSchemeIdUri)===JSON.stringify(le.rolesWithSchemeIdUri),rt=V.accessibility.toString()===le.accessibility.toString(),it=JSON.stringify(V.accessibilitiesWithSchemeIdUri)===JSON.stringify(le.accessibilitiesWithSchemeIdUri),Ut=V.audioChannelConfiguration.toString()===le.audioChannelConfiguration.toString(),Ce=JSON.stringify(V.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(le.audioChannelConfigurationsWithSchemeIdUri);return Se&&xe&&Ue&&Oe&&Ze&&lt&&ut&&rt&&it&&Ut&&Ce}function me(){h={},O={},P={audio:null,video:null,text:null}}function _e(V){var le={lang:V.lang,viewpoint:V.viewpoint,roles:V.roles,accessibility:V.accessibility,audioChannelConfiguration:V.audioChannelConfiguration,codec:V.codec};return le.lang||le.viewpoint||le.role&&le.role.length>0||le.accessibility&&le.accessibility.length>0||le.audioChannelConfiguration&&le.audioChannelConfiguration.length>0?le:null}function X(V,le,Se){var Ue=[];return V.forEach(function(Oe){le(Se,Oe)&&Ue.push(Oe)}),Ue.length!==0?Ue:V}function ge(V,le){try{return!V.lang||V.lang instanceof RegExp?le.lang.match(V.lang):le.lang!==""&&(0,ad.extendedFilter)(le.lang,ws()(V.lang)).length>0}catch{return!1}}function ee(V,le){return V.index===void 0||V.index===null||le.index===V.index}function ye(V,le){return!V.viewpoint||V.viewpoint===le.viewpoint}function T(V,le){var Se=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ue=!V.role||!!le.roles.filter(function(Oe){return Oe===V.role})[0];return Ue||le.type===o.Z.AUDIO&&Se}function j(V,le){return V.accessibility?!!le.accessibility.filter(function(Se){return Se===V.accessibility})[0]:!le.accessibility.length}function B(V,le){return!V.audioChannelConfiguration||!!le.audioChannelConfiguration.filter(function(Se){return Se===V.audioChannelConfiguration})[0]}function G(V,le){return!V.codec||V.codec===le.codec}function D(V){var le,Se=0,Ue=[];return V.forEach(function(Oe){(le=Math.max.apply(Math,Oe.bitrateList.map(function(Ze){return Ze.bandwidth})))>Se?(Se=le,Ue=[Oe]):le===Se&&Ue.push(Oe)}),Ue}function fe(V){var le,Se=1/0,Ue=[];return V.forEach(function(Oe){var Ze=Oe.bitrateList.reduce(function(xe,lt){var ut=Math.max(1,lt.width*lt.height);return xe+lt.bandwidth/ut},0);(le=Ze/Oe.bitrateList.length)<Se?(Se=le,Ue=[Oe]):le===Se&&Ue.push(Oe)}),Ue}function ie(V){var le,Se=0,Ue=[];return V.forEach(function(Oe){(le=Oe.representationCount)>Se?(Se=le,Ue=[Oe]):le===Se&&Ue.push(Oe)}),Ue}function pe(V,le){if(V===o.Z.TEXT)return le[0];var Se,Ue=I.get().streaming.selectionModeForInitialTrack,Oe=w.getCustomInitialTrackSelectionFunction();if(Oe&&typeof Oe=="function")Se=Oe(le);else switch(Ue){case o.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:Se=function(Ze){var xe,lt,ut=(xe=0,lt=[],Ze.forEach(function(rt){isNaN(rt.selectionPriority)||(rt.selectionPriority>xe?(xe=rt.selectionPriority,lt=[rt]):rt.selectionPriority===xe&&lt.push(rt))}),lt);return ut.length>1&&(ut=D(ut)),ut.length>1&&(ut=ie(ut)),ut}(le);break;case o.Z.TRACK_SELECTION_MODE_HIGHEST_BITRATE:Se=function(Ze){var xe=D(Ze);return xe.length>1&&(xe=ie(xe)),xe}(le);break;case o.Z.TRACK_SELECTION_MODE_FIRST_TRACK:Se=se(le);break;case o.Z.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:Se=function(Ze){var xe=fe(Ze);return xe.length>1&&(xe=D(xe)),xe}(le);break;case o.Z.TRACK_SELECTION_MODE_WIDEST_RANGE:Se=function(Ze){var xe=ie(Ze);return xe.length>1&&(xe=D(Ze)),xe}(le);break;default:c.warn("Track selection mode ".concat(Ue," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),Se=se(le)}return Se.length>0?Se[0]:le[0]}function se(V){return V[0]}return g={setInitialMediaSettingsForType:function(V,le){var Se=O[V]||ve(V),Ue=Q(V,le.id),Oe=[];Se||((Se=L.getSavedMediaSettings(V))&&delete Se.codec,K(V,Se)),Ue&&Ue.length!==0&&(Se&&(Oe=X(Oe=Array.from(Ue),ge,Se),Oe=X(Oe,ee,Se),Oe=X(Oe,ye,Se),V===o.Z.AUDIO&&O[V]||(Oe=X(Oe,T,Se)),Oe=X(Oe,j,Se),Oe=X(Oe,B,Se),Oe=X(Oe,G,Se)),Oe.length===0?W(pe(V,Ue),!0):Oe.length>1?W(pe(V,Oe)):W(Oe[0]))},addTrack:function(V){if(V){var le=V.type;if((Se=le)===o.Z.AUDIO||Se===o.Z.VIDEO||Se===o.Z.TEXT||Se===o.Z.IMAGE){var Se,Ue,Oe=V.streamInfo.id;h[Oe]||(h[Oe]={audio:{list:[],storeLastSettings:Ue=I.get().streaming.saveLastMediaSettingsForCurrentStreamingSession,current:null},video:{list:[],storeLastSettings:Ue,current:null},text:{list:[],storeLastSettings:Ue,current:null},image:{list:[],storeLastSettings:Ue,current:null}});for(var Ze=h[Oe][le].list,xe=0,lt=Ze.length;xe<lt;++xe)if(ce(Ze[xe],V))return;Ze.push(V)}}},getTracksFor:Q,getCurrentTrackFor:k,isCurrentTrack:function(V){if(!V)return!1;var le=V.type,Se=V.streamInfo.id;return h[Se]&&h[Se][le]&&ce(h[Se][le].current,V)},setTrack:W,selectInitialTrack:pe,setInitialSettings:K,getInitialSettings:ve,getTracksWithHighestBitrate:D,getTracksWithHighestEfficiency:fe,getTracksWithWidestRange:ie,isTracksEqual:ce,matchSettings:function(V,le){var Se=arguments.length>2&&arguments[2]!==void 0&&arguments[2];try{var Ue=!1;if(V.lang){if(V.lang instanceof RegExp)Ue=le.lang.match(V.lang);else if(le.lang!==""){var Oe=ws()(V.lang);Oe&&(Ue=(0,ad.extendedFilter)(le.lang,Oe).length>0)}}else Ue=!0;var Ze=V.index===void 0||V.index===null||le.index===V.index,xe=!V.viewpoint||V.viewpoint===le.viewpoint,lt=!V.role||!!le.roles.filter(function(it){return it===V.role})[0],ut=!V.accessibility||!!le.accessibility.filter(function(it){return it===V.accessibility})[0],rt=!V.audioChannelConfiguration||!!le.audioChannelConfiguration.filter(function(it){return it===V.audioChannelConfiguration})[0];return Ue&&Ze&&xe&&(lt||le.type===o.Z.AUDIO&&Se)&&ut&&rt}catch{return!1}},matchSettingsLang:ge,matchSettingsIndex:ee,matchSettingsViewPoint:ye,matchSettingsRole:T,matchSettingsAccessibility:j,matchSettingsAudioChannelConfig:B,saveTextSettingsDisabled:function(){L.setSavedMediaSettings(o.Z.TEXT,null)},setConfig:function(V){V&&(V.domStorage&&(L=V.domStorage),V.settings&&(I=V.settings),V.customParametersModel&&(w=V.customParametersModel))},reset:me},c=(0,y.Z)(z).getInstance().getLogger(g),me(),g}uu.__dashjs_factory_name="MediaController";var sd=R.Z.getSingletonFactory(uu);R.Z.updateSingletonFactory(uu.__dashjs_factory_name,sd);var zm=sd,Is=NaN,ld=function g(c,h){(function(I,P){if(!(I instanceof P))throw new TypeError("Cannot call a class as a function")})(this,g),this.data={baseUrls:c||null,selectedIdx:h||Is},this.children=[]};function ud(){var g,c,h,I,P=this.context,O=Ft(P).getInstance();function w(Q,k,W){var K=L(W);Q[k]?O.areEqual(K,Q[k].data.baseUrls)||(Q[k].data.baseUrls=K,Q[k].data.selectedIdx=Is):Q[k]=new ld(K)}function L(Q){var k=h.getBaseURLsFromElement(Q),W=I.getSynthesizedBaseUrlElements(k);return W&&W.length>0&&(k=k.concat(W)),k}function z(Q,k){var W=k||c;Q(W.data),W.children&&W.children.forEach(function(K){return z(Q,K)})}function J(){c=new ld}return g={reset:J,update:function(Q){(function(k){(function(){if(!h||!h.hasOwnProperty("getBaseURLsFromElement")||!h.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")})();var W=L(k);O.areEqual(W,c.data.baseUrls)||(c.data.baseUrls=W,c.data.selectedIdx=Is),k&&k.Period_asArray&&k.Period_asArray.forEach(function(K,ve){w(c.children,ve,K),K.AdaptationSet_asArray&&K.AdaptationSet_asArray.forEach(function(ce,me){w(c.children[ve].children,me,ce),ce.Representation_asArray&&ce.Representation_asArray.sort(h.getRepresentationSortFunction()).forEach(function(_e,X){w(c.children[ve].children[me].children,X,_e)})})})})(Q)},getForPath:function(Q){var k=c,W=[k.data];return Q&&Q.forEach(function(K){(k=k.children[K])&&W.push(k.data)}),W.filter(function(K){return K.baseUrls.length})},invalidateSelectedIndexes:function(Q){z(function(k){isNaN(k.selectedIdx)||Q===k.baseUrls[k.selectedIdx].serviceLocation&&(k.selectedIdx=Is)})},setConfig:function(Q){Q.adapter&&(h=Q.adapter),Q.contentSteeringController&&(I=Q.contentSteeringController)},getBaseUrls:function(Q){return L(Q)}},J(),g}ud.__dashjs_factory_name="BaseURLTreeModel";var Hm=R.Z.getClassFactory(ud);function cd(g){var c=(g=g||{}).blacklistController;return{select:function(h){return h&&function(P){var O,w,L=0,z=[],J=0;if((w=P.sort(function(Q,k){var W=Q.dvbPriority-k.dvbPriority;return isNaN(W)?0:W}).filter(function(Q,k,W){return!k||W[0].dvbPriority&&Q.dvbPriority&&W[0].dvbPriority===Q.dvbPriority})).length)return w.length>1&&(w.forEach(function(Q){L+=Q.dvbWeight,z.push(L)}),O=Math.floor(Math.random()*(L-1)),z.every(function(Q,k){return J=k,!(O<Q)})),w[J]}((I=[],h.filter(function(P){return!c.contains(P.serviceLocation)||(P.dvbPriority&&I.push(P.dvbPriority),!1)}).filter(function(P){return!I.length||!P.dvbPriority||I.indexOf(P.dvbPriority)===-1})));var I}}}cd.__dashjs_factory_name="DVBSelector";var Vm=R.Z.getClassFactory(cd);function fd(g){var c=(g=g||{}).blacklistController;return{select:function(h){var I,P=0;return h&&h.some(function(O,w){return P=w,!c.contains(O.serviceLocation)})&&(I=h[P]),I}}}fd.__dashjs_factory_name="BasicSelector";var Km=R.Z.getClassFactory(fd);function dd(){var g,c,h,I=this.context;function P(){for(var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],L=0,z=NaN,J=function(){var k=O[L],W=w.findIndex(function(K){return K.serviceLocation&&K.serviceLocation===k});if(W!==-1&&!h.contains(w[W].serviceLocation))return z=W,"break";L+=1};L<O.length;){var Q=J();if(Q==="break")break}return z}return g={selectBaseUrlIndex:function(O){var w=NaN;if(isNaN(O.selectedIdx)){var L=c.getSteeringDataFromManifest();L&&L.defaultServiceLocationArray.length>0&&(w=P(L.defaultServiceLocationArray,O.baseUrls))}var z=c.getCurrentSteeringResponseData();return O.baseUrls&&O.baseUrls.length&&z&&z.pathwayPriority&&z.pathwayPriority.length&&(w=P(z.pathwayPriority,O.baseUrls)),w},setConfig:function(O){O.blacklistController&&(h=O.blacklistController),O.contentSteeringController&&(c=O.contentSteeringController)}},c=ei(I).getInstance(),g}dd.__dashjs_factory_name="ContentSteeringSelector";var Wm=R.Z.getClassFactory(dd);function gd(){var g,c,h,I,P,O,w=this.context,L=(0,E.Z)(w).getInstance(),z=(0,we.Z)(w).getInstance();function J(){c.reset()}return g={chooseSelector:function(Q){(0,re.PS)(Q,"boolean"),O=Q?I:h},select:function(Q){if(Q){if(z.get().streaming.applyContentSteering){var k=P.selectBaseUrlIndex(Q);isNaN(k)||k===-1||(Q.selectedIdx=k)}if(!isNaN(Q.selectedIdx))return Q.baseUrls[Q.selectedIdx];var W=O.select(Q.baseUrls);return W?(Q.selectedIdx=Q.baseUrls.indexOf(W),W):(L.trigger(f.Z.URL_RESOLUTION_FAILED,{error:new de.Z(ae.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,ae.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(O===h&&J()))}},reset:J,setConfig:function(Q){Q.selector&&(O=Q.selector),Q.contentSteeringSelector&&(P=Q.contentSteeringSelector)}},c=xo(w).create({updateEventName:f.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,addBlacklistEventName:f.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD}),h=Km(w).create({blacklistController:c}),I=Vm(w).create({blacklistController:c}),(P=Wm(w).create()).setConfig({blacklistController:c}),O=h,g}gd.__dashjs_factory_name="BaseURLSelector";var Qm=R.Z.getClassFactory(gd);function pd(){var g,c,h,I,P,O=this.context,w=(0,E.Z)(O).getInstance(),L=(0,tt.Z)(O).getInstance();function z(Q){h.update(Q),I.chooseSelector(c.getIsDVB(Q)),w.trigger(r.Z.BASE_URLS_UPDATED,{baseUrls:J(Q)})}function J(Q){return h.getBaseUrls(Q)}return g={reset:function(){h.reset(),I.reset()},initialize:function(Q){h.setConfig({adapter:c,contentSteeringController:P}),z(Q)},resolve:function(Q){var k=h.getForPath(Q).reduce(function(W,K){var ve=I.select(K);return ve?(L.isRelative(ve.url)?W.url=L.resolve(ve.url,W.url):(W.url=ve.url,W.serviceLocation=ve.serviceLocation),W.availabilityTimeOffset=ve.availabilityTimeOffset,W.availabilityTimeComplete=ve.availabilityTimeComplete,W.queryParams=ve.queryParams,W):new Xr},new Xr);if(!L.isRelative(k.url))return k},setConfig:function(Q){Q.baseURLTreeModel&&(h=Q.baseURLTreeModel),Q.baseURLSelector&&(I=Q.baseURLSelector),Q.adapter&&(c=Q.adapter),Q.contentSteeringController&&(P=Q.contentSteeringController)},getBaseUrls:J,update:z},h=Hm(O).create(),I=Qm(O).create(),w.on(f.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,function(Q){h.invalidateSelectedIndexes(Q.entry)},g),g}pd.__dashjs_factory_name="BaseURLController";var Xm=R.Z.getClassFactory(pd);function cu(g){return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},cu(g)}function fu(g,c){return fu=Object.setPrototypeOf||function(h,I){return h.__proto__=I,h},fu(g,c)}function $m(g,c){return!c||cu(c)!=="object"&&typeof c!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):c}function bs(g){return bs=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},bs(g)}var hd=function(g){(function(O,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(w&&w.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),w&&fu(O,w)})(P,g);var c,h,I=(c=P,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,w=bs(c);if(h){var L=bs(this).constructor;O=Reflect.construct(w,arguments,L)}else O=w.apply(this,arguments);return $m(this,O)});function P(O,w){var L;return function(z,J){if(!(z instanceof J))throw new TypeError("Cannot call a class as a function")}(this,P),(L=I.call(this)).url=O||null,L.type=w||null,L.mediaType=o.Z.STREAM,L.responseType="",L}return P}(N.Z);function md(g){g=g||{};var c=this.context,h=(0,E.Z)(c).getInstance(),I=wr(c).create({errHandler:g.errHandler,dashMetrics:g.dashMetrics,mediaPlayerModel:g.mediaPlayerModel,requestModifier:g.requestModifier,errors:ae});return{load:function(P,O,w){var L=function(J,Q){O.resolved=!0,O.resolvedContent=J||null,h.trigger(f.Z.XLINK_ELEMENT_LOADED,{element:O,resolveObject:w,error:J||Q?null:new de.Z(ae.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,ae.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+P)})};if(P==="urn:mpeg:dash:resolve-to-zero:2013")L(null,!0);else{var z=new hd(P,Me.w.XLINK_EXPANSION_TYPE);I.load({request:z,success:function(J){L(J)},error:function(){L(null)}})}},reset:function(){I&&(I.abort(),I=null)}}}md.__dashjs_factory_name="XlinkLoader";var Jm=R.Z.getClassFactory(md),yd=function(g){(g=g||{}).escapeMode===void 0&&(g.escapeMode=!0),g.attributePrefix===void 0&&(g.attributePrefix="_"),g.arrayAccessForm=g.arrayAccessForm||"none",g.emptyNodeForm=g.emptyNodeForm||"text",g.enableToStringFunc===void 0&&(g.enableToStringFunc=!0),g.arrayAccessFormPaths=g.arrayAccessFormPaths||[],g.skipEmptyTextNodesForObj===void 0&&(g.skipEmptyTextNodesForObj=!0),g.stripWhitespaces===void 0&&(g.stripWhitespaces=!0),g.datetimeAccessFormPaths=g.datetimeAccessFormPaths||[],g.useDoubleQuotes===void 0&&(g.useDoubleQuotes=!1),g.xmlElementsFilter=g.xmlElementsFilter||[],g.jsonPropertiesFilter=g.jsonPropertiesFilter||[],g.keepCData===void 0&&(g.keepCData=!1),g.ignoreRoot===void 0&&(g.ignoreRoot=!1);function c(X){var ge=X.localName;return ge==null&&(ge=X.baseName),ge!=null&&ge!=""||(ge=X.nodeName),ge}function h(X){return typeof X=="string"?X.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):X}function I(X,ge,ee,ye){for(var T=0;T<X.length;T++){var j=X[T];if(typeof j=="string"){if(j==ye)break}else if(j instanceof RegExp){if(j.test(ye))break}else if(typeof j=="function"&&j(ge,ee,ye))break}return T!=X.length}function P(X,ge,ee){g.arrayAccessForm==="property"&&(X[ge]instanceof Array?X[ge+"_asArray"]=X[ge]:X[ge+"_asArray"]=[X[ge]]),!(X[ge]instanceof Array)&&g.arrayAccessFormPaths.length>0&&I(g.arrayAccessFormPaths,X,ge,ee)&&(X[ge]=[X[ge]])}function O(X){var ge=X.split(/[-T:+Z]/g),ee=new Date(ge[0],ge[1]-1,ge[2]),ye=ge[5].split(".");if(ee.setHours(ge[3],ge[4],ye[0]),ye.length>1&&ee.setMilliseconds(ye[1]),ge[6]&&ge[7]){var T=60*ge[6]+Number(ge[7]);T=0+((/\d\d-\d\d:\d\d$/.test(X)?"-":"+")=="-"?-1*T:T),ee.setMinutes(ee.getMinutes()-T-ee.getTimezoneOffset())}else X.indexOf("Z",X.length-1)!==-1&&(ee=new Date(Date.UTC(ee.getFullYear(),ee.getMonth(),ee.getDate(),ee.getHours(),ee.getMinutes(),ee.getSeconds(),ee.getMilliseconds())));return ee}function w(X,ge,ee,ye){return!(ge==1&&g.xmlElementsFilter.length>0)||I(g.xmlElementsFilter,X,ee,ye)}function L(X,ge){if(X.nodeType==9){for(var ee=new Object,ye=X.childNodes,T=0;T<ye.length;T++)(B=ye[T]).nodeType==1&&(g.ignoreRoot?ee=L(B):(ee={})[G=c(B)]=L(B));return ee}if(X.nodeType==1){(ee=new Object).__cnt=0;var j=[];for(ye=X.childNodes,T=0;T<ye.length;T++){var B,G=c(B=ye[T]);if(B.nodeType!=8){var D=ge+"."+G;if(w(ee,B.nodeType,G,D))if(ee.__cnt++,ee[G]==null){var fe=L(B,D);(G!="#text"||/[^\s]/.test(fe))&&((ie={})[G]=fe,j.push(ie)),ee[G]=fe,P(ee,G,D)}else{var ie;ee[G]!=null&&(ee[G]instanceof Array||(ee[G]=[ee[G]],P(ee,G,D))),fe=L(B,D),(G!="#text"||/[^\s]/.test(fe))&&((ie={})[G]=fe,j.push(ie)),ee[G][ee[G].length]=fe}}}ee.__children=j;for(var pe=c(X),se=0;se<X.attributes.length;se++){var V=X.attributes[se];ee.__cnt++;for(var le=V.value,Se=0,Ue=g.matchers.length;Se<Ue;Se++){var Oe=g.matchers[Se];Oe.test(V,pe)&&(le=Oe.converter(V.value))}ee[g.attributePrefix+V.name]=le}var Ze=function(xe){return xe.prefix}(X);return Ze!=null&&Ze!=""&&(ee.__cnt++,ee.__prefix=Ze),ee["#text"]!=null&&(ee.__text=ee["#text"],ee.__text instanceof Array&&(ee.__text=ee.__text.join(`
`)),g.stripWhitespaces&&(ee.__text=ee.__text.trim()),delete ee["#text"],g.arrayAccessForm=="property"&&delete ee["#text_asArray"],ee.__text=function(xe,lt,ut){if(g.datetimeAccessFormPaths.length>0){var rt=ut.split(".#")[0];return I(g.datetimeAccessFormPaths,xe,lt,rt)?O(xe):xe}return xe}(ee.__text,G,ge+"."+G)),ee["#cdata-section"]!=null&&(ee.__cdata=ee["#cdata-section"],delete ee["#cdata-section"],g.arrayAccessForm=="property"&&delete ee["#cdata-section_asArray"]),ee.__cnt==0&&g.emptyNodeForm=="text"?ee="":ee.__cnt==1&&ee.__text!=null?ee=ee.__text:ee.__cnt!=1||ee.__cdata==null||g.keepCData?ee.__cnt>1&&ee.__text!=null&&g.skipEmptyTextNodesForObj&&(g.stripWhitespaces&&ee.__text==""||ee.__text.trim()=="")&&delete ee.__text:ee=ee.__cdata,delete ee.__cnt,!g.enableToStringFunc||ee.__text==null&&ee.__cdata==null||(ee.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}),ee}if(X.nodeType==3||X.nodeType==4)return X.nodeValue}function z(X,ge,ee,ye){var T="<"+(X!=null&&X.__prefix!=null?X.__prefix+":":"")+ge;if(ee!=null)for(var j=0;j<ee.length;j++){var B=ee[j],G=X[B];g.escapeMode&&(G=h(G)),T+=" "+B.substr(g.attributePrefix.length)+"=",g.useDoubleQuotes?T+='"'+G+'"':T+="'"+G+"'"}return T+(ye?"/>":">")}function J(X,ge){return"</"+(X.__prefix!=null?X.__prefix+":":"")+ge+">"}function Q(X,ge){return g.arrayAccessForm=="property"&&(ye="_asArray",(ee=ge.toString()).indexOf(ye,ee.length-ye.length)!==-1)||ge.toString().indexOf(g.attributePrefix)==0||ge.toString().indexOf("__")==0||X[ge]instanceof Function;var ee,ye}function k(X){var ge=0;if(X instanceof Object)for(var ee in X)Q(X,ee)||ge++;return ge}function W(X,ge,ee){return g.jsonPropertiesFilter.length==0||ee==""||I(g.jsonPropertiesFilter,X,ge,ee)}function K(X){var ge=[];if(X instanceof Object)for(var ee in X)ee.toString().indexOf("__")==-1&&ee.toString().indexOf(g.attributePrefix)==0&&ge.push(ee);return ge}function ve(X){var ge="";return X instanceof Object?ge+=function(ee){var ye="";return ee.__cdata!=null&&(ye+="<![CDATA["+ee.__cdata+"]]>"),ee.__text!=null&&(g.escapeMode?ye+=h(ee.__text):ye+=ee.__text),ye}(X):X!=null&&(g.escapeMode?ge+=h(X):ge+=X),ge}function ce(X,ge){return X===""?ge:X+"."+ge}function me(X,ge,ee,ye){var T="";if(X.length==0)T+=z(X,ge,ee,!0);else for(var j=0;j<X.length;j++)T+=z(X[j],ge,K(X[j]),!1),T+=_e(X[j],ce(ye,ge)),T+=J(X[j],ge);return T}function _e(X,ge){var ee="";if(k(X)>0){for(var ye in X)if(!Q(X,ye)&&(ge==""||W(X,ye,ce(ge,ye)))){var T=X[ye],j=K(T);T==null||T==null?ee+=z(T,ye,j,!0):T instanceof Object?T instanceof Array?ee+=me(T,ye,j,ge):T instanceof Date?(ee+=z(T,ye,j,!1),ee+=T.toISOString(),ee+=J(T,ye)):k(T)>0||T.__text!=null||T.__cdata!=null?(ee+=z(T,ye,j,!1),ee+=_e(T,ce(ge,ye)),ee+=J(T,ye)):ee+=z(T,ye,j,!0):(ee+=z(T,ye,j,!1),ee+=ve(T),ee+=J(T,ye))}}return ee+ve(X)}this.parseXmlString=function(X){var ge;if(X===void 0)return null;if(window.DOMParser){var ee=new window.DOMParser;try{(ge=ee.parseFromString(X,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(ge=null)}catch{ge=null}}else X.indexOf("<?")==0&&(X=X.substr(X.indexOf("?>")+2)),(ge=new ActiveXObject("Microsoft.XMLDOM")).async="false",ge.loadXML(X);return ge},this.asArray=function(X){return X===void 0||X==null?[]:X instanceof Array?X:[X]},this.toXmlDateTime=function(X){return X instanceof Date?X.toISOString():typeof X=="number"?new Date(X).toISOString():null},this.asDateTime=function(X){return typeof X=="string"?O(X):X},this.xml2json=function(X){return L(X)},this.xml_str2json=function(X){var ge=this.parseXmlString(X);return ge!=null?this.xml2json(ge):null},this.json2xml_str=function(X){return _e(X,"")},this.json2xml=function(X){var ge=this.json2xml_str(X);return this.parseXmlString(ge)},this.getVersion=function(){return"1.2.0"}},Uo="onLoad";function vd(g){g=g||{};var c,h,I,P,O,w,L=this.context,z=(0,E.Z)(L).getInstance(),J=(0,tt.Z)(L).getInstance();function Q(ce,me,_e){var X,ge,ee={};ee.elements=ce,ee.type=me,ee.resolveType=_e,ee.elements.length===0&&W(ee);for(var ye=0;ye<ee.elements.length;ye++)X=ee.elements[ye],ge=J.isHTTPURL(X.url)?X.url:X.originalContent.BaseURL+X.url,w.load(ge,X,ee)}function k(ce){var me,_e,X="";if(me=ce.element,_e=ce.resolveObject,me.resolvedContent){var ge=0;me.resolvedContent.indexOf("<?xml")===0&&(ge=me.resolvedContent.indexOf("?>")+2),X=me.resolvedContent.substr(0,ge)+"<response>"+me.resolvedContent.substr(ge)+"</response>",me.resolvedContent=O.xml_str2json(X)}(function(ee){var ye;for(ye=0;ye<ee.elements.length;ye++)if(ee.elements[ye].resolved===!1)return!1;return!0})(_e)&&W(_e)}function W(ce){var me,_e,X=[];if(function(ge){var ee,ye,T,j,B,G,D=[];for(j=ge.elements.length-1;j>=0;j--){if(ye=(ee=ge.elements[j]).type+"_asArray",ee.resolvedContent){if(ee.resolvedContent)for(B=0;B<ee.resolvedContent[ye].length;B++)T=ee.resolvedContent[ye][B],D.push(T)}else delete ee.originalContent["xlink:actuate"],delete ee.originalContent["xlink:href"],D.push(ee.originalContent);for(ee.parentElement[ye].splice(ee.index,1),G=0;G<D.length;G++)ee.parentElement[ye].splice(ee.index+G,0,D[G]);D=[]}ge.elements.length>0&&I.run(P)}(ce),ce.resolveType==="onActuate"&&z.trigger(f.Z.XLINK_READY,{manifest:P}),ce.resolveType===Uo)switch(ce.type){case i.Z.PERIOD:for(me=0;me<P[i.Z.PERIOD+"_asArray"].length;me++)(_e=P[i.Z.PERIOD+"_asArray"][me]).hasOwnProperty(i.Z.ADAPTATION_SET+"_asArray")&&(X=X.concat(K(_e[i.Z.ADAPTATION_SET+"_asArray"],_e,i.Z.ADAPTATION_SET,Uo))),_e.hasOwnProperty(i.Z.EVENT_STREAM+"_asArray")&&(X=X.concat(K(_e[i.Z.EVENT_STREAM+"_asArray"],_e,i.Z.EVENT_STREAM,Uo)));Q(X,i.Z.ADAPTATION_SET,Uo);break;case i.Z.ADAPTATION_SET:z.trigger(f.Z.XLINK_READY,{manifest:P})}}function K(ce,me,_e,X){var ge,ee,ye,T=[];for(ee=ce.length-1;ee>=0;ee--)(ge=ce[ee]).hasOwnProperty("xlink:href")&&ge["xlink:href"]==="urn:mpeg:dash:resolve-to-zero:2013"&&ce.splice(ee,1);for(ee=0;ee<ce.length;ee++)(ge=ce[ee]).hasOwnProperty("xlink:href")&&ge.hasOwnProperty("xlink:actuate")&&ge["xlink:actuate"]===X&&(ye=ve(ge["xlink:href"],me,_e,ee,X,ge),T.push(ye));return T}function ve(ce,me,_e,X,ge,ee){return{url:ce,parentElement:me,type:_e,index:X,resolveType:ge,originalContent:ee,resolvedContent:null,resolved:!1}}return c={resolveManifestOnLoad:function(ce){O=new yd({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:h}),(P=ce).Period_asArray?Q(K(P.Period_asArray,P,i.Z.PERIOD,Uo),i.Z.PERIOD,Uo):z.trigger(f.Z.XLINK_READY,{manifest:P})},setMatchers:function(ce){ce&&(h=ce)},setIron:function(ce){ce&&(I=ce)},reset:function(){z.off(f.Z.XLINK_ELEMENT_LOADED,k,c),w&&(w.reset(),w=null)}},z.on(f.Z.XLINK_ELEMENT_LOADED,k,c),w=Jm(L).create({errHandler:g.errHandler,dashMetrics:g.dashMetrics,mediaPlayerModel:g.mediaPlayerModel,requestModifier:g.requestModifier,settings:g.settings}),c}vd.__dashjs_factory_name="XlinkController";var ey=R.Z.getClassFactory(vd);function Ea(g){return Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Ea(g)}function Ed(g){function c(P,O){for(var w in P)O.hasOwnProperty(w)||(O[w]=P[w])}function h(P,O,w){for(var L=0,z=P.length;L<z;++L){var J=P[L];if(O[J.name])if(w[J.name]){if(J.merge){var Q=O[J.name],k=w[J.name];Ea(Q)==="object"&&Ea(k)==="object"?c(Q,k):w[J.name]=Q+k}}else w[J.name]=O[J.name]}}function I(P,O){for(var w=0,L=P.children.length;w<L;++w){var z=P.children[w],J=O[z.name+"_asArray"];if(J)for(var Q=0,k=J.length;Q<k;++Q){var W=J[Q];h(P.properties,O,W),I(z,W)}}}return{run:function(P){if(P===null||Ea(P)!=="object")return P;if(P.Period_asArray&&"period"in g)for(var O=g.period,w=P.Period_asArray,L=0,z=w.length;L<z;++L){var J=w[L];if(I(O,J),"adaptationset"in g){var Q=J.AdaptationSet_asArray;if(Q)for(var k=g.adaptationset,W=0,K=Q.length;W<K;++W)I(k,Q[W])}}return P}}}Ed.__dashjs_factory_name="ObjectIron";var ty=R.Z.getClassFactory(Ed);function ny(g,c){for(var h=0;h<c.length;h++){var I=c[h];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(g,I.key,I)}}var _a=function(){function g(I,P){(function(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")})(this,g),this._test=I,this._converter=P}var c,h;return c=g,(h=[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}])&&ny(c.prototype,h),g}();function du(g){return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},du(g)}function Yn(g,c,h){return c in g?Object.defineProperty(g,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):g[c]=h,g}function gu(g,c){return gu=Object.setPrototypeOf||function(h,I){return h.__proto__=I,h},gu(g,c)}function ry(g,c){return!c||du(c)!=="object"&&typeof c!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):c}function Rs(g){return Rs=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},Rs(g)}var iy=function(g){(function(O,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(w&&w.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),w&&gu(O,w)})(P,g);var c,h,I=(c=P,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,w=Rs(c);if(h){var L=Rs(this).constructor;O=Reflect.construct(w,arguments,L)}else O=w.apply(this,arguments);return ry(this,O)});function P(){return function(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")}(this,P),I.call(this,function(O,w){var L,z=(Yn(L={},i.Z.MPD,[i.Z.ID,i.Z.PROFILES]),Yn(L,i.Z.PERIOD,[i.Z.ID]),Yn(L,i.Z.BASE_URL,[i.Z.SERVICE_LOCATION,i.Z.BYTE_RANGE]),Yn(L,i.Z.SEGMENT_BASE,[i.Z.INDEX_RANGE]),Yn(L,i.Z.INITIALIZATION,[i.Z.RANGE]),Yn(L,i.Z.REPRESENTATION_INDEX,[i.Z.RANGE]),Yn(L,i.Z.SEGMENT_LIST,[i.Z.INDEX_RANGE]),Yn(L,i.Z.BITSTREAM_SWITCHING,[i.Z.RANGE]),Yn(L,i.Z.SEGMENT_URL,[i.Z.MEDIA_RANGE,i.Z.INDEX_RANGE]),Yn(L,i.Z.SEGMENT_TEMPLATE,[i.Z.INDEX_RANGE,i.Z.MEDIA,i.Z.INDEX,i.Z.INITIALIZATION_MINUS,i.Z.BITSTREAM_SWITCHING_MINUS]),Yn(L,i.Z.ASSET_IDENTIFIER,[i.Z.VALUE,i.Z.ID]),Yn(L,i.Z.EVENT_STREAM,[i.Z.VALUE]),Yn(L,i.Z.ADAPTATION_SET,[i.Z.PROFILES,i.Z.MIME_TYPE,i.Z.SEGMENT_PROFILES,i.Z.CODECS,i.Z.CONTENT_TYPE]),Yn(L,i.Z.FRAME_PACKING,[i.Z.VALUE,i.Z.ID]),Yn(L,i.Z.AUDIO_CHANNEL_CONFIGURATION,[i.Z.VALUE,i.Z.ID]),Yn(L,i.Z.CONTENT_PROTECTION,[i.Z.VALUE,i.Z.ID]),Yn(L,i.Z.ESSENTIAL_PROPERTY,[i.Z.VALUE,i.Z.ID]),Yn(L,i.Z.SUPPLEMENTAL_PROPERTY,[i.Z.VALUE,i.Z.ID]),Yn(L,i.Z.INBAND_EVENT_STREAM,[i.Z.VALUE,i.Z.ID]),Yn(L,i.Z.ACCESSIBILITY,[i.Z.VALUE,i.Z.ID]),Yn(L,i.Z.ROLE,[i.Z.VALUE,i.Z.ID]),Yn(L,i.Z.RATING,[i.Z.VALUE,i.Z.ID]),Yn(L,i.Z.VIEWPOINT,[i.Z.VALUE,i.Z.ID]),Yn(L,i.Z.CONTENT_COMPONENT,[i.Z.CONTENT_TYPE]),Yn(L,i.Z.REPRESENTATION,[i.Z.ID,i.Z.DEPENDENCY_ID,i.Z.MEDIA_STREAM_STRUCTURE_ID]),Yn(L,i.Z.SUBSET,[i.Z.ID]),Yn(L,i.Z.METRICS,[i.Z.METRICS_MINUS]),Yn(L,i.Z.REPORTING,[i.Z.VALUE,i.Z.ID]),L);if(z.hasOwnProperty(w)){var J=z[w];return J!==void 0&&J.indexOf(O.name)>=0}return!1},function(O){return String(O)})}return P}(_a);function pu(g){return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},pu(g)}function hu(g,c){return hu=Object.setPrototypeOf||function(h,I){return h.__proto__=I,h},hu(g,c)}function oy(g,c){return!c||pu(c)!=="object"&&typeof c!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):c}function Ns(g){return Ns=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},Ns(g)}var _d=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,ay=function(g){(function(O,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(w&&w.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),w&&hu(O,w)})(P,g);var c,h,I=(c=P,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,w=Ns(c);if(h){var L=Ns(this).constructor;O=Reflect.construct(w,arguments,L)}else O=w.apply(this,arguments);return oy(this,O)});function P(){return function(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")}(this,P),I.call(this,function(O){for(var w=[i.Z.MIN_BUFFER_TIME,i.Z.MEDIA_PRESENTATION_DURATION,i.Z.MINIMUM_UPDATE_PERIOD,i.Z.TIMESHIFT_BUFFER_DEPTH,i.Z.MAX_SEGMENT_DURATION,i.Z.MAX_SUBSEGMENT_DURATION,i.Z.SUGGESTED_PRESENTATION_DELAY,i.Z.START,o.Z.START_TIME,i.Z.DURATION],L=w.length,z=0;z<L;z++)if(O.nodeName===w[z])return _d.test(O.value);return!1},function(O){var w=_d.exec(O),L=31536e3*parseFloat(w[3]||0)+2592e3*parseFloat(w[5]||0)+86400*parseFloat(w[7]||0)+3600*parseFloat(w[9]||0)+60*parseFloat(w[11]||0)+parseFloat(w[13]||0);return w[1]!==void 0&&(L=-L),L})}return P}(_a);function mu(g){return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},mu(g)}function yu(g,c){return yu=Object.setPrototypeOf||function(h,I){return h.__proto__=I,h},yu(g,c)}function sy(g,c){return!c||mu(c)!=="object"&&typeof c!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):c}function Cs(g){return Cs=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},Cs(g)}var Td=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,ly=function(g){(function(O,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(w&&w.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),w&&yu(O,w)})(P,g);var c,h,I=(c=P,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,w=Cs(c);if(h){var L=Cs(this).constructor;O=Reflect.construct(w,arguments,L)}else O=w.apply(this,arguments);return sy(this,O)});function P(){return function(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")}(this,P),I.call(this,function(O){return Td.test(O.value)},function(O){var w,L=Td.exec(O);if(w=Date.UTC(parseInt(L[1],10),parseInt(L[2],10)-1,parseInt(L[3],10),parseInt(L[4],10),parseInt(L[5],10),L[6]&&parseInt(L[6],10)||0,L[7]&&1e3*parseFloat(L[7])||0),L[9]&&L[10]){var z=60*parseInt(L[9],10)+parseInt(L[10],10);w+=(L[8]==="+"?-1:1)*z*60*1e3}return new Date(w)})}return P}(_a);function vu(g){return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},vu(g)}function Eu(g,c){return Eu=Object.setPrototypeOf||function(h,I){return h.__proto__=I,h},Eu(g,c)}function uy(g,c){return!c||vu(c)!=="object"&&typeof c!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):c}function Ds(g){return Ds=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},Ds(g)}var cy=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,fy=function(g){(function(O,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(w&&w.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),w&&Eu(O,w)})(P,g);var c,h,I=(c=P,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,w=Ds(c);if(h){var L=Ds(this).constructor;O=Reflect.construct(w,arguments,L)}else O=w.apply(this,arguments);return uy(this,O)});function P(){return function(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")}(this,P),I.call(this,function(O){return cy.test(O.value)},function(O){return parseFloat(O)})}return P}(_a);function _u(g){return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},_u(g)}function Ta(g,c,h){return c in g?Object.defineProperty(g,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):g[c]=h,g}function Tu(g,c){return Tu=Object.setPrototypeOf||function(h,I){return h.__proto__=I,h},Tu(g,c)}function dy(g,c){return!c||_u(c)!=="object"&&typeof c!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):c}function Os(g){return Os=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},Os(g)}var gy=function(g){(function(O,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(w&&w.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),w&&Tu(O,w)})(P,g);var c,h,I=(c=P,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,w=Os(c);if(h){var L=Os(this).constructor;O=Reflect.construct(w,arguments,L)}else O=w.apply(this,arguments);return dy(this,O)});function P(){return function(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")}(this,P),I.call(this,function(O,w){var L,z=(Ta(L={},i.Z.ADAPTATION_SET,[i.Z.LANG]),Ta(L,i.Z.REPRESENTATION,[i.Z.LANG]),Ta(L,i.Z.CONTENT_COMPONENT,[i.Z.LANG]),Ta(L,i.Z.LABEL,[i.Z.LANG]),Ta(L,i.Z.GROUP_LABEL,[i.Z.LANG]),L);if(z.hasOwnProperty(w)){var J=z[w];return J!==void 0&&J.indexOf(O.name)>=0}return!1},function(O){return ws()(O)||String(O)})}return P}(_a);function py(g,c){for(var h=0;h<c.length;h++){var I=c[h];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(g,I.key,I)}}var hy=function(){function g(I){var P;(function(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")})(this,g),this._name=I,this._merge=(P=I)&&P.length&&P.charAt(0)===P.charAt(0).toUpperCase()}var c,h;return c=g,(h=[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}])&&py(c.prototype,h),g}();function my(g,c){for(var h=0;h<c.length;h++){var I=c[h];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(g,I.key,I)}}var Zo=function(){function g(I,P,O){var w=this;(function(L,z){if(!(L instanceof z))throw new TypeError("Cannot call a class as a function")})(this,g),this._name=I||"",this._properties=[],this._children=O||[],Array.isArray(P)&&P.forEach(function(L){w._properties.push(new hy(L))})}var c,h;return c=g,(h=[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}])&&my(c.prototype,h),g}();function Su(g){return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Su(g)}function Au(g,c){return Au=Object.setPrototypeOf||function(h,I){return h.__proto__=I,h},Au(g,c)}function yy(g,c){return!c||Su(c)!=="object"&&typeof c!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):c}function Ms(g){return Ms=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},Ms(g)}var vy=function(g){(function(O,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(w&&w.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),w&&Au(O,w)})(P,g);var c,h,I=(c=P,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,w=Ms(c);if(h){var L=Ms(this).constructor;O=Reflect.construct(w,arguments,L)}else O=w.apply(this,arguments);return yy(this,O)});function P(){(function(w,L){if(!(w instanceof L))throw new TypeError("Cannot call a class as a function")})(this,P);var O=[i.Z.PROFILES,i.Z.WIDTH,i.Z.HEIGHT,i.Z.SAR,i.Z.FRAMERATE,i.Z.AUDIO_SAMPLING_RATE,i.Z.MIME_TYPE,i.Z.SEGMENT_PROFILES,i.Z.CODECS,i.Z.MAXIMUM_SAP_PERIOD,i.Z.START_WITH_SAP,i.Z.MAX_PLAYOUT_RATE,i.Z.CODING_DEPENDENCY,i.Z.SCAN_TYPE,i.Z.FRAME_PACKING,i.Z.AUDIO_CHANNEL_CONFIGURATION,i.Z.CONTENT_PROTECTION,i.Z.ESSENTIAL_PROPERTY,i.Z.ESSENTIAL_PROPERTY+"_asArray",i.Z.SUPPLEMENTAL_PROPERTY,i.Z.INBAND_EVENT_STREAM];return I.call(this,i.Z.ADAPTATION_SET,O,[new Zo(i.Z.REPRESENTATION,O,[new Zo(i.Z.SUB_REPRESENTATION,O)])])}return P}(Zo);function wu(g){return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},wu(g)}function Iu(g,c){return Iu=Object.setPrototypeOf||function(h,I){return h.__proto__=I,h},Iu(g,c)}function Ey(g,c){return!c||wu(c)!=="object"&&typeof c!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):c}function Ps(g){return Ps=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},Ps(g)}var _y=function(g){(function(O,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(w&&w.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),w&&Iu(O,w)})(P,g);var c,h,I=(c=P,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,w=Ps(c);if(h){var L=Ps(this).constructor;O=Reflect.construct(w,arguments,L)}else O=w.apply(this,arguments);return Ey(this,O)});function P(){(function(w,L){if(!(w instanceof L))throw new TypeError("Cannot call a class as a function")})(this,P);var O=[i.Z.SEGMENT_BASE,i.Z.SEGMENT_TEMPLATE,i.Z.SEGMENT_LIST];return I.call(this,i.Z.PERIOD,O,[new Zo(i.Z.ADAPTATION_SET,O,[new Zo(i.Z.REPRESENTATION,O)])])}return P}(Zo);function Sd(g){g=g||{};var c,h,I,P,O,w=this.context,L=g.debug;return c={parse:function(z){var J,Q=window.performance.now();if(!(J=P.xml_str2json(z)))throw new Error("parsing the manifest failed");var k=window.performance.now();J.Patch?((J=J.Patch).add_asArray&&J.add_asArray.forEach(function(K){return O.run(K)}),J.replace_asArray&&J.replace_asArray.forEach(function(K){return O.run(K)})):(J=J.MPD,O.run(J));var W=window.performance.now();return h.info("Parsing complete: ( xml2json: "+(k-Q).toPrecision(3)+"ms, objectiron: "+(W-k).toPrecision(3)+"ms, total: "+((W-Q)/1e3).toPrecision(3)+"s)"),J.protocol="DASH",J},getMatchers:function(){return I},getIron:function(){return O}},h=L.getLogger(c),I=[new ay,new ly,new fy,new gy,new iy],P=new yd({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:I}),O=ty(w).create({adaptationset:new vy,period:new _y}),c}Sd.__dashjs_factory_name="DashParser";var Ty=R.Z.getClassFactory(Sd);function Ad(g){g=g||{};var c,h,I,P,O,w=this.context,L=g.debug,z=g.settings,J=(0,E.Z)(w).getInstance(),Q=(0,tt.Z)(w).getInstance(),k=g.mssHandler,W=g.errHandler;function K(ce){J.trigger(f.Z.INTERNAL_MANIFEST_LOADED,{manifest:ce.manifest})}function ve(ce){var me=null;return ce.indexOf("SmoothStreamingMedia")>-1?(k&&(me=k.createMssParser(),k.createMssFragmentProcessor(),k.registerEvents()),me):ce.indexOf("MPD")>-1||ce.indexOf("Patch")>-1?Ty(w).create({debug:L}):me}return c={load:function(ce){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,_e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,X=new Date,ge=new hd(ce,Me.w.MPD_TYPE);me&&(ge.serviceLocation=me),_e&&(ge.queryParams=_e),ge.requestStartDate||(ge.requestStartDate=X),J.trigger(f.Z.MANIFEST_LOADING_STARTED,{request:ge}),I.load({request:ge,success:function(ee,ye,T){var j,B,G;if(P)if(T&&T!==ce?(B=Q.parseBaseUrl(T),j=T):(Q.isRelative(ce)&&(ce=Q.resolve(ce,window.location.href)),B=Q.parseBaseUrl(ce)),ye!="No Content")if(O===null&&(O=ve(ee)),O!==null){P.setMatchers(O.getMatchers()),P.setIron(O.getIron());try{G=O.parse(ee)}catch{return void J.trigger(f.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new de.Z(ae.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,ae.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ce))})}if(G){if(G.url=j||ce,G.originalUrl||(G.originalUrl=G.url),z&&z.get().streaming.enableManifestDurationMismatchFix&&G.mediaPresentationDuration&&G.Period_asArray.length>1){var D=G.Period_asArray.reduce(function(fe,ie){return fe+ie.duration},0);!isNaN(D)&&G.mediaPresentationDuration>D&&(h.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),G.mediaPresentationDuration=D)}G.baseUri=B,G.loadedTime=new Date,P.resolveManifestOnLoad(G),J.trigger(f.Z.ORIGINAL_MANIFEST_LOADED,{originalManifest:ee})}else J.trigger(f.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new de.Z(ae.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,ae.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ce))})}else J.trigger(f.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new de.Z(ae.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,ae.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ce))});else J.trigger(f.Z.INTERNAL_MANIFEST_LOADED,{manifest:null})},error:function(ee,ye,T){J.trigger(f.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new de.Z(ae.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,ae.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(ce,", ").concat(T))})}})},reset:function(){J.off(f.Z.XLINK_READY,K,c),k&&k.reset(),P&&(P.reset(),P=null),I&&(I.abort(),I=null)}},h=L.getLogger(c),J.on(f.Z.XLINK_READY,K,c),I=wr(w).create({errHandler:g.errHandler,dashMetrics:g.dashMetrics,mediaPlayerModel:g.mediaPlayerModel,requestModifier:g.requestModifier,urlUtils:Q,constants:o.Z,dashConstants:i.Z,errors:ae,requestTimeout:g.settings.get().streaming.manifestRequestTimeout}),P=ey(w).create({errHandler:W,dashMetrics:g.dashMetrics,mediaPlayerModel:g.mediaPlayerModel,requestModifier:g.requestModifier,settings:g.settings}),O=null,c}Ad.__dashjs_factory_name="ManifestLoader";var Sy=R.Z.getClassFactory(Ad);function wd(){var g=this.context,c=(0,E.Z)(g).getInstance();return{error:function(h){c.trigger(f.Z.ERROR,{error:h})}}}wd.__dashjs_factory_name="ErrorHandler";var Ay=R.Z.getSingletonFactory(wd),Id=S(1715);function bd(){var g,c,h,I,P,O,w=this.context,L=(0,E.Z)(w).getInstance();function z(J,Q){if(!Q||!Q.Period_asArray||Q.Period_asArray.length===0)return Promise.resolve();var k=[];return Q.Period_asArray.forEach(function(W){k.push(function(K,ve){return new Promise(function(ce){if(K&&K.AdaptationSet_asArray&&K.AdaptationSet_asArray.length!==0){var me=[];K.AdaptationSet_asArray.forEach(function(_e){c.getIsTypeOf(_e,ve)&&me.push(function(X,ge){return new Promise(function(ee){if(X.Representation_asArray&&X.Representation_asArray.length!==0){var ye=[],T=[];X.Representation_asArray.forEach(function(j,B){var G=c.getCodec(X,B,!1),D=function(fe,ie,pe){switch(fe){case o.Z.VIDEO:return function(se,V){return{codec:V,width:se.width||null,height:se.height||null,framerate:se.frameRate||null,bitrate:se.bandwidth||null}}(ie,pe);case o.Z.AUDIO:return function(se,V){var le=se.audioSamplingRate||null;return{codec:V,bitrate:se.bandwidth||null,samplerate:le}}(ie,pe);default:return null}}(ge,j,G);T.push(D),ye.push(h.supportsCodec(D,ge))}),Promise.all(ye).then(function(j){X.Representation_asArray=X.Representation_asArray.filter(function(B,G){return j[G]||O.debug("[Stream] Codec ".concat(T[G].codec," not supported ")),j[G]}),ee()}).catch(function(){ee()})}else ee()})}(_e,ve))}),Promise.all(me).then(function(){K.AdaptationSet_asArray=K.AdaptationSet_asArray.filter(function(_e){var X=_e.Representation_asArray&&_e.Representation_asArray.length>0;return X||(L.trigger(f.Z.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:_e}),O.warn("AdaptationSet has been removed because of no supported Representation")),X}),ce()}).catch(function(){ce()})}else ce()})}(W,J))}),Promise.all(k)}return g={setConfig:function(J){J&&(J.adapter&&(c=J.adapter),J.capabilities&&(h=J.capabilities),J.settings&&(I=J.settings),J.customParametersModel&&(P=J.customParametersModel))},filterUnsupportedFeatures:function(J){return new Promise(function(Q){var k=[];k.push(z(o.Z.VIDEO,J)),k.push(z(o.Z.AUDIO,J)),Promise.all(k).then(function(){I.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function(W){W&&W.Period_asArray&&W.Period_asArray.length!==0&&W.Period_asArray.forEach(function(K){K.AdaptationSet_asArray=K.AdaptationSet_asArray.filter(function(ve){return!ve.Representation_asArray||ve.Representation_asArray.length===0||(ve.Representation_asArray=ve.Representation_asArray.filter(function(ce){var me=c.getEssentialPropertiesForRepresentation(ce);if(me&&me.length>0)for(var _e=0;_e<me.length;){if(!h.supportsEssentialProperty(me[_e]))return O.debug("[Stream] EssentialProperty not supported: "+me[_e].schemeIdUri),!1;_e+=1}return!0}),ve.Representation_asArray&&ve.Representation_asArray.length>0)})})}(J),function(W){var K=P.getCustomCapabilitiesFilters();K&&K.length!==0&&W&&W.Period_asArray&&W.Period_asArray.length!==0&&W.Period_asArray.forEach(function(ve){ve.AdaptationSet_asArray=ve.AdaptationSet_asArray.filter(function(ce){return!ce.Representation_asArray||ce.Representation_asArray.length===0||(ce.Representation_asArray=ce.Representation_asArray.filter(function(me){return!K.some(function(_e){return!_e(me)})}),ce.Representation_asArray&&ce.Representation_asArray.length>0)})})}(J),Q()}).catch(function(){Q()})})}},O=(0,y.Z)(w).getInstance().getLogger(g),g}bd.__dashjs_factory_name="CapabilitiesFilter";var wy=R.Z.getSingletonFactory(bd),Iy=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};function Rd(){var g;return{initialize:function(c){if(g=new Iy,!c)return null;var h=c.indexOf("#");if(h!==-1)for(var I=c.substr(h+1).split("&"),P=0,O=I.length;P<O;++P){var w=I[P],L=w.indexOf("=");if(L!==-1){var z=w.substring(0,L);g.hasOwnProperty(z)&&(g[z]=w.substr(L+1))}}},getURIFragmentData:function(){return g}}}Rd.__dashjs_factory_name="URIFragmentModel";var by=R.Z.getSingletonFactory(Rd);function Nd(){var g,c=this.context,h=(0,E.Z)(c).getInstance();return{getValue:function(){return g},setValue:function(I){g=I,I&&h.trigger(f.Z.MANIFEST_LOADED,{data:I})}}}Nd.__dashjs_factory_name="ManifestModel";var Ry=R.Z.getSingletonFactory(Nd),bu=-.5;function Cd(){var g,c,h,I,P=this.context,O=(0,we.Z)(P).getInstance();function w(J,Q){return isNaN(J)?0:J>0?(Q&&c.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):J<bu?(Q&&c.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(bu,": ").concat(-50,"% playback speed.")),bu):J}function L(J,Q){return isNaN(J)?0:J<0?(Q&&c.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):J>1?(Q&&c.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):J}function z(){var J=O.get().streaming.buffer.stableBufferTime>0?O.get().streaming.buffer.stableBufferTime:O.get().streaming.buffer.fastSwitchEnabled?20:12,Q=h.getLiveDelay();return!isNaN(Q)&&Q>0?Math.min(J,Q):J}return g={getCatchupMaxDrift:function(){if(!isNaN(O.get().streaming.liveCatchup.maxDrift)&&O.get().streaming.liveCatchup.maxDrift>0)return O.get().streaming.liveCatchup.maxDrift;var J=I.getServiceDescriptionSettings();return J&&J.liveCatchup&&!isNaN(J.liveCatchup.maxDrift)&&J.liveCatchup.maxDrift>0?J.liveCatchup.maxDrift:12},getCatchupModeEnabled:function(){return O.get().streaming.liveCatchup.enabled!==null?O.get().streaming.liveCatchup.enabled:h.getInitialCatchupModeActivated()},getStableBufferTime:z,getInitialBufferLevel:function(){var J=O.get().streaming.buffer.initialBufferLevel;return isNaN(J)||J<0?0:Math.min(z(),J)},getRetryAttemptsForType:function(J){var Q=isNaN(O.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:O.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return h.getLowLatencyModeEnabled()?O.get().streaming.retryAttempts[J]*Q:O.get().streaming.retryAttempts[J]},getRetryIntervalsForType:function(J){var Q=isNaN(O.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:O.get().streaming.retryIntervals.lowLatencyReductionFactor;return h.getLowLatencyModeEnabled()?O.get().streaming.retryIntervals[J]/Q:O.get().streaming.retryIntervals[J]},getCatchupPlaybackRates:function(J){var Q=O.get().streaming.liveCatchup.playbackRate;if(!isNaN(Q.min)||!isNaN(Q.max))return{min:w(Q.min,J),max:L(Q.max,J)};var k=I.getServiceDescriptionSettings();if(k&&k.liveCatchup&&(!isNaN(k.liveCatchup.playbackRate.min)||!isNaN(k.liveCatchup.playbackRate.max))){var W=k.liveCatchup.playbackRate;return{min:w(W.min,J),max:L(W.max,J)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function(J,Q){try{var k=O.get().streaming.abr[J][Q];if(!isNaN(k)&&k!==-1)return k;var W=I.getServiceDescriptionSettings();return W&&W[J]&&!isNaN(W[J][Q])?W[J][Q]:-1}catch{return-1}},setConfig:function(J){J.playbackController&&(h=J.playbackController),J.serviceDescriptionController&&(I=J.serviceDescriptionController)},reset:function(){}},c=(0,y.Z)(P).getInstance().getLogger(g),g}Cd.__dashjs_factory_name="MediaPlayerModel";var Ny=R.Z.getSingletonFactory(Cd),Cy=S(1767);function Dd(g){var c=(g=g||{}).abrController,h=g.switchHistory,I=g.droppedFramesHistory,P=g.currentRequest,O=g.useBufferOccupancyABR,w=g.useL2AABR,L=g.useLoLPABR,z=g.streamProcessor?g.streamProcessor.getScheduleController():null,J=g.streamProcessor?g.streamProcessor.getRepresentationInfo():null,Q=g.videoModel?g.videoModel:null;function k(){return J?J.mediaInfo:null}return{getMediaType:function(){var W=k();return W?W.type:null},getMediaInfo:k,getDroppedFramesHistory:function(){return I},getCurrentRequest:function(){return P},getSwitchHistory:function(){return h},getStreamInfo:function(){var W=k();return W?W.streamInfo:null},getScheduleController:function(){return z},getAbrController:function(){return c},getRepresentationInfo:function(){return J},useBufferOccupancyABR:function(){return O},useL2AABR:function(){return w},useLoLPABR:function(){return L},getVideoModel:function(){return Q}}}Dd.__dashjs_factory_name="RulesContext";var Od=R.Z.getClassFactory(Dd),Ls=S(2068);function Md(){var g=[],c=[];return{push:function(h){h.newValue===Ls.Z.NO_CHANGE&&(h.newValue=h.oldValue),g[h.oldValue]||(g[h.oldValue]={noDrops:0,drops:0,dropSize:0});var I=h.newValue-h.oldValue,P=I<0?1:0,O=P?-I:0,w=P?0:1;if(g[h.oldValue].drops+=P,g[h.oldValue].dropSize+=O,g[h.oldValue].noDrops+=w,c.push({idx:h.oldValue,noDrop:w,drop:P,dropSize:O}),c.length>8){var L=c.shift();g[L.idx].drops-=L.drop,g[L.idx].dropSize-=L.dropSize,g[L.idx].noDrops-=L.noDrop}},getSwitchRequests:function(){return g},reset:function(){g=[],c=[]}}}Md.__dashjs_factory_name="SwitchRequestHistory";var Dy=R.Z.getClassFactory(Md);function Pd(){var g={},c={},h={};return{push:function(I,P,O){if(P){g[I]||(g[I]=[],c[I]=0,h[I]=0);var w=O&&O.droppedVideoFrames?O.droppedVideoFrames:0,L=O&&O.totalVideoFrames?O.totalVideoFrames:0,z=w-c[I];c[I]=w;var J=L-h[I];h[I]=L;var Q=g[I];isNaN(P)||(Q[P]?(Q[P].droppedVideoFrames+=z,Q[P].totalVideoFrames+=J):Q[P]={droppedVideoFrames:z,totalVideoFrames:J})}},getFrameHistory:function(I){return g[I]},clearForStream:function(I){try{delete g[I],delete c[I],delete h[I]}catch{}},reset:function(){g={},c={},h={}}}}Pd.__dashjs_factory_name="DroppedFramesHistory";var Oy=R.Z.getClassFactory(Pd);function Ld(g){var c,h,I,P,O,w=this.context,L=(g=g||{}).settings,z=(0,E.Z)(w).getInstance();function J(ce,me,_e,X){var ge=Math.pow(.5,_e/X.fast);ce.fastEstimate=(1-ge)*me+ge*ce.fastEstimate;var ee=Math.pow(.5,_e/X.slow);ce.slowEstimate=(1-ee)*me+ee*ce.slowEstimate,ce.totalWeight+=_e}function Q(ce,me,_e){return L.get().streaming.abr.movingAverageMethod!==o.Z.MOVING_AVERAGE_SLIDING_WINDOW?function(X,ge){var ee=X?O.throughputHalfLife:O.latencyHalfLife,ye=X?I[ge]:P[ge];if(!ye||ye.totalWeight<=0)return NaN;var T=ye.fastEstimate/(1-Math.pow(.5,ye.totalWeight/ee.fast)),j=ye.slowEstimate/(1-Math.pow(.5,ye.totalWeight/ee.slow));return X?Math.min(T,j):Math.max(T,j)}(ce,me):function(X,ge,ee){var ye=function(j,B,G){var D,fe;if(j?(D=c[B],fe=G?3:4):(D=h[B],fe=4),D){if(fe>=D.length)fe=D.length;else if(j)for(var ie=1;ie<fe;++ie){var pe=D[D.length-ie]/D[D.length-ie-1];if((pe>=1.3||pe<=.7692307692307692)&&(fe+=1)===D.length)break}}else fe=0;return fe}(X,ge,ee),T=(X?c:h)[ge];return ye!==0&&T&&T.length!==0?(T=T.slice(-ye)).reduce(function(j,B){return j+B})/T.length:NaN}(ce,me,_e)}function k(ce,me){return Q(!0,ce,me)}function W(ce){c[ce]=c[ce]||[],h[ce]=h[ce]||[],I[ce]=I[ce]||{fastEstimate:0,slowEstimate:0,totalWeight:0},P[ce]=P[ce]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function K(){c={},h={},I={},P={}}var ve={push:function(ce,me,_e){if(me.trace&&me.trace.length){var X,ge=me.tresponse.getTime()-me.trequest.getTime()||1,ee=me._tfinish.getTime()-me.tresponse.getTime()||1,ye=me.trace.reduce(function(G,D){return G+D.b[0]},0),T=0;if((X=me._fileLoaderType&&me._fileLoaderType===o.Z.FILE_LOADER_TYPES.FETCH?me.trace.reduce(function(G,D){return G+D.d},0):_e?ee:ge+ee)!==0&&(T=Math.round(8*ye/X)),me.cmsd){var j=me.cmsd.dynamic&&me.cmsd.dynamic.etp?me.cmsd.dynamic.etp:null;if(j){var B=L.get().streaming.cmsd.abr.etpWeightRatio;B>0&&B<=1&&(T=T*(1-B)+j*B)}}if(W(ce),function(G,D,fe){return G===o.Z.VIDEO?fe<L.get().streaming.cacheLoadThresholds[o.Z.VIDEO]:G===o.Z.AUDIO?fe<L.get().streaming.cacheLoadThresholds[o.Z.AUDIO]:void 0}(ce,0,ee)){if(c[ce].length>0&&!c[ce].hasCachedEntries)return;c[ce].hasCachedEntries=!0}else c[ce]&&c[ce].hasCachedEntries&&function(G){delete c[G],delete h[G],delete I[G],delete P[G],W(G)}(ce);c[ce].push(T),z.trigger(r.Z.THROUGHPUT_MEASUREMENT_STORED,{throughput:T,mediaType:ce,httpRequest:me}),c[ce].length>20&&c[ce].shift(),h[ce].push(ge),h[ce].length>20&&h[ce].shift(),J(I[ce],T,.001*ee,O.throughputHalfLife),J(P[ce],ge,1,O.latencyHalfLife)}},getAverageThroughput:k,getSafeAverageThroughput:function(ce,me){var _e=k(ce,me);return isNaN(_e)||(_e*=L.get().streaming.abr.bandwidthSafetyFactor),_e},getAverageLatency:function(ce){return Q(!1,ce)},reset:K};return O={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},K(),ve}Ld.__dashjs_factory_name="ThroughputHistory";var My=R.Z.getClassFactory(Ld);function Ru(){var g,c,h,I,P,O,w,L,z,J,Q,k,W,K,ve,ce,me,_e,X,ge,ee,ye,T,j,B,G,D,fe=this.context,ie=(0,y.Z)(fe).getInstance(),pe=(0,E.Z)(fe).getInstance();function se(){P={},O={},L={},w={},ge={},T={},j={},B={},J===void 0&&(J=!1),ee&&ee.reset(),X=void 0,ee=void 0,ye=void 0,clearTimeout(z),z=null}function V(Ce){var qe=Ce.request.mediaType,ht=Ce.streamId;if(qe&&ht&&w[ht]&&D.get().streaming.abr.autoSwitchBitrate[qe]){var Xe=w[ht][qe];if(Xe){var _t=Od(fe).create({abrController:g,streamProcessor:Xe,currentRequest:Ce.request,useBufferOccupancyABR:T[qe],useL2AABR:j[qe],useLoLPABR:B[qe],videoModel:K}),Et=h.shouldAbandonFragment(_t,ht);Et.quality>Ls.Z.NO_CHANGE&&Xe.getFragmentModel().getRequests({state:ne.FRAGMENT_MODEL_LOADING,index:Ce.request.index})[0]&&(L[ht][qe].state=_.Z.ABANDON_LOAD,ge[ht][qe].reset(),ge[ht][qe].push({oldValue:Ze(qe,ht),newValue:Et.quality,confidence:1,reason:Et.reason}),xe(qe,I.getActiveStreamInfo(),Et.quality,Et.reason),clearTimeout(z),z=setTimeout(function(){L[ht][qe].state=_.Z.ALLOW_LOAD,z=null},D.get().streaming.abandonLoadTimeout))}}}function le(Ce){Ce.mediaType===o.Z.VIDEO&&(X!==void 0&&ee.push(Ce.streamId,X,K.getPlaybackQuality()),X=Ce.newQuality)}function Se(Ce){var qe,ht;Ce.metric!==_.Z.HTTP_REQUEST||!Ce.value||Ce.value.type!==Me.w.MEDIA_SEGMENT_TYPE||Ce.mediaType!==o.Z.AUDIO&&Ce.mediaType!==o.Z.VIDEO||ye.push(Ce.mediaType,Ce.value,D.get().streaming.abr.useDeadTimeLatency),Ce.metric!==_.Z.BUFFER_LEVEL||Ce.mediaType!==o.Z.AUDIO&&Ce.mediaType!==o.Z.VIDEO||(qe=Ce.mediaType,ht=.001*Ce.value.level,D.get().streaming.abr.ABRStrategy===o.Z.ABR_STRATEGY_DYNAMIC&&function(Xe,_t){try{var Et=ve.getStableBufferTime(),gt=Et,Kt=.5*Et,Vt=T[Xe],gn=_t>(Vt?Kt:gt);T[Xe]=gn,gn!==Vt&&(gn?c.info("["+Xe+"] switching from throughput to buffer occupancy ABR rule (buffer: "+_t.toFixed(3)+")."):c.info("["+Xe+"] switching from buffer occupancy to throughput ABR rule (buffer: "+_t.toFixed(3)+")."))}catch(mn){c.error(mn)}}(qe,ht))}function Ue(Ce,qe){try{var ht;return P[qe]=P[qe]||{},P[qe].hasOwnProperty(Ce)||(P[qe][Ce]=0),ht=function(Xe,_t){var Et=P[_t][Xe],gt=Et;if(!w[_t]||!w[_t][Xe])return gt;var Kt=Oe(Xe,_t);Kt!==void 0&&(gt=Math.max(Et,Kt));var Vt=function(gn,mn){try{var Ke=ve.getAbrBitrateParameter("maxBitrate",gn);return Ke>-1?rt(w[mn][gn].getMediaInfo(),Ke,mn):void 0}catch{return}}(Xe,_t);return Vt!==void 0&&(gt=Math.min(gt,Vt)),gt}(Ce,qe),ht=function(Xe,_t,Et){var gt=P[Et][_t],Kt=D.get().streaming.abr.maxRepresentationRatio[_t];return isNaN(Kt)||Kt>=1||Kt<0?Xe:Math.min(Xe,Math.round(gt*Kt))}(ht,Ce,qe),ht=function(Xe,_t,Et){if(_t!==o.Z.VIDEO||!D.get().streaming.abr.limitBitrateByPortal||!w[Et]||!w[Et][_t])return Xe;J||Ut();var gt=w[Et][_t].getStreamInfo(),Kt=W.getAdaptationForType(gt.index,_t,gt).Representation_asArray,Vt=Xe;if(Q>0&&k>0){for(;Vt>0&&Kt[Vt]&&Q<Kt[Vt].width&&Q-Kt[Vt-1].width<Kt[Vt].width-Q;)Vt-=1;for(;Vt<Kt.length-1&&Kt[Vt].width===Kt[Vt+1].width;)Vt+=1}return Vt}(ht,Ce,qe),D.get().streaming.cmsd.enabled&&D.get().streaming.cmsd.abr.applyMb&&(ht=function(Xe,_t,Et){if(_t!=="video")return Xe;var gt=me.getMaxBitrate(_t);if(gt<0)return Xe;var Kt=ut(Et,"audio",Ze("audio",Et));gt-=Kt?Kt.bitrate/1e3:0;var Vt=rt(w[Et][_t].getMediaInfo(),gt,Et);return c.debug("Stream ID: "+Et+" ["+_t+"] Apply max bit rate from CMSD: "+gt),Math.min(Xe,Vt)}(ht,Ce,qe)),ht}catch{return}}function Oe(Ce,qe){try{return function(ht,Xe){try{var _t=ve.getAbrBitrateParameter("minBitrate",ht);if(_t>-1){var Et=w[Xe][ht].getMediaInfo(),gt=it(Et),Kt=rt(Et,_t,Xe);return gt[Kt]&&Kt<gt.length-1&&gt[Kt].bitrate<1e3*_t&&Kt++,Kt}return}catch{return}}(Ce,qe)}catch{return}}function Ze(Ce){var qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;try{return qe||(qe=I.getActiveStreamInfo().id),Ce&&w[qe]&&w[qe][Ce]&&qe?(O[qe]=O[qe]||{},O[qe].hasOwnProperty(Ce)||(O[qe][Ce]=0),O[qe][Ce]):0}catch{return 0}}function xe(Ce,qe,ht){var Xe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(qe&&qe.id&&Ce){var _t=qe.id,Et=Ze(Ce,_t);(0,re.SE)(ht);var gt=Ue(Ce,_t);ht!==Et&&ht>=0&&ht<=gt&&lt(Ce,Et,ht,gt,Xe,_t)}}function lt(Ce,qe,ht,Xe,_t,Et){if(Ce&&w[Et]&&w[Et][Ce]){var gt=w[Et][Ce].getStreamInfo(),Kt=gt&&gt.manifestInfo&&gt.manifestInfo.isDynamic,Vt=G.getCurrentBufferLevel(Ce);c.info("Stream ID: "+Et+" ["+Ce+"] switch from "+qe+" to "+ht+"/"+Xe+" (buffer: "+Vt+") "+(_t?JSON.stringify(_t):".")),O[Et]=O[Et]||{},O[Et][Ce]=ht;var gn=ut(Et,Ce,ht);pe.trigger(f.Z.QUALITY_CHANGE_REQUESTED,{oldQuality:qe,newQuality:ht,reason:_t,streamInfo:gt,bitrateInfo:gn,maxIdx:Xe,mediaType:Ce},{streamId:gt.id,mediaType:Ce});var mn=ye.getAverageThroughput(Ce,Kt);isNaN(mn)||_e.setSavedBitrateSettings(Ce,mn)}}function ut(Ce,qe,ht){if(qe&&w&&w[Ce]&&w[Ce][qe]){var Xe=it(w[Ce][qe].getMediaInfo());return Xe[ht]?Xe[ht]:null}return null}function rt(Ce,qe,ht){var Xe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,_t=Ce&&Ce.type?w[ht][Ce.type].getRepresentationInfo():null;if(D.get().streaming.abr.useDeadTimeLatency&&Xe&&_t&&_t.fragmentDuration){Xe/=1e3;var Et=_t.fragmentDuration;if(Xe>Et)return 0;var gt=Xe/Et;qe*=1-gt}for(var Kt=it(Ce),Vt=Kt.length-1;Vt>=0;Vt--){var gn=Kt[Vt];if(1e3*qe>=gn.bitrate)return Vt}return 0}function it(Ce){var qe=[];if(!Ce||!Ce.bitrateList)return qe;for(var ht,Xe=Ce.bitrateList,_t=Ce.type,Et=0,gt=Xe.length;Et<gt;Et++)(ht=new vs).mediaType=_t,ht.qualityIndex=Et,ht.bitrate=Xe[Et].bandwidth,ht.width=Xe[Et].width,ht.height=Xe[Et].height,ht.scanType=Xe[Et].scanType,qe.push(ht);return qe}function Ut(){if(K){var Ce=D.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;Q=K.getClientWidth()*Ce,k=K.getClientHeight()*Ce}}return g={initialize:function(){ee=Oy(fe).create(),ye=My(fe).create({settings:D}),(h=(0,Cy.Z)(fe).create({dashMetrics:G,customParametersModel:ce,mediaPlayerModel:ve,settings:D})).initialize(),pe.on(r.Z.QUALITY_CHANGE_RENDERED,le,g),pe.on(r.Z.METRIC_ADDED,Se,g),pe.on(f.Z.LOADING_PROGRESS,V,g)},isPlayingAtTopQuality:function(Ce){var qe=Ce?Ce.id:null,ht=Ze(o.Z.AUDIO,qe),Xe=Ze(o.Z.VIDEO,qe);return ht===Ue(o.Z.AUDIO,qe)&&Xe===Ue(o.Z.VIDEO,qe)},updateTopQualityIndex:function(Ce){var qe=Ce.type,ht=Ce.streamInfo.id,Xe=Ce.representationCount-1;return P[ht]=P[ht]||{},P[ht][qe]=Xe,Xe},clearDataForStream:function(Ce){ee&&ee.clearForStream(Ce),w[Ce]&&delete w[Ce],ge[Ce]&&delete ge[Ce],L[Ce]&&delete L[Ce]},getThroughputHistory:function(){return ye},getBitrateList:it,getQualityForBitrate:rt,getTopBitrateInfoFor:function(Ce){var qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(qe||(qe=I.getActiveStreamInfo().id),Ce&&w&&w[qe]&&w[qe][Ce]){var ht=Ue(Ce,qe),Xe=it(w[qe][Ce].getMediaInfo());return Xe[ht]?Xe[ht]:null}return null},getMinAllowedIndexFor:Oe,getMaxAllowedIndexFor:Ue,getInitialBitrateFor:function(Ce,qe){if(function(){if(!_e||!_e.hasOwnProperty("getSavedBitrateSettings"))throw new Error(o.Z.MISSING_CONFIG_ERROR)}(),Ce===o.Z.TEXT)return NaN;var ht=_e.getSavedBitrateSettings(Ce),Xe=ve.getAbrBitrateParameter("initialBitrate",Ce),_t=D.get().streaming.abr.initialRepresentationRatio[Ce];if(Xe===-1)if(_t>-1){var Et=w[qe][Ce].getStreamInfo(),gt=W.getAdaptationForType(Et.index,Ce,Et).Representation_asArray;Xe=Array.isArray(gt)?gt[Math.max(Math.round(gt.length*_t)-1,0)].bandwidth/1e3:0}else Xe=isNaN(ht)?Ce===o.Z.VIDEO?1e3:100:ht;return Xe},getQualityFor:Ze,getAbandonmentStateFor:function(Ce,qe){return L[Ce]&&L[Ce][qe]?L[Ce][qe].state:null},setPlaybackQuality:xe,checkPlaybackQuality:function(Ce,qe){try{if(!(Ce&&w&&w[qe]&&w[qe][Ce]))return!1;if(ee){var ht=K.getPlaybackQuality();ht&&ee.push(qe,X,ht)}if(!D.get().streaming.abr.autoSwitchBitrate[Ce])return!1;var Xe=Ze(Ce,qe),_t=Od(fe).create({abrController:g,switchHistory:ge[qe][Ce],droppedFramesHistory:ee,streamProcessor:w[qe][Ce],currentValue:Xe,useBufferOccupancyABR:T[Ce],useL2AABR:j[Ce],useLoLPABR:B[Ce],videoModel:K}),Et=Oe(Ce,qe),gt=Ue(Ce,qe),Kt=h.getMaxQuality(_t),Vt=Kt.quality;return Et!==void 0&&(Vt>Ls.Z.NO_CHANGE?Vt:Xe)<Et&&(Vt=Et),Vt>gt&&(Vt=gt),ge[qe][Ce].push({oldValue:Xe,newValue:Vt}),Vt>Ls.Z.NO_CHANGE&&Vt!==Xe&&(L[qe][Ce].state===_.Z.ALLOW_LOAD||Vt<Xe)&&(lt(Ce,Xe,Vt,gt,Kt.reason,qe),!0)}catch{return!1}},setElementSize:Ut,setWindowResizeEventCalled:function(Ce){J=Ce},registerStreamType:function(Ce,qe){var ht=qe.getStreamInfo().id;w[ht]||(w[ht]={}),ge[ht]||(ge[ht]={}),L[ht]||(L[ht]={}),ge[ht][Ce]=Dy(fe).create(),w[ht][Ce]=qe,L[ht][Ce]={},L[ht][Ce].state=_.Z.ALLOW_LOAD,function(Xe){var _t=D.get().streaming.abr.ABRStrategy;_t===o.Z.ABR_STRATEGY_L2A?(T[Xe]=!1,B[Xe]=!1,j[Xe]=!0):_t===o.Z.ABR_STRATEGY_LoLP?(T[Xe]=!1,B[Xe]=!0,j[Xe]=!1):_t===o.Z.ABR_STRATEGY_BOLA?(T[Xe]=!0,B[Xe]=!1,j[Xe]=!1):_t===o.Z.ABR_STRATEGY_THROUGHPUT?(T[Xe]=!1,B[Xe]=!1,j[Xe]=!1):_t===o.Z.ABR_STRATEGY_DYNAMIC&&(T[Xe]=!(!T||!T[Xe])&&T[Xe],B[Xe]=!1,j[Xe]=!1)}(Ce),Ce===o.Z.VIDEO&&Ut()},unRegisterStreamType:function(Ce,qe){try{w[Ce]&&w[Ce][qe]&&delete w[Ce][qe],ge[Ce]&&ge[Ce][qe]&&delete ge[Ce][qe],L[Ce]&&L[Ce][qe]&&delete L[Ce][qe]}catch{}},setConfig:function(Ce){Ce&&(Ce.streamController&&(I=Ce.streamController),Ce.domStorage&&(_e=Ce.domStorage),Ce.mediaPlayerModel&&(ve=Ce.mediaPlayerModel),Ce.customParametersModel&&(ce=Ce.customParametersModel),Ce.cmsdModel&&(me=Ce.cmsdModel),Ce.dashMetrics&&(G=Ce.dashMetrics),Ce.adapter&&(W=Ce.adapter),Ce.videoModel&&(K=Ce.videoModel),Ce.settings&&(D=Ce.settings))},reset:function(){se(),pe.off(f.Z.LOADING_PROGRESS,V,g),pe.off(r.Z.QUALITY_CHANGE_RENDERED,le,g),pe.off(r.Z.METRIC_ADDED,Se,g),h&&h.reset()}},c=ie.getLogger(g),se(),g}Ru.__dashjs_factory_name="AbrController";var Nu=R.Z.getSingletonFactory(Ru);Nu.QUALITY_DEFAULT=0,R.Z.updateSingletonFactory(Ru.__dashjs_factory_name,Nu);var Py=Nu,Ly=new Map([[o.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[o.Z.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[o.Z.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[o.Z.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function xd(){var g,c,h,I,P,O,w,L,z=this.context,J=(0,E.Z)(z).getInstance(),Q=[];function k(){h&&(h.playbackRate=1,h.removeEventListener("canplay",k))}function W(){return Q.length>0}function K(){if(h&&W()&&h.playbackRate===0){var ee=document.createEvent("Event");ee.initEvent("waiting",!0,!1),h.dispatchEvent(ee)}}function ve(ee,ye){h&&h.addEventListener(ee,ye)}function ce(ee,ye){h&&h.removeEventListener(ee,ye)}function me(){return h?h.readyState:NaN}function _e(){return h?h.buffered:null}function X(ee,ye,T,j,B){if(h){for(var G=0;G<h.textTracks.length;G++)if(h.textTracks[G].kind===ee&&(!ye||h.textTracks[G].label==ye)&&h.textTracks[G].language===T&&h.textTracks[G].isTTML===j&&h.textTracks[G].isEmbedded===B)return h.textTracks[G]}return null}function ge(ee,ye){return ee===o.Z.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||me()>=ee?(ye(),null):function(T,j){var B=function G(){ce(T,G),j(T)};return ve(T,B),{func:B,event:T}}(Ly.get(ee),ye)}return g={addEventListener:ve,addTextTrack:function(ee,ye,T,j,B){if(!h)return null;var G=X(ee,ye,T,j,B);return G||((G=h.addTextTrack(ee,ye,T)).isEmbedded=B,G.isTTML=j),G},appendChild:function(ee){h&&(h.appendChild(ee),ee.isTTML!==void 0&&(h.textTracks[h.textTracks.length-1].isTTML=ee.isTTML,h.textTracks[h.textTracks.length-1].isEmbedded=ee.isEmbedded))},getBufferRange:_e,getClientHeight:function(){return h?h.clientHeight:NaN},getClientWidth:function(){return h?h.clientWidth:NaN},getElement:function(){return h},getEnded:function(){return h?h.ended:null},getPlaybackQuality:function(){if(!h)return null;var ee="webkitDroppedFrameCount"in h&&"webkitDecodedFrameCount"in h,ye=null;return"getVideoPlaybackQuality"in h?ye=h.getVideoPlaybackQuality():ee&&(ye={droppedVideoFrames:h.webkitDroppedFrameCount,totalVideoFrames:h.webkitDroppedFrameCount+h.webkitDecodedFrameCount,creationTime:new Date}),ye},getPlaybackRate:function(){return h?h.playbackRate:null},getPlayedRanges:function(){return h?h.played:null},getReadyState:me,getSource:function(){return h?h.src:null},getTTMLRenderingDiv:function(){return O},getTextTrack:X,getTextTracks:function(){return h?h.textTracks:[]},getTime:function(){return h?isNaN(I)?h.currentTime:I:null},getVideoHeight:function(){return h?h.videoHeight:NaN},getVideoRelativeOffsetLeft:function(){if(h){var ee=h.parentNode.host||h.parentNode;return ee?h.getBoundingClientRect().left-ee.getBoundingClientRect().left:NaN}return NaN},getVideoRelativeOffsetTop:function(){if(h){var ee=h.parentNode.host||h.parentNode;return ee?h.getBoundingClientRect().top-ee.getBoundingClientRect().top:NaN}return NaN},getVideoWidth:function(){return h?h.videoWidth:NaN},getVttRenderingDiv:function(){return w},initialize:function(){J.on(f.Z.PLAYBACK_PLAYING,K,this)},isPaused:function(){return h?h.paused:null},isSeeking:function(){return h?h.seeking||!isNaN(I):null},isStalled:W,pause:function(){h&&(h.pause(),h.autoplay=!1)},play:function(){if(h){h.autoplay=!0;var ee=h.play();ee&&ee.catch&&typeof Promise<"u"&&ee.catch(function(ye){ye.name==="NotAllowedError"&&J.trigger(f.Z.PLAYBACK_NOT_ALLOWED),c.warn("Caught pending play exception - continuing (".concat(ye,")"))})}},removeChild:function(ee){h&&h.removeChild(ee)},removeEventListener:ce,reset:function(){clearTimeout(L),J.off(f.Z.PLAYBACK_PLAYING,K,this)},setCurrentTime:function(ee,ye){h&&(P&&P.func&&P.event&&ce(P.event,P.func),I=ee,P=ge(o.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(h)if(h.currentTime!==I)try{I=ye?function(T){var j=_e(),B=T,G=9999999999;if(j)for(var D=0;D<j.length;D++){var fe=j.start(D),ie=j.end(D),pe=Math.abs(fe-T),se=Math.abs(ie-T);if(T>=fe&&T<=ie)return T;pe<G&&(G=pe,B=fe),se<G&&(G=se,B=ie)}return B}(I):I,isNaN(I)||(h.currentTime=I),I=NaN}catch(T){h.readyState===0&&T.code===T.INVALID_STATE_ERR&&(L=setTimeout(function(){h.currentTime=I,I=NaN},400))}else I=NaN}))},setElement:function(ee){if(!(ee==null||ee&&/^(VIDEO|AUDIO)$/i.test(ee.nodeName)))throw"element is not video or audio DOM type!";(h=ee)&&(h.preload="auto")},setPlaybackRate:function(ee){var ye=arguments.length>1&&arguments[1]!==void 0&&arguments[1];h&&(!ye&&h.readyState<=2&&ee>0?h.addEventListener("canplay",k):h.playbackRate=ee)},setSource:function(ee){h&&(ee?h.src=ee:(h.removeAttribute("src"),h.load()))},setStallState:function(ee,ye){(function(T,j){j?function(B){B!==null&&h&&!h.seeking&&Q.indexOf(B)===-1&&Q.push(B)}(T):function(B){var G=Q.indexOf(B);B!==null&&G!==-1&&Q.splice(G,1)}(T)})(ee,ye)},setTTMLRenderingDiv:function(ee){(O=ee).style.position="absolute",O.style.display="flex",O.style.overflow="hidden",O.style.pointerEvents="none",O.style.top=0,O.style.left=0},setVttRenderingDiv:function(ee){w=ee},waitForReadyState:ge,setDisableRemotePlayback:function(ee){h&&(h.disableRemotePlayback=ee)}},c=(0,y.Z)(z).getInstance().getLogger(g),I=NaN,g}xd.__dashjs_factory_name="VideoModel";var xy=R.Z.getSingletonFactory(xd),ky=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],kd="dashjs_?_bitrate",Fd="dashjs_?_settings",Bo="localStorage",Ud="lastBitrate",Zd="lastMediaSettings";function Bd(g){g=g||{};var c,h,I,P=this.context,O=g.settings;function w(Q){if(I!==void 0)return I;var k;I=!1;try{typeof window<"u"&&(k=window[Q])}catch(W){return h.warn("DOMStorage access denied: "+W.message),I}if(!k||Q!==Bo)return I;try{k.setItem("1","1"),k.removeItem("1"),I=!0}catch(W){h.warn("DOMStorage is supported, but cannot be used: "+W.message)}return I}function L(){var Q=6e5;return Math.round(new Date().getTime()/Q)*Q}function z(Q,k){return w(Q)&&O.get().streaming[k+"CachingInfo"].enabled}function J(){if(!O)throw new Error(o.Z.MISSING_CONFIG_ERROR)}return c={getSavedBitrateSettings:function(Q){if(J(),!O.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var k=NaN;if(z(Bo,Ud)){var W=kd.replace(/\?/,Q);try{var K=JSON.parse(localStorage.getItem(W))||{},ve=new Date().getTime()-parseInt(K.timestamp,10)>=O.get().streaming.lastBitrateCachingInfo.ttl||!1,ce=parseFloat(K.bitrate);isNaN(ce)||ve?ve&&localStorage.removeItem(W):(k=ce,h.debug("Last saved bitrate for "+Q+" was "+ce))}catch{return null}}return k},setSavedBitrateSettings:function(Q,k){if(z(Bo,Ud)&&k){var W=kd.replace(/\?/,Q);try{localStorage.setItem(W,JSON.stringify({bitrate:k.toFixed(3),timestamp:L()}))}catch(K){h.error(K.message)}}},getSavedMediaSettings:function(Q){if(J(),!O.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var k=null;if(z(Bo,Zd)){var W=Fd.replace(/\?/,Q);try{var K=JSON.parse(localStorage.getItem(W))||{},ve=new Date().getTime()-parseInt(K.timestamp,10)>=O.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;k=K.settings,ve&&(localStorage.removeItem(W),k=null)}catch{return null}}return k},setSavedMediaSettings:function(Q,k){if(z(Bo,Zd)){var W=Fd.replace(/\?/,Q);try{localStorage.setItem(W,JSON.stringify({settings:k,timestamp:L()}))}catch(K){h.error(K.message)}}}},h=(0,y.Z)(P).getInstance().getLogger(c),w(Bo)&&ky.forEach(function(Q){var k=localStorage.getItem(Q.oldKey);if(k){localStorage.removeItem(Q.oldKey);try{localStorage.setItem(Q.newKey,k)}catch(W){h.error(W.message)}}}),c}Bd.__dashjs_factory_name="DOMStorage";var Fy=R.Z.getSingletonFactory(Bd),Uy=S(2032),Gd=S(2011);function jd(){var g,c,h,I,P,O,w,L,z,J,Q,k,W,K=this.context;function ve(X,ge,ee,ye){var T=null,j=X?W.resolve(X.path):null,B=ye||{init:!0,url:j?j.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:ge};c.debug("Start searching for initialization.");var G=_e(B);L.load({request:G,success:function(D){if(B.bytesLoaded=B.range.end,!(T=I.findInitRange(D)))return B.range.end=B.bytesLoaded+B.bytesToLoad,ve(X,ge,ee,B);X.range=T,ee(X)},error:function(){ee(X)}}),c.debug("Perform init search: "+B.url)}function ce(X,ge,ee,ye,T,j){if(ee&&(ee.start===void 0||ee.end===void 0)){var B=ee?ee.toString().split("-"):null;ee=B?{start:parseFloat(B[0]),end:parseFloat(B[1])}:null}T=T||me;var G=null,D=null,fe=!!ee,ie=X?W.resolve(X.path):null,pe={init:!1,url:ie?ie.url:void 0,range:fe?ee:{start:0,end:1500},searching:!fe,bytesLoaded:j?j.bytesLoaded:0,bytesToLoad:1500,mediaType:ge},se=_e(pe);L.load({request:se,success:function(V){var le=pe.bytesToLoad,Se=V.byteLength;if(pe.bytesLoaded=pe.range.end-pe.range.start,G=I.parse(V),(D=G.getBox("sidx"))&&D.isComplete){var Ue,Oe,Ze=D.references;if(Ze!=null&&Ze.length>0&&(Ue=Ze[0].reference_type===1),Ue){var xe,lt,ut,rt;c.debug("Initiate multiple SIDX load."),pe.range.end=pe.range.start+D.size;var it=[],Ut=0,Ce=(D.offset||pe.range.start)+D.size,qe=function(Xe){Xe?(it=it.concat(Xe),++Ut>=lt&&(it.sort(function(_t,Et){return _t.startTime-Et.startTime<0?-1:0}),T(it,X,ye))):T(null,X,ye)};for(xe=0,lt=Ze.length;xe<lt;xe++)ut=Ce,rt=Ce+Ze[xe].referenced_size-1,Ce+=Ze[xe].referenced_size,ce(X,ge,{start:ut,end:rt},ye,qe,pe)}else c.debug("Parsing segments from SIDX. representation "+ge+" - id: "+X.id+" for range : "+pe.range.start+" - "+pe.range.end),Oe=function(Xe,_t){for(var Et,gt,Kt,Vt,gn=Xe.references,mn=gn.length,Ke=Xe.timescale,yt=Xe.earliest_presentation_time,st=_t.range.start+Xe.offset+Xe.first_offset+Xe.size,bt=[],Pt=0;Pt<mn;Pt++)Kt=gn[Pt].subsegment_duration,Vt=gn[Pt].referenced_size,(Et=new Gd.Z).duration=Kt,Et.startTime=yt,Et.timescale=Ke,gt=st+Vt-1,Et.mediaRange=st+"-"+gt,bt.push(Et),yt+=Kt,st+=Vt;return bt}(D,pe),T(Oe,X,ye)}else{if(D)pe.range.start=D.offset||pe.range.start,pe.range.end=pe.range.start+(D.size||le);else{if(Se<pe.bytesLoaded)return void T(null,X,ye);var ht=G.getLastBox();ht&&ht.size?(pe.range.start=ht.offset+ht.size,pe.range.end=pe.range.start+le):pe.range.end+=le}ce(X,ge,pe.range,ye,null,pe)}},error:function(){T(null,X,ye)}}),c.debug("Perform SIDX load for type ".concat(ge," : ").concat(pe.url," with range ").concat(pe.range.start," - ").concat(pe.range.end))}function me(X,ge,ee){ee({segments:X,representation:ge,error:X?void 0:new de.Z(z.SEGMENT_BASE_LOADER_ERROR_CODE,z.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function _e(X){if(X.url){var ge=new N.Z;return ge.setInfo(X),ge}}return g={setConfig:function(X){X.baseURLController&&(W=X.baseURLController),X.dashMetrics&&(O=X.dashMetrics),X.mediaPlayerModel&&(w=X.mediaPlayerModel),X.errHandler&&(h=X.errHandler),X.boxParser&&(I=X.boxParser),X.debug&&(c=X.debug.getLogger(g)),X.requestModifier&&(P=X.requestModifier),X.errors&&(z=X.errors),X.urlUtils&&(k=X.urlUtils),X.constants&&(J=X.constants),X.dashConstants&&(Q=X.dashConstants)},initialize:function(){L=wr(K).create({errHandler:h,dashMetrics:O,mediaPlayerModel:w,requestModifier:P,boxParser:I,errors:z,urlUtils:k,constants:J,dashConstants:Q})},loadInitialization:function(X,ge){return new Promise(function(ee){ve(X,ge,ee)})},loadSegments:function(X,ge,ee){return new Promise(function(ye){ce(X,ge,ee,ye)})},reset:function(){L&&(L.abort(),L=null)}}}jd.__dashjs_factory_name="SegmentBaseLoader";var Zy=R.Z.getSingletonFactory(jd);function qd(g){var c;g=g||{};var h=new DataView(g.data),I=0;function P(w,L){var z=!0,J=0;if(L===void 0&&(L=!1),w.tag>16777215?(h.getUint32(I)!==w.tag&&(z=!1),J=4):w.tag>65535?(256*h.getUint16(I)+h.getUint8(I+2)!==w.tag&&(z=!1),J=3):w.tag>255?(h.getUint16(I)!==w.tag&&(z=!1),J=2):(h.getUint8(I)!==w.tag&&(z=!1),J=1),!z&&w.required&&!L)throw new Error("required tag not found");return z&&(I+=J),z}function O(w){var L=1,z=128,J=-1,Q=0,k=h.getUint8(I),W=0;for(W=0;W<8;W+=1){if((k&z)===z){Q=w===void 0?k&~z:k,J=W;break}z>>=1}for(W=0;W<J;W+=1,L+=1)Q=Q<<8|255&h.getUint8(I+L);return I+=L,Q}return c={getPos:function(){return I},setPos:function(w){I=w},consumeTag:P,consumeTagAndSize:function(w,L){var z=P(w,L);return z&&O(),z},parseTag:function(w){var L;return P(w),L=O(),c[w.parse](L)},skipOverElement:function(w,L){var z,J=P(w,L);return J&&(z=O(),I+=z),J},getMatroskaCodedNum:O,getMatroskaFloat:function(w){var L;switch(w){case 4:L=h.getFloat32(I),I+=4;break;case 8:L=h.getFloat64(I),I+=8}return L},getMatroskaUint:function(w){if(w>4)return function(J){for(var Q=Math.floor(Number.MAX_SAFE_INTEGER/256),k=0,W=0;W<J;W+=1){if(k>Q)throw new Error("Value exceeds safe integer limit");k*=256;var K=h.getUint8(I+W);if(k>Number.MAX_SAFE_INTEGER-K)throw new Error("Value exceeds safe integer limit");k+=K}return I+=J,k}(w);for(var L=0,z=0;z<w;z+=1)L<<=8,L|=255&h.getUint8(I+z);return I+=w,L>>>0},moreData:function(){return I<h.byteLength}}}qd.__dashjs_factory_name="EBMLParser";var Yd=R.Z.getClassFactory(qd);function zd(){var g,c,h,I,P,O,w,L,z,J,Q=this.context;function k(W){var K=new N.Z;return K.setInfo(W),K}return g={setConfig:function(W){if(!(W.baseURLController&&W.dashMetrics&&W.mediaPlayerModel&&W.errHandler))throw new Error(o.Z.MISSING_CONFIG_ERROR);J=W.baseURLController,O=W.dashMetrics,w=W.mediaPlayerModel,I=W.errHandler,z=W.errors,c=W.debug.getLogger(g),P=W.requestModifier},initialize:function(){L=wr(Q).create({errHandler:I,dashMetrics:O,mediaPlayerModel:w,requestModifier:P,errors:z})},loadInitialization:function(W,K){return new Promise(function(ve){var ce=null,me=W?J.resolve(W.path):null,_e=W?W.range.split("-"):null,X={range:{start:_e?parseFloat(_e[0]):null,end:_e?parseFloat(_e[1]):null},request:ce,url:me?me.url:void 0,init:!0,mediaType:K};c.info("Start loading initialization."),ce=k(X),L.load({request:ce,success:function(){ve(W)},error:function(){ve(W)}}),c.debug("Perform init load: "+X.url)})},loadSegments:function(W,K,ve){return new Promise(function(ce){var me=null,_e=W?J.resolve(W.path):null,X=_e?_e.url:void 0;me=k({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:me,url:X,init:!1,mediaType:K}),c.debug("Parsing ebml header"),L.load({request:me,success:function(ge){(function(ee,ye,T,j){if(ee&&ee.byteLength!==0){var B,G,D,fe,ie=Yd(Q).create({data:ee}),pe=T?T.split("-"):null,se=null,V={url:ye,range:{start:pe?parseFloat(pe[0]):null,end:pe?parseFloat(pe[1]):null},request:se};for(c.debug("Parse EBML header: "+V.url),ie.skipOverElement(h.EBML),ie.consumeTag(h.Segment),D=ie.getMatroskaCodedNum(),D+=ie.getPos(),fe=ie.getPos();ie.moreData()&&!ie.consumeTagAndSize(h.Segment.Info,!0);)if(!(ie.skipOverElement(h.Segment.SeekHead,!0)||ie.skipOverElement(h.Segment.Tracks,!0)||ie.skipOverElement(h.Segment.Cues,!0)||ie.skipOverElement(h.Void,!0)))throw new Error("no valid top level element found");for(;B===void 0;){var le=ie.getMatroskaCodedNum(!0),Se=ie.getMatroskaCodedNum();le===h.Segment.Info.Duration.tag?B=ie[h.Segment.Info.Duration.parse](Se):ie.setPos(ie.getPos()+Se)}se=k(V),L.load({request:se,success:function(Ue){G=function(Oe,Ze,xe,lt){var ut,rt,it,Ut,Ce,qe,ht,Xe;for(it=[],Ce=0,qe=(rt=function(_t){var Et,gt,Kt=[],Vt=Yd(Q).create({data:_t});for(Vt.consumeTagAndSize(h.Segment.Cues);Vt.moreData()&&Vt.consumeTagAndSize(h.Segment.Cues.CuePoint,!0);){for((Et={}).CueTime=Vt.parseTag(h.Segment.Cues.CuePoint.CueTime),Et.CueTracks=[];Vt.moreData()&&Vt.consumeTag(h.Segment.Cues.CuePoint.CueTrackPositions,!0);){var gn=Vt.getMatroskaCodedNum(),mn=Vt.getPos();if((gt={}).Track=Vt.parseTag(h.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),gt.Track===0)throw new Error("Cue track cannot be 0");gt.ClusterPosition=Vt.parseTag(h.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),Et.CueTracks.push(gt),Vt.setPos(mn+gn)}if(Et.CueTracks.length===0)throw new Error("Mandatory cuetrack not found");Kt.push(Et)}if(Kt.length===0)throw new Error("mandatory cuepoint not found");return Kt}(Oe)).length;Ce<qe;Ce+=1)Ut=new Gd.Z,ut=Ce<rt.length-1?rt[Ce+1].CueTime-rt[Ce].CueTime:lt-rt[Ce].CueTime,Ut.duration=ut,Ut.startTime=rt[Ce].CueTime,Ut.timescale=1e3,ht=rt[Ce].CueTracks[0].ClusterPosition+Ze,Xe=Ce<rt.length-1?rt[Ce+1].CueTracks[0].ClusterPosition+Ze-1:xe-1,Ut.mediaRange=ht+"-"+Xe,it.push(Ut);return c.debug("Parsed cues: "+it.length+" cues."),it}(Ue,fe,D,B),j(G)},error:function(){c.error("Download Error: Cues "+V.url),j(null)}}),c.debug("Perform cues load: "+V.url+" bytes="+V.range.start+"-"+V.range.end)}else j(null)})(ge,X,ve,function(ee){ce({segments:ee,representation:W,error:ee?void 0:new de.Z(z.SEGMENT_BASE_LOADER_ERROR_CODE,z.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){ce({representation:W,error:new de.Z(z.SEGMENT_BASE_LOADER_ERROR_CODE,z.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function(){L&&(L.abort(),L=null)}},h={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},g}zd.__dashjs_factory_name="WebmSegmentBaseLoader";var By=R.Z.getSingletonFactory(zd);function Hd(g){g=g||{};var c,h,I,P=this.context,O=g.eventBus,w=g.events,L=g.dashMetrics,z=g.mediaPlayerModel,J=g.errHandler,Q=g.baseURLController,k=g.debug,W=g.boxParser,K=g.requestModifier,ve=g.errors;function ce(me){return(me?me.split("/")[1]:"").toLowerCase()==="webm"}return c={initialize:function(){h.initialize(),I.initialize()},getSegmentBaseInitSegment:function(me){return ce(me.representation.mimeType)?I.loadInitialization(me.representation,me.mediaType):h.loadInitialization(me.representation,me.mediaType)},getSegmentList:function(me){return ce(me.mimeType)?I.loadSegments(me.representation,me.mediaType,me.representation?me.representation.indexRange:null):h.loadSegments(me.representation,me.mediaType,me.representation?me.representation.indexRange:null)},reset:function(){h.reset(),I.reset()}},h=Zy(P).getInstance(),I=By(P).getInstance(),h.setConfig({baseURLController:Q,dashMetrics:L,mediaPlayerModel:z,errHandler:J,eventBus:O,events:w,errors:ve,debug:k,boxParser:W,requestModifier:K}),I.setConfig({baseURLController:Q,dashMetrics:L,mediaPlayerModel:z,errHandler:J,eventBus:O,events:w,errors:ve,debug:k,requestModifier:K}),c}Hd.__dashjs_factory_name="SegmentBaseController";var Gy=R.Z.getSingletonFactory(Hd),Vd=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},Cu=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.viewpointsWithSchemeIdUri=null,this.accessibility=null,this.accessibilitiesWithSchemeIdUri=null,this.audioChannelConfiguration=null,this.audioChannelConfigurationsWithSchemeIdUri=null,this.roles=null,this.rolesWithSchemeIdUri=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={},this.supplementalPropertiesAsArray=[],this.essentialProperties={},this.essentialPropertiesAsArray=[],this.segmentAlignment=!1,this.subSegmentAlignment=!1},Kd=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0},jy=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null,this.serviceDescriptions=[],this.protocol=null};function qy(g,c){for(var h=0;h<c.length;h++){var I=c[h];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(g,I.key,I)}}var Yy=function(){function g(I){var P=this;(function(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")})(this,g),this.valid=I[0]=="/",this.path=I.split("/").filter(function(O){return O.length!==0}).map(function(O){var w={name:O},L=O.indexOf("[");if(L!=-1){w.name=O.substring(0,L);var z=O.substring(L+1,O.length-1);P.valid=P.valid&&z.indexOf("[")==-1;var J=z.indexOf("=");J!=-1?(w.attribute={name:z.substring(1,J),value:z.substring(J+1)},["'",'"'].indexOf(w.attribute.value[0])!=-1&&(w.attribute.value=w.attribute.value.substring(1,w.attribute.value.length-1))):w.position=parseInt(z,10)-1}return w})}var c,h;return c=g,(h=[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"findsTextReplace",value:function(){return this.path[this.path.length-1].name==="text()"}},{key:"getMpdTarget",value:function(I,P){for(var O=null,w=I,L=1,z="MPD";L<this.path.length&&w!==null;){O=w;var J=this.path[L];if(z=J.name,L!==this.path.length-1||!z.startsWith("@")&&z!=="text()"){var Q=O[z+"_asArray"]||[];Q.length===0&&O[z]&&Q.push(O[z]),J.position?w=Q[J.position]||null:J.attribute?function(){var k=J.attribute;w=Q.filter(function(W){return W[k.name]==k.value})[0]||null}():w=Q[0]||null}L++}return w===null?null:z.startsWith("@")?{name:z.substring(1),leaf:w,target:w}:z==="text()"?{name:"__text",leaf:w,target:w}:{name:z,leaf:w,target:P?O:w}}}])&&qy(c.prototype,h),g}();function zy(g,c){for(var h=0;h<c.length;h++){var I=c[h];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(g,I.key,I)}}var Hy=function(){function g(I,P,O){(function(w,L){if(!(w instanceof L))throw new TypeError("Cannot call a class as a function")})(this,g),this.action=I,this.xpath=P,this.value=O,this.position=null}var c,h;return c=g,(h=[{key:"getMpdTarget",value:function(I){var P=this.action==="remove"||this.action==="replace"||this.position==="before"||this.position==="after";return this.xpath.getMpdTarget(I,P)}}])&&zy(c.prototype,h),g}();function Wd(){var g,c,h=this.context;return g={getIsPatch:function(I){return I&&I.hasOwnProperty(i.Z.ORIGINAL_MPD_ID)||!1},getPublishTime:function(I){return I&&I.hasOwnProperty(i.Z.PUBLISH_TIME)?new Date(I[i.Z.PUBLISH_TIME]):null},getOriginalPublishTime:function(I){return I&&I.hasOwnProperty(i.Z.ORIGINAL_PUBLISH_TIME)?new Date(I[i.Z.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function(I){return I&&I[i.Z.ORIGINAL_MPD_ID]||null},getPatchOperations:function(I){return I?(I.__children||[]).map(function(P){var O=Object.keys(P)[0];if(O!=="add"&&O!=="remove"&&O!=="replace")return c.warn("Ignoring node of invalid action: ".concat(O)),null;var w=P[O],L=w.sel;if(O==="add"&&w.type){if(!w.type.startsWith("@"))return c.warn("Ignoring add action for prefixed namespace declaration: ".concat(w.type,"=").concat(w.__text)),null;L="".concat(L,"/").concat(w.type)}var z=new Yy(L);if(!z.isValid())return c.warn("Ignoring action with invalid selector: ".concat(O," - ").concat(L)),null;var J=null;z.findsAttribute()||z.findsTextReplace()?J=w.__text||"":O!=="remove"&&(J=w.__children.reduce(function(k,W){var K=Object.keys(W)[0];return K!=="#text"&&(k[K]=k[K]||[],k[K].push(W[K])),k},{}));var Q=new Hy(O,z,J);return O==="add"&&(Q.position=w.pos),Q}).filter(function(P){return!!P}):[]}},c=(0,y.Z)(h).getInstance().getLogger(g),g}Wd.__dashjs_factory_name="PatchManifestModel";var Vy=R.Z.getSingletonFactory(Wd);function Qd(){var g,c,h,I,P,O,w,L=this.context;function z(B,G,D){var fe,ie=c.getAdaptationsForType(I[0].mpd.manifest,B,G);if(!ie||ie.length===0)return null;if(ie.length>1&&D){var pe=k(D,G);if(P[D.id]&&P[D.id][G]){for(var se=0,V=ie.length;se<V;se++)if(J(P[D.id][G],pe[se]))return ie[se]}for(var le=0,Se=ie.length;le<Se;le++)if(fe=ie[le],c.getRolesForAdaptation(fe).filter(function(Ue){return Ue.value===i.Z.MAIN})[0])return ie[le]}return ie[0]}function J(B,G){if(!B||!G)return!1;var D=B.id===G.id,fe=B.codec===G.codec,ie=B.viewpoint===G.viewpoint,pe=JSON.stringify(B.viewpointsWithSchemeIdUri)===JSON.stringify(G.viewpointsWithSchemeIdUri),se=B.lang===G.lang,V=B.roles.toString()===G.roles.toString(),le=JSON.stringify(B.rolesWithSchemeIdUri)===JSON.stringify(G.rolesWithSchemeIdUri),Se=B.accessibility.toString()===G.accessibility.toString(),Ue=JSON.stringify(B.accessibilitiesWithSchemeIdUri)===JSON.stringify(G.accessibilitiesWithSchemeIdUri),Oe=B.audioChannelConfiguration.toString()===G.audioChannelConfiguration.toString(),Ze=JSON.stringify(B.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(G.audioChannelConfigurationsWithSchemeIdUri);return D&&fe&&ie&&pe&&se&&V&&le&&Se&&Ue&&Oe&&Ze}function Q(B,G,D,fe,ie,pe){var se,V,le,Se,Ue,Oe,Ze=[];if(!fe||fe.length===0)return[];var xe=c.getAdaptationsForPeriod(G);for(Se=0,Oe=fe.length;Se<Oe;Se++)if(se=fe[Se],V=X(xe[le=c.getIndexForAdaptation(se,B,D.index)]),pe){var lt=V.accessibility.length;for(Ue=0;Ue<lt;Ue++)if(V){var ut=V.accessibility[Ue];if(ut.indexOf("cea-608:")===0){var rt=ut.substring(8).split(";");if(rt[0].substring(0,2)==="CC")for(Ue=0;Ue<rt.length;Ue++)V||(V=X.call(this,xe[le])),ge(V,rt[Ue].substring(0,3),rt[Ue].substring(4)),Ze.push(V),V=null;else for(Ue=0;Ue<rt.length;Ue++)V||(V=X.call(this,xe[le])),ge(V,"CC"+(Ue+1),rt[Ue]),Ze.push(V),V=null}else ut.indexOf("cea-608")===0&&(ge(V,O.CC1,"eng"),Ze.push(V),V=null)}}else ie===O.IMAGE?(V.type=O.IMAGE,Ze.push(V),V=null):V&&Ze.push(V);return Ze}function k(B,G,D){var fe=I,ie=D,pe=[];if(ie)ye(),fe=W(ie);else{if(!(I.length>0))return pe;ie=I[0].mpd.manifest}var se=_e(B,fe),V=c.getAdaptationsForType(ie,B?B.index:null,G);return pe=Q(ie,se,B,V,G),G===O.TEXT&&(V=c.getAdaptationsForType(ie,B?B.index:null,O.VIDEO),pe=pe.concat(Q(ie,se,B,V,G,!0))),pe}function W(B){var G=K(B);return c.getRegularPeriods(G)}function K(B){var G=ce(B);return c.getMpd(G)}function ve(){I=[],P={}}function ce(B){return B||(I.length>0?I[0].mpd.manifest:null)}function me(B){try{var G=_e(B.streamInfo,I),D=c.getAdaptationsForPeriod(G);return B&&B.streamInfo&&B.streamInfo.id!==void 0&&D?D[B.index]:null}catch{return null}}function _e(B,G){for(var D=G.length,fe=0;fe<D;fe++){var ie=G[fe];if(B&&B.id===ie.id)return ie}return null}function X(B){if(!B)return null;var G,D,fe,ie,pe,se=new Cu,V=B.period.mpd.manifest.Period_asArray[B.period.index].AdaptationSet_asArray[B.index];if(se.id=B.id,se.index=B.index,se.type=B.type,se.streamInfo=ee(B.period),se.representationCount=c.getRepresentationCount(V),se.labels=c.getLabelsForAdaptation(V),se.lang=c.getLanguageForAdaptation(V),se.segmentAlignment=c.getSegmentAlignment(V),se.subSegmentAlignment=c.getSubSegmentAlignment(V),G=c.getViewpointForAdaptation(V),se.viewpoint=G.length?G[0].value:void 0,se.viewpointsWithSchemeIdUri=G,pe=c.getAccessibilityForAdaptation(V),se.accessibility=pe.map(function(Ze){var xe=Ze.value,lt=xe;return Ze.schemeIdUri&&Ze.schemeIdUri.search("cea-608")>=0&&w!==void 0&&(lt=xe?"cea-608:"+xe:"cea-608",se.embeddedCaptions=!0),lt}),se.accessibilitiesWithSchemeIdUri=pe,D=c.getAudioChannelConfigurationForAdaptation(V),se.audioChannelConfiguration=D.map(function(Ze){return Ze.value}),se.audioChannelConfigurationsWithSchemeIdUri=D,se.audioChannelConfiguration.length===0&&Array.isArray(V.Representation_asArray)&&V.Representation_asArray.length>0&&(fe=c.getAudioChannelConfigurationForRepresentation(V.Representation_asArray[0]),se.audioChannelConfiguration=fe.map(function(Ze){return Ze.value}),se.audioChannelConfigurationsWithSchemeIdUri=fe),ie=c.getRolesForAdaptation(V),se.roles=ie.map(function(Ze){return Ze.value}),se.rolesWithSchemeIdUri=ie,se.codec=c.getCodec(V),se.mimeType=c.getMimeType(V),se.contentProtection=c.getContentProtectionData(V),se.bitrateList=c.getBitrateListForAdaptation(V),se.selectionPriority=c.getSelectionPriority(V),se.contentProtection){var le=se.contentProtection.map(function(Ze){return c.getKID(Ze)}).filter(function(Ze){return Ze!==null});if(le.length){var Se=le[0];se.contentProtection.forEach(function(Ze){Ze.keyId=Se})}}if(se.isText=c.getIsText(V),se.supplementalProperties=c.getSupplementalPropertiesForAdaptation(V),(!se.supplementalProperties||Object.keys(se.supplementalProperties).length===0)&&Array.isArray(V.Representation_asArray)&&V.Representation_asArray.length>0){var Ue=V.Representation_asArray.map(function(Ze){return c.getSupplementalPropertiesForRepresentation(Ze)});Ue.every(function(Ze){return JSON.stringify(Ze)===JSON.stringify(Ue[0])})&&(se.supplementalProperties=Ue[0])}if(se.supplementalPropertiesAsArray=c.getSupplementalPropertiesAsArrayForAdaptation(V),(!se.supplementalPropertiesAsArray||se.supplementalPropertiesAsArray.length===0)&&Array.isArray(V.Representation_asArray)&&V.Representation_asArray.length>0){var Oe=V.Representation_asArray.map(function(Ze){return c.getSupplementalPropertiesAsArrayForRepresentation(Ze)});Oe.every(function(Ze){return JSON.stringify(Ze)===JSON.stringify(Oe[0])})&&(se.supplementalPropertiesAsArray=Oe[0])}return se.essentialProperties=c.getEssentialPropertiesForAdaptation(V),se.essentialPropertiesAsArray=c.getEssentialPropertiesAsArrayForAdaptation(V),se.isFragmented=c.getIsFragmented(V),se.isEmbedded=!1,se}function ge(B,G,D){B.id=G,B.index=100+parseInt(G.substring(2,3)),B.type=O.TEXT,B.codec="cea-608-in-SEI",B.isEmbedded=!0,B.isFragmented=!1;var fe=ws()(D);B.lang=fe||D,B.roles=["caption"],B.rolesWithSchemeIdUri=[{schemeIdUri:"urn:mpeg:dash:role:2011",value:"caption"}]}function ee(B){var G,D,fe=new Kd;return fe.id=B.id,fe.index=B.index,fe.start=B.start,fe.duration=B.duration,fe.manifestInfo=(G=B.mpd,(D=new jy).dvrWindowSize=G.timeShiftBufferDepth,D.loadedTime=G.manifest.loadedTime,D.availableFrom=G.availabilityStartTime,D.minBufferTime=G.manifest.minBufferTime,D.maxFragmentDuration=G.maxSegmentDuration,D.duration=c.getDuration(G.manifest),D.isDynamic=c.getIsDynamic(G.manifest),D.serviceDescriptions=c.getServiceDescriptions(G.manifest),D.protocol=G.manifest.protocol,D),fe.isLast=B.mpd.manifest.Period_asArray.length===1||Math.abs(fe.start+fe.duration-fe.manifestInfo.duration)<1,fe}function ye(){if(!O)throw new Error("setConfig function has to be called previously")}function T(B){return I.length>0?I[0].mpd.manifest.Period_asArray[B]:null}function j(B,G,D){var fe,ie,pe,se,V;if(B){for(fe=B.AdaptationSet_asArray,se=0;se<fe.length;se+=1)for(pe=fe[se].Representation_asArray,V=0;V<pe.length;V+=1)if(G===(ie=pe[V]).id)return D?V:ie}return null}return g={getBandwidthForRepresentation:function(B,G){var D;return(D=j(T(G),B))?D.bandwidth:null},getIndexForRepresentation:function(B,G){return function(D,fe){var ie=j(D,fe,!0);return ie!==null?ie:-1}(T(G),B)},getMaxIndexForBufferType:function(B,G){return function(D,fe){var ie,pe,se,V;if(!D||!fe)return-1;for(pe=D.AdaptationSet_asArray,V=0;V<pe.length;V+=1)if(se=(ie=pe[V]).Representation_asArray,c.getIsTypeOf(ie,fe))return se.length;return-1}(T(G),B)},convertRepresentationToRepresentationInfo:function(B){if(B){var G=new Vd,D=B.adaptation.period.mpd.manifest.Period_asArray[B.adaptation.period.index].AdaptationSet_asArray[B.adaptation.index],fe=c.getRepresentationFor(B.index,D);return G.id=B.id,G.quality=B.index,G.bandwidth=c.getBandwidth(fe),G.fragmentDuration=B.segmentDuration||(B.segments&&B.segments.length>0?B.segments[0].duration:NaN),G.MSETimeOffset=B.MSETimeOffset,G.mediaInfo=X(B.adaptation),G}return null},getStreamsInfo:function(B,G){var D=[],fe=I;if(B&&(ye(),fe=W(B)),fe.length>0){(!G||G>fe.length)&&(G=fe.length);for(var ie=0;ie<G;ie++)D.push(ee(fe[ie]))}return D},getMediaInfoForType:function(B,G){if(I.length===0||!B)return null;var D=_e(B,I);if(!D)return null;var fe=c.getAdaptationsForPeriod(D),ie=z(B.index,G,B);return ie?X(fe[c.getIndexForAdaptation(ie,I[0].mpd.manifest,B.index)]):null},getAllMediaInfoForType:k,getAdaptationForType:z,getRealAdaptation:function(B,G){var D,fe,ie=_e(B,I);return D=G?G.id:null,I.length>0&&ie&&(fe=D?c.getAdaptationForId(D,I[0].mpd.manifest,ie.index):c.getAdaptationForIndex(G?G.index:null,I[0].mpd.manifest,ie.index)),fe},getProducerReferenceTimes:function(B,G){var D,fe,ie=_e(B,I);return D=G?G.id:null,I.length>0&&ie&&(fe=D?c.getAdaptationForId(D,I[0].mpd.manifest,ie.index):c.getAdaptationForIndex(G?G.index:null,I[0].mpd.manifest,ie.index)),fe?c.getProducerReferenceTimesForAdaptation(fe):[]},getRealPeriodByIndex:function(B){return c.getRealPeriodForIndex(B,I[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function(B){try{return c.getEssentialPropertiesForRepresentation(B)}catch{return[]}},getVoRepresentations:function(B){var G=me(B);return c.getRepresentationsForAdaptation(G)},getEventsFor:function(B,G,D){var fe=[];if(I.length>0){var ie=I[0].mpd.manifest;if(B instanceof Kd){var pe=_e(B,I);fe=c.getEventsForPeriod(pe)}else if(B instanceof Cu){var se=_e(D,I);fe=c.getEventStreamForAdaptationSet(ie,me(B),se)}else if(B instanceof Vd){var V=_e(D,I);fe=c.getEventStreamForRepresentation(ie,G,V)}}return fe},getEvent:function(B,G,D,fe){try{if(!B||!G||isNaN(D)||!fe)return null;var ie=B.scheme_id_uri,pe=B.value;if(!G[ie+"/"+pe])return null;var se,V=new Er,le=B.timescale||1,Se=fe.adaptation.period.start,Ue=G[ie+"/"+pe],Oe=isNaN(fe.presentationTimeOffset)?isNaN(Ue.presentationTimeOffset)?0:Ue.presentationTimeOffset:fe.presentationTimeOffset,Ze=B.presentation_time_delta/le;se=B.version===0?Se+D-Oe+Ze:Se-Oe+Ze;var xe=B.event_duration/le,lt=B.id,ut=B.message_data;return V.eventStream=Ue,V.eventStream.value=pe,V.eventStream.timescale=le,V.duration=xe,V.id=lt,V.calculatedPresentationTime=se,V.messageData=ut,V.presentationTimeDelta=Ze,V}catch{return null}},getMpd:K,setConfig:function(B){B&&(B.constants&&(O=B.constants),B.cea608parser&&(w=B.cea608parser),B.errHandler&&c.setConfig({errHandler:B.errHandler}),B.BASE64&&c.setConfig({BASE64:B.BASE64}))},updatePeriods:function(B){if(!B)return null;ye(),I=W(B)},getIsTextTrack:function(B){return c.getIsText(B)},getUTCTimingSources:function(){var B=ce();return c.getUTCTimingSources(B)},getSuggestedPresentationDelay:function(){var B=I.length>0?I[0].mpd:null;return c.getSuggestedPresentationDelay(B)},getAvailabilityStartTime:function(B){var G=K(B);return c.getAvailabilityStartTime(G)},getIsTypeOf:function(B,G){return c.getIsTypeOf(B,G)},getIsDynamic:function(B){var G=ce(B);return c.getIsDynamic(G)},getDuration:function(B){var G=ce(B);return c.getDuration(G)},getRegularPeriods:W,getContentSteering:function(B){return c.getContentSteering(B)},getLocation:function(B){return c.getLocation(B)},getPatchLocation:function(B){var G=c.getPatchLocation(B),D=c.getPublishTime(B);return G&&G.length!==0&&D?G.filter(function(fe){return isNaN(fe.ttl)||D.getTime()+fe.ttl>new Date().getTime()}):[]},getManifestUpdatePeriod:function(B){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return c.getManifestUpdatePeriod(B,G)},getPublishTime:function(B){return c.getPublishTime(B)},getIsDVB:function(B){return c.hasProfile(B,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function(B){return h.getIsPatch(B)},getBaseURLsFromElement:function(B){return c.getBaseURLsFromElement(B)},getRepresentationSortFunction:function(){return c.getRepresentationSortFunction()},getCodec:function(B,G,D){return c.getCodec(B,G,D)},getPeriodById:function(B){if(!B||I.length===0)return null;var G=I.filter(function(D){return D.id===B});return G&&G.length>0?G[0]:null},setCurrentMediaInfo:function(B,G,D){P[B]=P[B]||{},P[B][G]=P[B][G]||{},P[B][G]=D},isPatchValid:function(B,G){var D=c.getId(B),fe=h.getMpdId(G),ie=c.getPublishTime(B),pe=h.getPublishTime(G),se=h.getOriginalPublishTime(G);return!!(D&&fe&&D==fe&&ie&&se&&ie.getTime()==se.getTime()&&pe&&ie.getTime()<pe.getTime())},applyPatchToManifest:function(B,G){h.getPatchOperations(G).forEach(function(D){var fe=D.getMpdTarget(B);if(fe!==null){var ie=fe.name,pe=fe.target,se=fe.leaf;if(D.xpath.findsAttribute()||ie==="__text")switch(D.action){case"add":case"replace":pe[ie]=D.value;break;case"remove":delete pe[ie]}else{var V=(pe[ie+"_asArray"]||[]).indexOf(se),le=D.position==="prepend"||D.position==="before";if((D.action==="remove"||D.action==="replace")&&(delete pe[ie],V!=-1)){var Se=pe[ie+"_asArray"];Se.splice(V,1),Se.length>1?pe[ie]=Se:Se.length==1?pe[ie]=Se[0]:delete pe[ie+"_asArray"]}D.action!=="add"&&D.action!=="replace"||Object.keys(D.value).forEach(function(Ue){var Oe=D.value[Ue],Ze=pe[Ue+"_asArray"]||[];if(Ze.length===0&&pe[Ue]&&Ze.push(pe[Ue]),Ze.length===0)Ze=Oe;else{var xe=Ze.length;xe=Ue==ie&&V!=-1?V+(le?0:1)+(D.action=="replace"?-1:0):le?0:Ze.length,Ze.splice.apply(Ze,[xe,0].concat(Oe))}pe[Ue+"_asArray"]=Ze,pe[Ue]=Ze.length==1?Ze[0]:Ze})}}})},areMediaInfosEqual:J,reset:ve},c=sn(L).getInstance(),h=Vy(L).getInstance(),ve(),g}Qd.__dashjs_factory_name="DashAdapter";var Ky=R.Z.getSingletonFactory(Qd);function Wy(g,c){for(var h=0;h<c.length;h++){var I=c[h];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(g,I.key,I)}}var Qy=function(){function g(){(function(I,P){if(!(I instanceof P))throw new TypeError("Cannot call a class as a function")})(this,g)}var c,h;return c=g,h=[{key:"round10",value:function(I,P){return function(O,w,L){return L===void 0||+L==0?Math[O](w):(L=+L,(w=+w)===null||isNaN(w)||typeof L!="number"||L%1!=0?NaN:(w=w.toString().split("e"),+((w=(w=Math[O](+(w[0]+"e"+(w[1]?+w[1]-L:-L)))).toString().split("e"))[0]+"e"+(w[1]?+w[1]+L:L))))}("round",I,P)}}],h&&Wy(c,h),g}(),Xy=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},$y=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.t=null,this.mt=null,this.to=null,this.lto=null},Jy=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.t=null,this.level=null},ev=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.target=null,this.state=_.Z.BUFFER_EMPTY},tv=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.time=null,this.range=null,this.manifestInfo=null},nv=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.time=null,this.droppedFrames=null};function Du(g,c){if(!(g instanceof c))throw new TypeError("Cannot call a class as a function")}var rv=function g(){Du(this,g),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},iv=function g(){Du(this,g),this.id=null,this.index=null,this.start=null,this.duration=null},ov=function g(){Du(this,g),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null},av=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},sv=function g(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.loadingRequests=[],this.executedRequests=[]};function Xd(g){var c,h,I=(g=g||{}).settings,P=this.context,O=(0,E.Z)(P).getInstance();function w(){O.trigger(f.Z.METRICS_CHANGED)}function L(K){O.trigger(f.Z.METRIC_CHANGED,{mediaType:K}),w()}function z(K,ve,ce){O.trigger(f.Z.METRIC_UPDATED,{mediaType:K,metric:ve,value:ce}),L(K)}function J(K,ve,ce){O.trigger(f.Z.METRIC_ADDED,{mediaType:K,metric:ve,value:ce}),L(K)}function Q(K,ve){var ce=null;return K&&(h.hasOwnProperty(K)?ce=h[K]:ve||(ce=new Xy,h[K]=ce)),ce}function k(K,ve,ce){var me=Q(K);me!==null&&(me[ve].push(ce),me[ve].length>I.get().streaming.metrics.maxListDepth&&me[ve].shift())}function W(K,ve,ce){k(K,ve,ce),J(K,ve,ce)}return c={clearCurrentMetricsForType:function(K){delete h[K],L(K)},clearAllCurrentMetrics:function(){h={},w()},getMetricsFor:Q,addHttpRequest:function K(ve,ce,me,_e,X,ge,ee,ye,T,j,B,G,D,fe,ie,pe,se){var V=new Me.w;ge!=null&&ge!==_e&&(K(ve,null,me,_e,X,null,null,ye,T,null,null,null,D,null,null,pe,se),V.actualurl=ge),V.tcpid=ce,V.type=me,V.url=_e,V.range=ye,V.trequest=T,V.tresponse=j,V.responsecode=G,V.cmsd=se,V._tfinish=B,V._stream=ve,V._mediaduration=D,V._quality=X,V._responseHeaders=fe,V._serviceLocation=ee,V._fileLoaderType=pe,ie?ie.forEach(function(le){(function(Se,Ue,Oe,Ze){var xe=new Me.O;xe.s=Ue,xe.d=Oe,xe.b=Ze,Se.trace.push(xe),Se.interval||(Se.interval=0),Se.interval+=Oe})(V,le.s,le.d,le.b)}):(delete V.interval,delete V.trace),W(ve,_.Z.HTTP_REQUEST,V)},addRepresentationSwitch:function(K,ve,ce,me,_e){var X=new $y;X.t=ve,X.mt=ce,X.to=me,_e?X.lto=_e:delete X.lto,W(K,_.Z.TRACK_SWITCH,X)},addBufferLevel:function(K,ve,ce){var me=new Jy;me.t=ve,me.level=ce,W(K,_.Z.BUFFER_LEVEL,me)},addBufferState:function(K,ve,ce){var me=new ev;me.target=ce,me.state=ve,W(K,_.Z.BUFFER_STATE,me)},addDVRInfo:function(K,ve,ce,me){var _e=new tv;_e.time=ve,_e.range=me,_e.manifestInfo=ce,W(K,_.Z.DVR_INFO,_e)},addDroppedFrames:function(K,ve){var ce=new nv,me=Q(K).DroppedFrames;ve&&(ce.time=ve.creationTime,ce.droppedFrames=ve.droppedVideoFrames,me.length>0&&me[me.length-1]==ce||W(K,_.Z.DROPPED_FRAMES,ce))},addSchedulingInfo:function(K,ve,ce,me,_e,X,ge,ee,ye){var T=new av;T.mediaType=K,T.t=ve,T.type=ce,T.startTime=me,T.availabilityStartTime=_e,T.duration=X,T.quality=ge,T.range=ee,T.state=ye,W(K,_.Z.SCHEDULING_INFO,T)},addRequestsQueue:function(K,ve,ce){var me=new sv;me.loadingRequests=ve,me.executedRequests=ce,Q(K).RequestsQueue=me,J(K,_.Z.REQUESTS_QUEUE,me)},addManifestUpdate:function(K,ve,ce,me,_e,X,ge,ee,ye,T){var j=new rv;j.mediaType=K,j.type=ve,j.requestTime=ce,j.fetchTime=me,j.availabilityStartTime=_e,j.presentationStartTime=X,j.clientTimeOffset=ge,j.currentTime=ee,j.buffered=ye,j.latency=T,k(o.Z.STREAM,_.Z.MANIFEST_UPDATE,j),J(K,_.Z.MANIFEST_UPDATE,j)},updateManifestUpdateInfo:function(K,ve){if(K){for(var ce in ve)K[ce]=ve[ce];z(K.mediaType,_.Z.MANIFEST_UPDATE,K)}},addManifestUpdateStreamInfo:function(K,ve,ce,me,_e){if(K){var X=new iv;X.id=ve,X.index=ce,X.start=me,X.duration=_e,K.streamInfo.push(X),z(K.mediaType,_.Z.MANIFEST_UPDATE_STREAM_INFO,K)}},addManifestUpdateRepresentationInfo:function(K,ve,ce,me,_e,X,ge,ee){if(K&&K.representationInfo){var ye=new ov;ye.id=ve,ye.index=ce,ye.streamIndex=me,ye.mediaType=_e,ye.startNumber=ge,ye.fragmentInfoType=ee,ye.presentationTimeOffset=X,K.representationInfo.push(ye),z(K.mediaType,_.Z.MANIFEST_UPDATE_TRACK_INFO,K)}},addPlayList:function(K){K.trace&&Array.isArray(K.trace)?K.trace.forEach(function(ve){ve.hasOwnProperty("subreplevel")&&!ve.subreplevel&&delete ve.subreplevel}):delete K.trace,W(o.Z.STREAM,_.Z.PLAY_LIST,K)},addDVBErrors:function(K){W(o.Z.STREAM,_.Z.DVB_ERRORS,K)}},h={},c}Xd.__dashjs_factory_name="MetricsModel";var lv=R.Z.getSingletonFactory(Xd);function $d(g){g=g||{};var c,h,I,P,O=this.context,w=g.metricsModel;function L(Q){var k=w.getMetricsFor(Q,!0);if(!k)return null;var W,K=k.HttpList,ve=null;if(!K||K.length<=0)return null;for(W=K.length-1;W>=0;){if(K[W].responsecode){ve=K[W];break}W--}return ve}function z(Q){var k=w.getMetricsFor(Q,!0);return k&&k.HttpList?k.HttpList:[]}function J(Q,k){if(!Q)return null;var W=Q[k];return W&&W.length!==0?W[W.length-1]:null}return c={getCurrentRepresentationSwitch:function(Q){return J(w.getMetricsFor(Q,!0),_.Z.TRACK_SWITCH)},getCurrentBufferState:function(Q){return J(w.getMetricsFor(Q,!0),_.Z.BUFFER_STATE)},getCurrentBufferLevel:function(Q){var k=J(w.getMetricsFor(Q,!0),_.Z.BUFFER_LEVEL);return k?Qy.round10(k.level/1e3,-3):0},getCurrentHttpRequest:L,getHttpRequests:z,getCurrentDroppedFrames:function(){return J(w.getMetricsFor(o.Z.VIDEO,!0),_.Z.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(Q){return J(w.getMetricsFor(Q,!0),_.Z.SCHEDULING_INFO)},getCurrentDVRInfo:function(Q){return J(Q?w.getMetricsFor(Q,!0):w.getMetricsFor(o.Z.VIDEO,!0)||w.getMetricsFor(o.Z.AUDIO,!0),_.Z.DVR_INFO)},getCurrentManifestUpdate:function(){return J(w.getMetricsFor(o.Z.STREAM),_.Z.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(Q,k){if(!k)return null;var W={},K=L(Q);K&&(W=At.Z.parseHttpHeaders(K._responseHeaders));var ve=W[k.toLowerCase()];return ve===void 0?null:ve},getLatestMPDRequestHeaderValueByID:function(Q){if(!Q)return null;var k,W,K,ve={};for(K=(k=z(o.Z.STREAM)).length-1;K>=0;K--)if((W=k[K]).type===Me.w.MPD_TYPE){ve=At.Z.parseHttpHeaders(W._responseHeaders);break}var ce=ve[Q.toLowerCase()];return ce===void 0?null:ce},addRepresentationSwitch:function(Q,k,W,K,ve){w.addRepresentationSwitch(Q,k,W,K,ve)},addDVRInfo:function(Q,k,W,K){w.addDVRInfo(Q,k,W,K)},updateManifestUpdateInfo:function(Q){var k=this.getCurrentManifestUpdate();w.updateManifestUpdateInfo(k,Q)},addManifestUpdateStreamInfo:function(Q){if(Q){var k=this.getCurrentManifestUpdate();w.addManifestUpdateStreamInfo(k,Q.id,Q.index,Q.start,Q.duration)}},addManifestUpdateRepresentationInfo:function(Q,k){if(Q){var W=this.getCurrentManifestUpdate();w.addManifestUpdateRepresentationInfo(W,Q.id,Q.index,Q.streamIndex,k,Q.presentationTimeOffset,Q.startNumber,Q.fragmentInfoType)}},addManifestUpdate:function(Q){w.addManifestUpdate(o.Z.STREAM,Q.type,Q.requestStartDate,Q.requestEndDate)},addHttpRequest:function(Q,k,W,K,ve,ce){w.addHttpRequest(Q.mediaType,null,Q.type,Q.url,Q.quality,k,Q.serviceLocation||null,Q.range||null,Q.requestStartDate,Q.firstByteDate,Q.requestEndDate,W,Q.duration,K,ve,Q.fileLoaderType,ce)},addSchedulingInfo:function(Q,k){w.addSchedulingInfo(Q.mediaType,new Date,Q.type,Q.startTime,Q.availabilityStartTime,Q.duration,Q.quality,Q.range,k)},addRequestsQueue:function(Q,k,W){w.addRequestsQueue(Q,k,W)},addBufferLevel:function(Q,k,W){w.addBufferLevel(Q,k,W)},addBufferState:function(Q,k,W){w.addBufferState(Q,k,W)},addDroppedFrames:function(Q){w.addDroppedFrames(o.Z.VIDEO,Q)},addPlayList:function(){P&&(w.addPlayList(P),P=null)},addDVBErrors:function(Q){w.addDVBErrors(Q)},createPlaylistMetrics:function(Q,k){(P=new Be).start=new Date,P.mstart=Q,P.starttype=k},createPlaylistTraceMetrics:function(Q,k,W){h===!0&&(h=!1,(I=new Pe).representationid=Q,I.start=new Date,I.mstart=k,I.playbackspeed=W!==null?W.toString():null)},updatePlayListTraceMetrics:function(Q){if(I)for(var k in I)I[k]=Q[k]},pushPlayListTraceMetrics:function(Q,k){if(h===!1&&P&&I&&I.start){var W=I.start,K=Q.getTime()-W.getTime();I.duration=K,I.stopreason=k,P.trace.push(I),h=!0}},clearAllCurrentMetrics:function(){w.clearAllCurrentMetrics()}},w=w||lv(O).getInstance({settings:g.settings}),h=!0,I=null,P=null,c}$d.__dashjs_factory_name="DashMetrics";var uv=R.Z.getSingletonFactory($d);function Jd(){var g,c,h,I,P=this.context,O=(0,E.Z)(P).getInstance(),w=(0,we.Z)(P).getInstance();function L(_e){I=_e}function z(_e,X,ge,ee){var ye,T=X.adaptation.period.mpd,j=T.availabilityStartTime;if(ee)ye=ge&&T.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(j.getTime()+1e3*(_e+T.timeShiftBufferDepth)):T.availabilityEndTime;else if(ge){var B=X.availabilityTimeOffset;ye=new Date(j.getTime()+1e3*(_e-B))}else ye=j;return ye}function J(_e,X){return(_e.getTime()-X.mpd.availabilityStartTime.getTime()+1e3*I)/1e3}function Q(_e,X){return _e+(X.adaptation.period.start-X.presentationTimeOffset)}function k(_e){var X={start:NaN,end:NaN},ge=_e[0].getAdapter().getRegularPeriods()[0],ee=J(new Date,ge);if(!_e||_e.length===0)return{range:X,now:ee};_e.forEach(function(T){var j=T.getAdapter(),B=j.getMediaInfoForType(T.getStreamInfo(),o.Z.VIDEO)||j.getMediaInfoForType(T.getStreamInfo(),o.Z.AUDIO),G=j.getVoRepresentations(B)[0],D={start:NaN,end:NaN};if(G)if(G.segmentInfoType===i.Z.SEGMENT_TIMELINE)D=function(ie){var pe,se,V,le,Se=ie.adaptation.period.mpd.manifest.Period_asArray[ie.adaptation.period.index].AdaptationSet_asArray[ie.adaptation.index],Ue=c.getRepresentationFor(ie.index,Se),Oe=Ue.SegmentTemplate||Ue.SegmentList,Ze=Oe.SegmentTimeline,xe=Oe.timescale,lt=Ze.S_asArray,ut={start:0,end:0},rt=lt[0].t,it=!isNaN(rt),Ut=it?rt:0,Ce=0;for(it&&(ut.start=Q(Ut/xe,ie)),V=0,le=lt.length;V<le;V++)se=0,(pe=lt[V]).hasOwnProperty("r")&&(se=pe.r),Ce+=pe.d*(1+se);return ut.end=Q((Ut+Ce)/xe,ie),ut}(G);else{var fe=G.adaptation.period;D.start=fe.start,D.end=Math.max(ee,fe.start+fe.duration)}!isNaN(D.start)&&(isNaN(X.start)||X.start>D.start)&&(X.start=D.start),!isNaN(D.end)&&(isNaN(X.end)||X.end<D.end)&&(X.end=D.end)}),X.end=Math.min(ee,X.end);var ye=K(_e,X.end,!0);return X.end=isNaN(ye)?X.end:ye,X.start=ge&&ge.mpd&&ge.mpd.timeShiftBufferDepth&&!isNaN(ge.mpd.timeShiftBufferDepth)&&!isNaN(X.end)?Math.max(X.end-ge.mpd.timeShiftBufferDepth,X.start):X.start,X.start=K(_e,X.start),{range:X,now:ee}}function W(_e,X){h=_e-X.end}function K(_e,X){var ge=arguments.length>2&&arguments[2]!==void 0&&arguments[2];try{for(var ee=0,ye=!1,T=NaN;!ye&&ee<_e.length;){var j=_e[ee].getStreamInfo();j.start<=X&&(!isFinite(j.duration)||j.start+j.duration>=X)?(T=X,ye=!0):!ge&&j.start>X&&(isNaN(T)||j.start<T)?T=j.start:ge&&j.start+j.duration<X&&(isNaN(T)||j.start+j.duration>T)&&(T=j.start+j.duration),ee+=1}return T}catch{return X}}function ve(_e){_e.offset===void 0||isNaN(_e.offset)||L(_e.offset/1e3)}function ce(){I=0,h=0}function me(){O.off(f.Z.UPDATE_TIME_SYNC_OFFSET,ve,this),ce()}return g={initialize:function(){ce(),O.on(f.Z.UPDATE_TIME_SYNC_OFFSET,ve,this)},getClientTimeOffset:function(){return I},setClientTimeOffset:L,getClientReferenceTime:function(){return Date.now()-1e3*h+1e3*I},calcAvailabilityStartTimeFromPresentationTime:function(_e,X,ge){return z(_e,X,ge)},calcAvailabilityEndTimeFromPresentationTime:function(_e,X,ge){return z(_e,X,ge,!0)},calcPresentationTimeFromWallTime:J,calcPresentationTimeFromMediaTime:Q,calcPeriodRelativeTimeFromMpdRelativeTime:function(_e,X){return X-_e.adaptation.period.start},calcMediaTimeFromPresentationTime:function(_e,X){return _e-X.adaptation.period.start+X.presentationTimeOffset},calcWallTimeForSegment:function(_e,X){var ge,ee,ye;return X&&(ge=_e.representation.adaptation.period.mpd.suggestedPresentationDelay,ee=_e.presentationStartTime+ge,ye=new Date(_e.availabilityStartTime.getTime()+1e3*ee)),ye},calcTimeShiftBufferWindow:function(_e,X){if(!X)return function(ee){var ye={start:NaN,end:NaN},T=0,j=NaN;return ee.forEach(function(B){var G=B.getStreamInfo();T+=G.duration,(isNaN(j)||G.start<j)&&(j=G.start)}),ye.start=j,ye.end=j+T,ye}(_e);if(w.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var ge=k(_e);return W(ge.now,ge.range),ge.range}return function(ee){var ye={start:NaN,end:NaN};if(!ee||ee.length===0)return ye;var T=ee[0].getAdapter().getRegularPeriods()[0],j=J(new Date,T),B=T.mpd.timeShiftBufferDepth,G=isNaN(B)?0:j-B;if(ye.start=K(ee,G),ye.end=!isNaN(ye.start)&&j<ye.start?j:K(ee,j,!0),!isNaN(B)&&ye.end<j-B&&(ye.end=NaN),w.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var D=k(ee);if(D.range.end<ye.start)return O.trigger(r.Z.CONFORMANCE_VIOLATION,{level:Fo.LEVELS.WARNING,event:Fo.EVENTS.INVALID_DVR_WINDOW}),W(D.now,D.range),D.range}return ye}(_e)},reset:me},c=sn(P).getInstance(),me(),g}Jd.__dashjs_factory_name="TimelineConverter";var cv=R.Z.getSingletonFactory(Jd),Ou=S(4593),xs=S(6934);function Mu(g){return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Mu(g)}function Pu(g,c){return Pu=Object.setPrototypeOf||function(h,I){return h.__proto__=I,h},Pu(g,c)}function fv(g,c){return!c||Mu(c)!=="object"&&typeof c!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):c}function ks(g){return ks=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},ks(g)}var dv=function(g){(function(O,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(w&&w.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),w&&Pu(O,w)})(P,g);var c,h,I=(c=P,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var O,w=ks(c);if(h){var L=ks(this).constructor;O=Reflect.construct(w,arguments,L)}else O=w.apply(this,arguments);return fv(this,O)});function P(){var O;return function(w,L){if(!(w instanceof L))throw new TypeError("Cannot call a class as a function")}(this,P),(O=I.call(this)).captionData=null,O.label=null,O.defaultTrack=!1,O.kind=null,O.isFragmented=!1,O.isEmbedded=!1,O.isTTML=null,O}return P}(Cu),gv=S(2295);function eg(){var g=0;function c(L){for(var z="",J=0;J<L.length;++J)z+=L[J].uchar;return z.length-z.replace(/^\s+/,"").length}function h(L){return"left: "+3.125*L.x+"%; top: "+6.66*L.y1+"%; width: "+(100-3.125*L.x)+"%; height: "+6.66*Math.max(L.y2-1-L.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function I(L){return L==="red"?"rgb(255, 0, 0)":L==="green"?"rgb(0, 255, 0)":L==="blue"?"rgb(0, 0, 255)":L==="cyan"?"rgb(0, 255, 255)":L==="magenta"?"rgb(255, 0, 255)":L==="yellow"?"rgb(255, 255, 0)":L==="white"?"rgb(255, 255, 255)":L==="black"?"rgb(0, 0, 0)":L}function P(L,z){var J=L.videoHeight/15;return z?"font-size: "+J+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(z.foreground?I(z.foreground):"rgb(255, 255, 255)")+"; font-style: "+(z.italics?"italic":"normal")+"; text-decoration: "+(z.underline?"underline":"none")+"; white-space: pre; background-color: "+(z.background?I(z.background):"transparent")+";":"font-size: "+J+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function O(L){return L.replace(/^\s+/g,"")}function w(L){return L.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function(L,z,J,Q){var k,W,K=null,ve=!1,ce=-1,me={start:z,end:J,spans:[]},_e="style_cea608_white_black",X={},ge={},ee=[];for(k=0;k<15;++k){var ye=Q.rows[k],T="",j=null;if(ye.isEmpty()===!1){var B=c(ye.chars);K===null&&(K={x:B,y1:k,y2:k+1,p:[]}),B!==ce&&ve&&(K.p.push(me),me={start:z,end:J,spans:[]},K.y2=k,K.name="region_"+K.x+"_"+K.y1+"_"+K.y2,X.hasOwnProperty(K.name)===!1?(ee.push(K),X[K.name]=K):X[K.name].p.contat(K.p),K={x:B,y1:k,y2:k+1,p:[]});for(var G=0;G<ye.chars.length;++G){var D=ye.chars[G],fe=D.penState;if(j===null||!fe.equals(j)){T.trim().length>0&&(me.spans.push({name:_e,line:T,row:k}),T="");var ie="style_cea608_"+fe.foreground+"_"+fe.background;fe.underline&&(ie+="_underline"),fe.italics&&(ie+="_italics"),ge.hasOwnProperty(ie)||(ge[ie]=JSON.parse(JSON.stringify(fe))),j=fe,_e=ie}T+=D.uchar}T.trim().length>0&&me.spans.push({name:_e,line:T,row:k}),ve=!0,ce=B}else ve=!1,ce=-1,K&&(K.p.push(me),me={start:z,end:J,spans:[]},K.y2=k,K.name="region_"+K.x+"_"+K.y1+"_"+K.y2,X.hasOwnProperty(K.name)===!1?(ee.push(K),X[K.name]=K):X[K.name].p.contat(K.p),K=null)}K&&(K.p.push(me),K.y2=k+1,K.name="region_"+K.x+"_"+K.y1+"_"+K.y2,X.hasOwnProperty(K.name)===!1?(ee.push(K),X[K.name]=K):X[K.name].p.contat(K.p),K=null);var pe=[];for(k=0;k<ee.length;++k){var se=ee[k],V="sub_cea608_"+g++,le=document.createElement("div");le.id=V;var Se=h(se);le.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+Se;var Ue=document.createElement("div");Ue.className="paragraph bodyStyle",Ue.style.cssText=P(L);var Oe=document.createElement("div");Oe.className="cueUniWrapper",Oe.style.cssText="unicode-bidi: normal; direction: ltr;";for(var Ze=0;Ze<se.p.length;++Ze){var xe=se.p[Ze],lt=0;for(W=0;W<xe.spans.length;++W){var ut=xe.spans[W];if(ut.line.length>0){if(W!==0&&lt!=ut.row){var rt=document.createElement("br");rt.className="lineBreak",Oe.appendChild(rt)}var it=!1;lt===ut.row&&(it=!0),lt=ut.row;var Ut=ge[ut.name],Ce=document.createElement("span");Ce.className="spanPadding "+ut.name+" customSpanColor",Ce.style.cssText=P(L,Ut),W!==0&&it?W===xe.spans.length-1?Ce.textContent=w(ut.line):Ce.textContent=ut.line:xe.spans.length>1&&W<xe.spans.length-1&&ut.row===xe.spans[W+1].row?Ce.textContent=O(ut.line):Ce.textContent=ut.line.trim(),Oe.appendChild(Ce)}}}Ue.appendChild(Oe),le.appendChild(Ue);var qe={bodyStyle:["%",90]};for(var ht in ge)ge.hasOwnProperty(ht)&&(qe[ht]=["%",90]);pe.push({type:"html",start:z,end:J,cueHTMLElement:le,cueID:V,cellResolution:[32,15],isFromCEA608:!0,fontSize:qe,lineHeight:{},linePadding:{}})}return pe}}}eg.__dashjs_factory_name="EmbeddedTextHtmlRender";var pv=R.Z.getSingletonFactory(eg);function tg(g){var c,h,I,P,O,w,L,z,J,Q,k,W,K,ve,ce,me,_e,X=g.errHandler,ge=g.manifestModel,ee=g.mediaController,ye=g.videoModel,T=g.textTracks,j=g.vttParser,B=g.vttCustomRenderingParser,G=g.ttmlParser,D=g.streamInfo,fe=g.settings,ie=this.context,pe=(0,E.Z)(ie).getInstance(),se=!1;function V(){w=null,z=NaN,J=[],Q=null,L=!1,O=[],P=null}function le(rt){var it=new dv;for(var Ut in rt)it[Ut]=rt[Ut];it.labels=rt.labels,it.defaultTrack=function(Ce){var qe=!1;return W.length>1&&Ce.isEmbedded?qe=Ce.id&&Ce.id===o.Z.CC1:W.length===1?Ce.id&&typeof Ce.id=="string"&&Ce.id.substring(0,2)==="CC"&&(qe=!0):W.length===0&&(qe=Ce.index===O[0].index),qe}(rt),it.isFragmented=rt.isFragmented,it.isEmbedded=!!rt.isEmbedded,it.isTTML=function(Ce){return Ce.codec&&Ce.codec.search(o.Z.STPP)>=0||Ce.mimeType&&Ce.mimeType.search(o.Z.TTML)>=0}(rt),it.kind=function(Ce,qe){var ht=Ce.roles&&Ce.roles.length>0?qe[Ce.roles[0]]:qe.caption;return ht=ht===qe.caption||ht===qe.subtitle?ht:qe.caption}(rt,{subtitle:"subtitles",caption:"captions"}),T.addTextTrack(it)}function Se(rt){var it=rt.chunk;it.mediaInfo.embeddedCaptions&&Oe(it.bytes,it)}function Ue(rt){k=rt}function Oe(rt,it){var Ut=it.mediaInfo,Ce=Ut.type,qe=Ut.mimeType,ht=Ut.codec||qe;ht?Ut.codec.indexOf("application/mp4")!==-1?function(Xe,_t,Et){var gt;if(_t.segmentType==="InitializationSegment")L=!0,z=I.getMediaTimescaleFromMoov(Xe);else{if(!L)return;(gt=I.getSamplesInfo(Xe).sampleList).length>0&&(Q=gt[0].cts-_t.start*z),Et.search(o.Z.STPP)>=0?function(Kt,Vt,gn){var mn,Ke;for(P=P!==null?P:lt(gn),mn=0;mn<Vt.length;mn++){var yt=Vt[mn],st=yt.cts,bt=xe(),Pt=bt+st/z,Xt=Pt+yt.duration/z;c.buffered.add(Pt,Xt);var Wt=new DataView(Kt,yt.offset,yt.subSizes[0]),Jt=xs.Utils.dataViewToString(Wt,o.Z.UTF8),an=[],pt=yt.offset+yt.subSizes[0];for(Ke=1;Ke<yt.subSizes.length;Ke++){var kt=new Uint8Array(Kt,pt,yt.subSizes[Ke]),jt=String.fromCharCode.apply(null,kt);an.push(jt),pt+=yt.subSizes[Ke]}try{var qt=ge.getValue().ttmlTimeIsRelative?st/z:0,Qt=P.parse(Jt,qt,st/z,(st+yt.duration)/z,an);T.addCaptions(k,bt,Qt)}catch(We){w.removeExecutedRequestsBeforeTime(),this.remove(),h.error("TTML parser error: "+We.message)}}}(Xe,gt,Et):function(Kt,Vt){var gn,mn,Ke,yt=[];for(gn=0;gn<Vt.length;gn++){var st=Vt[gn];st.cts-=Q;var bt=xe()+st.cts/z,Pt=bt+st.duration/z;c.buffered.add(bt,Pt);var Xt=Kt.slice(st.offset,st.offset+st.size),Wt=xs.parseBuffer(Xt);for(mn=0;mn<Wt.boxes.length;mn++){var Jt=Wt.boxes[mn];if(h.debug("VTT box1: "+Jt.type),Jt.type!=="vtte"&&Jt.type==="vttc"){h.debug("VTT vttc boxes.length = "+Jt.boxes.length);var an={styles:{}};for(Ke=0;Ke<Jt.boxes.length;Ke++){var pt=Jt.boxes[Ke];if(h.debug("VTT box2: "+pt.type),pt.type==="payl")an.start=st.cts/z,an.end=(st.cts+st.duration)/z,an.data=pt.cue_text;else if(pt.type==="sttg"&&pt.settings&&pt.settings!=="")try{var kt=pt.settings.split(" ");an.styles=j.getCaptionStyles(kt)}catch{}}an&&an.data&&(yt.push(an),h.debug("VTT  ".concat(an.start," - ").concat(an.end," :  ").concat(an.data)))}}}yt.length>0&&T.addCaptions(k,0,yt)}(Xe,gt)}}(rt,it,ht):Ce===o.Z.VIDEO?function(Xe,_t){var Et,gt;if(_t.segmentType===Me.w.INIT_SEGMENT_TYPE)K===0&&(K=I.getMediaTimescaleFromMoov(Xe));else if(_t.segmentType===Me.w.MEDIA_SEGMENT_TYPE){if(K===0)return void h.warn("CEA-608: No timescale for embeddedTextTrack yet");var Kt=(gt=I.getSamplesInfo(Xe)).lastSequenceNumber,Vt=Math.trunc(_t.start),gn=Math.trunc(_t.end);if(me[0]||me[1]||function(){for(var bt,Pt=0;Pt<W.length;Pt++){if((bt=T.getTrackIdxForId(W[Pt].id))===-1)return void h.warn("CEA-608: data before track is ready.");var Xt=Ze(bt);me[Pt]=new(A()).Cea608Parser(Pt+1,{newCue:Xt},null)}}(),K){if(function(bt,Pt,Xt,Wt,Jt){return bt!==null&&Pt!==null&&Wt!==null&&Jt!==null&&(Pt===bt?Wt!==Jt:Pt!==bt+Xt)}(ve,Kt,gt.numSequences,ce,Vt))for(Et=0;Et<me.length;Et++)me[Et]&&me[Et].reset();for(var mn=function(bt,Pt){if(Pt.length===0)return null;for(var Xt={splits:[],fields:[[],[]]},Wt=new DataView(bt),Jt=0;Jt<Pt.length;Jt++)for(var an=Pt[Jt],pt=A().findCea608Nalus(Wt,an.offset,an.size),kt=null,jt=0,qt=0;qt<pt.length;qt++)for(var Qt=A().extractCea608DataFromRange(Wt,pt[qt]),We=0;We<2;We++)if(Qt[We].length>0){an.cts!==kt?jt=0:jt+=1;var ke=xe();Xt.fields[We].push([an.cts+ke*K,Qt[We],jt]),kt=an.cts}return Xt.fields.forEach(function(ct){ct.sort(function(Ee,be){return Ee[0]===be[0]?Ee[2]-be[2]:Ee[0]-be[0]})}),Xt}(Xe,gt.sampleList),Ke=0;Ke<me.length;Ke++){var yt=mn.fields[Ke],st=me[Ke];if(st)for(Et=0;Et<yt.length;Et++)st.addData(yt[Et][0]/K,yt[Et][1])}ve=Kt,ce=gn}}}(rt,it):function(Xe,_t,Et){var gt,Kt,Vt=new DataView(Xe,0,Xe.byteLength);Kt=xs.Utils.dataViewToString(Vt,o.Z.UTF8);try{gt=lt(Et).parse(Kt,0),T.addCaptions(T.getCurrentTrackIdx(),0,gt),c.buffered&&c.buffered.add(_t.start,_t.end)}catch(gn){X.error(new de.Z(ae.TIMED_TEXT_ERROR_ID_PARSE_CODE,ae.TIMED_TEXT_ERROR_MESSAGE_PARSE+gn.message,Kt))}}(rt,it,ht):h.error("No text type defined")}function Ze(rt){return function(it,Ut,Ce){var qe;(qe=ye.getTTMLRenderingDiv()?_e.createHTMLCaptionsFromScreen(ye.getElement(),it,Ut,Ce):[{start:it,end:Ut,data:Ce.getDisplayText(),styles:{}}])&&T.addCaptions(rt,0,qe)}}function xe(){return isNaN(c.timestampOffset)?0:c.timestampOffset}function lt(rt){var it;return rt.search(o.Z.VTT)>=0?it=fe.get().streaming.text.webvtt.customRenderingEnabled&&B?B:j:(rt.search(o.Z.TTML)>=0||rt.search(o.Z.STPP)>=0)&&(it=G),it}function ut(rt){W.forEach(function(it){var Ut=T.getTrackIdxForId(it.id);Ut>=0&&T.deleteCuesFromTrackIdx(Ut,rt.from,rt.to)})}return c={initialize:function(){se||(W=[],k=null,K=0,me=[],ve=null,ce=null,se=!0,_e=pv(ie).getInstance(),pe.on(f.Z.VIDEO_CHUNK_RECEIVED,Se,c),pe.on(f.Z.BUFFER_CLEARED,ut,c))},addMediaInfos:function(rt,it,Ut){if(O=O.concat(it),rt===o.Z.TEXT&&it[0].isFragmented&&!it[0].isEmbedded){w=Ut,c.buffered=(0,gv.Z)(ie).create(),J=ee.getTracksFor(o.Z.TEXT,D.id).filter(function(Xe){return Xe.isFragmented});for(var Ce=ee.getCurrentTrackFor(o.Z.TEXT,D.id),qe=0;qe<J.length;qe++)if(J[qe]===Ce){Ue(qe);break}}for(var ht=0;ht<it.length;ht++)le(it[ht])},resetMediaInfos:function(){O=[]},getStreamId:function(){return D.id},append:Oe,abort:function(){},addEmbeddedTrack:function(rt){if(se&&rt)if(rt.id===o.Z.CC1||rt.id===o.Z.CC3){for(var it=0;it<W.length;it++)if(W[it].id===rt.id)return;W.push(rt)}else h.warn("Embedded track "+rt.id+" not supported!")},resetEmbedded:function(){pe.off(f.Z.VIDEO_CHUNK_RECEIVED,Se,c),pe.off(f.Z.BUFFER_CLEARED,ut,c),T&&T.deleteAllTextTracks(),se=!1,W=[],me=[null,null],ve=null,ce=null},getConfig:function(){return{fragmentModel:w,fragmentedTracks:J,videoModel:ye}},setCurrentFragmentedTrackIdx:Ue,remove:function(rt,it){rt===void 0&&rt===it&&(rt=c.buffered.start(0),it=c.buffered.end(c.buffered.length-1)),c.buffered.remove(rt,it),T.deleteCuesFromTrackIdx(k,rt,it)},reset:function(){V(),O=[],I=null}},h=(0,y.Z)(ie).getInstance().getLogger(c),I=(0,va.Z)(ie).getInstance(),V(),c}tg.__dashjs_factory_name="TextSourceBuffer";var hv=R.Z.getClassFactory(tg),Lu=S(4403);function ng(g,c){(c==null||c>g.length)&&(c=g.length);for(var h=0,I=new Array(c);h<c;h++)I[h]=g[h];return I}var mv=["text","align","fontSize","id","isd","line","lineAlign","lineHeight","linePadding","position","positionAlign","region","size","snapToLines","vertical"];function rg(g){var c,h,I,P,O,w,L,z,J,Q,k,W,K,ve,ce,me,_e,X,ge,ee,ye=this.context,T=(0,E.Z)(ye).getInstance(),j=g.videoModel,B=g.streamInfo,G=g.settings;function D(Ke,yt,st,bt,Pt,Xt){var Wt=0,Jt=0;Ke/yt>st/bt?Wt=(Jt=yt)/bt*st:Jt=(Wt=Ke)/st*bt;var an,pt,kt=0,jt=0;return Wt/Jt>Pt?(jt=Jt,kt=Jt*Pt):(kt=Wt,jt=Wt/Pt),an=(Ke-kt)/2,pt=(yt-jt)/2,Xt?{x:an+.1*kt,y:pt+.1*jt,w:.8*kt,h:.8*jt}:{x:an,y:pt,w:kt,h:jt}}function fe(Ke,yt){var st=j.getClientWidth(),bt=j.getClientHeight(),Pt=j.getVideoWidth(),Xt=j.getVideoHeight(),Wt=j.getVideoRelativeOffsetTop(),Jt=j.getVideoRelativeOffsetLeft();if(Pt!==0&&Xt!==0){var an=Pt/Xt,pt=!1;Ke.isFromCEA608&&(an=1.1666666666666667,pt=!0);var kt=D.call(this,st,bt,Pt,Xt,an,pt),jt=kt.w,qt=kt.h,Qt=kt.x,We=kt.y;if(jt!=J||qt!=Q||Qt!=L||We!=z||yt){if(L=Qt+Jt,z=We+Wt,J=jt,Q=qt,k){var ke=k.style;ke&&(ke.left=L+"px",ke.top=z+"px",ke.width=J+"px",ke.height=Q+"px",ke.zIndex=ve&&document[ve]||ce?_e:null,T.trigger(r.Z.CAPTION_CONTAINER_RESIZE))}var ct=Ke.activeCues;if(ct)for(var Ee=ct.length,be=0;be<Ee;++be){var Je=ct[be];Je.scaleCue(Je)}}}}function ie(Ke){var yt,st,bt,Pt,Xt,Wt=J,Jt=Q;if(Ke.cellResolution){var an=[Wt/Ke.cellResolution[0],Jt/Ke.cellResolution[1]];if(Ke.linePadding){for(yt in Ke.linePadding)if(Ke.linePadding.hasOwnProperty(yt)){st=(Ke.linePadding[yt]*an[0]).toString();for(var pt=document.getElementsByClassName("spanPadding"),kt=0;kt<pt.length;kt++)pt[kt].style.cssText=pt[kt].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+st),pt[kt].style.cssText=pt[kt].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+st)}}if(Ke.fontSize){for(yt in Ke.fontSize)if(Ke.fontSize.hasOwnProperty(yt)){Ke.fontSize[yt][0]==="%"?bt=Ke.fontSize[yt][1]/100:Ke.fontSize[yt][0]==="c"&&(bt=Ke.fontSize[yt][1]),st=(bt*an[1]).toString(),Xt=yt!=="defaultFontSize"?document.getElementsByClassName(yt):document.getElementsByClassName("paragraph");for(var jt=0;jt<Xt.length;jt++)Xt[jt].style.cssText=Xt[jt].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+st)}if(Ke.lineHeight){for(yt in Ke.lineHeight)if(Ke.lineHeight.hasOwnProperty(yt)){Ke.lineHeight[yt][0]==="%"?Pt=Ke.lineHeight[yt][1]/100:Ke.fontSize[yt][0]==="c"&&(Pt=Ke.lineHeight[yt][1]),st=(Pt*an[1]).toString(),Xt=document.getElementsByClassName(yt);for(var qt=0;qt<Xt.length;qt++)Xt[qt].style.cssText=Xt[qt].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+st)}}}}if(Ke.isd){var Qt=document.getElementById(Ke.cueID);Qt&&k.removeChild(Qt),se(Ke)}}function pe(Ke,yt){var st=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,bt=/^#(.*)$/;if(st.test(yt)){var Pt=st.exec(yt),Xt=parseInt(Pt[4],10)-1;return"data:image/png;base64,"+btoa(Ke.images[Xt])}if(bt.test(yt)){var Wt=bt.exec(yt)[1];return"data:image/png;base64,"+Ke.embeddedImages[Wt]}return yt}function se(Ke){if(k){mn.call(this);var yt=document.createElement("div");k.appendChild(yt),me=(0,Lu.renderHTML)(Ke.isd,yt,function(st){return pe(Ke,st)},k.clientHeight,k.clientWidth,G.get().streaming.text.imsc.displayForcedOnlyMode,function(st){h.info("renderCaption :",st)},me,G.get().streaming.text.imsc.enableRollUp),yt.id=Ke.cueID,T.trigger(r.Z.CAPTION_RENDERED,{captionDiv:yt,currentTrackIdx:w})}}function V(Ke,yt){return!!yt&&yt.endTime>=Ke.startTime}function le(Ke,yt){return!!G.get().streaming.text.extendSegmentedCues&&!!function(st,bt,Pt){for(var Xt=0;Xt<Pt.length;Xt++){var Wt=Pt[Xt];if(JSON.stringify(st[Wt])!==JSON.stringify(bt[Wt]))return!1}return!0}(yt,Ke,mv)&&(yt.endTime=Math.max(yt.endTime,Ke.endTime),!0)}function Se(Ke,yt){yt&&yt.forEach(function(st){st.kind&&st.kind==="image"&&(st.src=pe(Ke,st.src)),Se(Ke,st.contents)})}function Ue(Ke,yt,st){var bt=qe(Ke),Pt=G.get().streaming.text.dispatchForManualRendering;if(bt&&Array.isArray(st)&&st.length!==0)for(var Xt=0;Xt<st.length;Xt++){var Wt=null,Jt=st[Xt];bt.cellResolution=Jt.cellResolution,bt.isFromCEA608=Jt.isFromCEA608,isNaN(Jt.start)||isNaN(Jt.end)||(Pt?Wt=Oe(Jt,yt):rt(Jt)&&k?Wt=lt(Jt,yt,bt):Jt.data&&(Wt=ut(Jt,yt,bt)));try{if(Wt){if(!_t(bt,Wt))if(G.get().streaming.text.webvtt.customRenderingEnabled)bt.manualCueList||(bt.manualCueList=[]),bt.manualCueList.push(Wt);else{var an=void 0;bt.cues&&bt.cues.length!==0&&(an=bt.cues[bt.cues.length-1]),V(Wt,an)?le(Wt,an)||(an.isd&&(an.onexit=function(){}),bt.mode!==o.Z.TEXT_DISABLED&&bt.addCue(Wt)):bt.mode!==o.Z.TEXT_DISABLED&&bt.addCue(Wt)}var pt=G.get().streaming.buffer.bufferToKeep;gt(bt,0,j.getTime()-pt)}else h.error("Impossible to display subtitles. You might have missed setting a TTML rendering div via player.attachTTMLRenderingDiv(TTMLRenderingDiv)")}catch(kt){throw Kt(bt),bt.addCue(Wt),kt}}}function Oe(Ke,yt){var st=it(Ke,yt);return st.onenter=function(){rt(Ke)&&ee&&ee.cueID!==st.cueID&&xe(ee),delete st.type,ee=st,Ze(st)},st.onexit=function(){xe(st),ee=null},st}function Ze(Ke){T.trigger(r.Z.CUE_ENTER,Ke)}function xe(Ke){T.trigger(r.Z.CUE_EXIT,{cueID:Ke.cueID})}function lt(Ke,yt,st){var bt=this,Pt=it(Ke,yt);return k.style.left=L+"px",k.style.top=z+"px",k.style.width=J+"px",k.style.height=Q+"px",Pt.onenter=function(){var Xt=this;st.mode===o.Z.TEXT_SHOWING&&(this.isd?(ge?requestAnimationFrame(function(){return se(Xt)}):se(this),h.debug("Cue enter id:"+this.cueID)):(k.appendChild(this.cueHTMLElement),ie.call(bt,this),T.trigger(r.Z.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:w})))},Pt.onexit=function(){if(k)for(var Xt=k.childNodes,Wt=0;Wt<Xt.length;++Wt)Xt[Wt].id===this.cueID&&(h.debug("Cue exit id:"+Xt[Wt].id),k.removeChild(Xt[Wt]),--Wt)},Pt}function ut(Ke,yt,st){var bt=it(Ke,yt);if(bt.isActive=!1,Ke.styles)try{Ke.styles.align!==void 0&&"align"in bt&&(bt.align=Ke.styles.align),Ke.styles.line!==void 0&&"line"in bt&&(bt.line=Ke.styles.line),Ke.styles.snapToLines!==void 0&&"snapToLines"in bt&&(bt.snapToLines=Ke.styles.snapToLines),Ke.styles.position!==void 0&&"position"in bt&&(bt.position=Ke.styles.position),Ke.styles.size!==void 0&&"size"in bt&&(bt.size=Ke.styles.size)}catch(Pt){h.error(Pt)}return bt.onenter=function(){st.mode===o.Z.TEXT_SHOWING&&T.trigger(r.Z.CAPTION_RENDERED,{currentTrackIdx:w})},bt}function rt(Ke){return Ke.type==="html"}function it(Ke,yt){return rt(Ke)?function(st,bt){var Pt=new I(st.start+bt,st.end+bt,"");return Pt.cueHTMLElement=st.cueHTMLElement,Pt.isd=st.isd,Pt.images=st.images,Pt.embeddedImages=st.embeddedImages,Pt.cueID=st.cueID,Pt.scaleCue=ie.bind(self),Pt.cellResolution=st.cellResolution,Pt.lineHeight=st.lineHeight,Pt.linePadding=st.linePadding,Pt.fontSize=st.fontSize,Pt.isd&&Se(Pt,Pt.isd.contents),Pt}(Ke,yt):function(st,bt){var Pt=new I(st.start-bt,st.end-bt,st.data);return Pt.cueID="".concat(Pt.startTime,"_").concat(Pt.endTime),Pt}(Ke,yt)}function Ut(Ke){if(W)for(var yt=W.childNodes,st=0;st<yt.length;++st)yt[st].id===Ke.cueID&&(W.removeChild(yt[st]),--st)}function Ce(){var Ke,yt=[],st=function(Pt,Xt){var Wt;if(typeof Symbol>"u"||Pt[Symbol.iterator]==null){if(Array.isArray(Pt)||(Wt=function(qt,Qt){if(qt){if(typeof qt=="string")return ng(qt,Qt);var We=Object.prototype.toString.call(qt).slice(8,-1);return We==="Object"&&qt.constructor&&(We=qt.constructor.name),We==="Map"||We==="Set"?Array.from(qt):We==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(We)?ng(qt,Qt):void 0}}(Pt))||Xt){Wt&&(Pt=Wt);var Jt=0,an=function(){};return{s:an,n:function(){return Jt>=Pt.length?{done:!0}:{done:!1,value:Pt[Jt++]}},e:function(qt){throw qt},f:an}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var pt,kt=!0,jt=!1;return{s:function(){Wt=Pt[Symbol.iterator]()},n:function(){var qt=Wt.next();return kt=qt.done,qt},e:function(qt){jt=!0,pt=qt},f:function(){try{kt||Wt.return==null||Wt.return()}finally{if(jt)throw pt}}}}(j.getTextTracks());try{for(st.s();!(Ke=st.n()).done;){var bt=Ke.value;bt.manualMode===o.Z.TEXT_SHOWING&&yt.push(bt)}}catch(Pt){st.e(Pt)}finally{st.f()}return yt}function qe(Ke){return Ke>=0&&P[Ke]?j.getTextTrack(P[Ke].kind,P[Ke].id,P[Ke].lang,P[Ke].isTTML,P[Ke].isEmbedded):null}function ht(Ke){var yt=this;if(Ke!==w){var st=qe(w=Ke);Xe.call(this,st),K&&(clearInterval(K),K=null),st&&st.renderingType==="html"&&(fe.call(this,st,!0),window.ResizeObserver?(X=new window.ResizeObserver(function(){fe.call(yt,st,!0)})).observe(j.getElement()):K=setInterval(fe.bind(this,st),500))}}function Xe(Ke){mn.call(this),Ke&&Ke.renderingType==="html"?Vt.call(this):gn.call(this)}function _t(Ke,yt){if(!Ke.cues)return!1;for(var st=0;st<Ke.cues.length;st++)if(Ke.cues[st].startTime===yt.startTime&&Ke.cues[st].endTime===yt.endTime)return!0;return!1}function Et(Ke,yt,st){var bt=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return!!Ke&&(isNaN(yt)||(bt?Ke.startTime:Ke.endTime)>=yt)&&(isNaN(st)||(bt?Ke.endTime:Ke.startTime)<=st)}function gt(Ke,yt,st){var bt,Pt;if(!(st<yt)&&Ke&&(Ke.cues||Ke.manualCueList)){var Xt=Ke.cues&&Ke.cues.length>0?"native":"custom",Wt=Xt==="native"?Ke.cues:Ke.manualCueList;if(!Wt||Wt.length===0)return;for(var Jt=Wt.length-1;Jt>=0;Jt--)!Et(Wt[Jt],yt,st,!0)||(bt=Wt[Jt],Pt=j.getTime(),bt.startTime>=Pt&&bt.endTime<=Pt)||(Xt==="native"?Ke.removeCue(Wt[Jt]):(Ut(Wt[Jt]),delete Ke.manualCueList[Jt]))}}function Kt(Ke,yt,st){var bt=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(Ke&&(Ke.cues||Ke.manualCueList)){var Pt=Ke.cues&&Ke.cues.length>0?"native":"custom",Xt=Pt==="native"?Ke.cues:Ke.manualCueList;if(!Xt||Xt.length===0)return;for(var Wt=Xt.length-1,Jt=Wt;Jt>=0;Jt--)Et(Xt[Jt],yt,st,bt)&&(Pt==="native"?(Xt[Jt].onexit&&Xt[Jt].onexit(),Ke.removeCue(Xt[Jt])):(Ut(Xt[Jt]),delete Ke.manualCueList[Jt]))}}function Vt(){var Ke=document.getElementById("native-cue-style");if(!Ke){(Ke=document.createElement("style")).id="native-cue-style",document.head.appendChild(Ke);var yt=Ke.sheet,st=j.getElement();try{st&&(st.id?yt.insertRule("#"+st.id+"::cue {background: transparent}",0):st.classList.length!==0?yt.insertRule("."+st.className+"::cue {background: transparent}",0):yt.insertRule("video::cue {background: transparent}",0))}catch(bt){h.info(""+bt.message)}}}function gn(){var Ke=document.getElementById("native-cue-style");Ke&&document.head.removeChild(Ke)}function mn(){if(k)for(;k.firstChild;)k.removeChild(k.firstChild)}return c={initialize:function(){typeof window<"u"&&typeof navigator<"u"&&(I=window.VTTCue||window.TextTrackCue,P=[],O=[],w=-1,L=0,z=0,J=0,Q=0,k=null,W=null,K=null,ce=!1,_e=2147483647,me=null,ge="requestAnimationFrame"in window,document.fullscreenElement!==void 0?ve="fullscreenElement":document.webkitIsFullScreen!==void 0?ve="webkitIsFullScreen":document.msFullscreenElement?ve="msFullscreenElement":document.mozFullScreen&&(ve="mozFullScreen"))},getStreamId:function(){return B.id},addTextTrack:function(Ke){P.push(Ke)},addCaptions:Ue,createTracks:function(){var Ke=G.get().streaming.text.dispatchForManualRendering;P.sort(function(Qt,We){return Qt.index-We.index}),k=j.getTTMLRenderingDiv(),W=j.getVttRenderingDiv();for(var yt,st,bt,Pt,Xt,Wt,Jt=-1,an=0;an<P.length;an++){var pt=(st=(yt=P[an]).kind,bt=yt.id!==void 0?yt.id:yt.lang,Pt=yt.lang,Xt=yt.isTTML,Wt=yt.isEmbedded,j.addTextTrack(st,bt,Pt,Xt,Wt));O.push(pt),P[an].defaultTrack&&(pt.default=!0,Jt=an);var kt=qe(an);kt&&(kt.mode=o.Z.TEXT_SHOWING,k&&(P[an].isTTML||P[an].isEmbedded)?kt.renderingType="html":kt.renderingType="default"),Ue(an,0,P[an].captionData),T.trigger(r.Z.TEXT_TRACK_ADDED)}if(ht.call(this,Jt),Jt>=0){T.on(r.Z.PLAYBACK_METADATA_LOADED,function Qt(){var We=qe(Jt);We&&We.renderingType==="html"&&fe.call(this,We,!0),T.off(r.Z.PLAYBACK_METADATA_LOADED,Qt,this)},this);for(var jt=0;jt<P.length;jt++){var qt=qe(jt);qt&&(qt.mode=jt!==Jt||Ke?o.Z.TEXT_HIDDEN:o.Z.TEXT_SHOWING,qt.manualMode=jt===Jt?o.Z.TEXT_SHOWING:o.Z.TEXT_HIDDEN)}}T.trigger(f.Z.TEXT_TRACKS_QUEUE_INITIALIZED,{index:w,tracks:P,streamId:B.id})},getCurrentTrackIdx:function(){return w},setCurrentTrackIdx:ht,getTrackIdxForId:function(Ke){for(var yt=-1,st=0;st<P.length;st++)if(P[st].id===Ke){yt=st;break}return yt},getCurrentTrackInfo:function(){return P[w]},setModeForTrackIdx:function(Ke,yt){var st=qe(Ke);st&&st.mode!==yt&&(st.mode=yt),st&&st.manualMode!==yt&&(st.manualMode=yt)},deleteCuesFromTrackIdx:function(Ke,yt,st){var bt=qe(Ke);bt&&Kt(bt,yt,st)},deleteAllTextTracks:function(){for(var Ke=O?O.length:0,yt=0;yt<Ke;yt++){var st=qe(yt);st&&Kt.call(this,st,B.start,B.start+B.duration,!1)}O=[],P=[],K&&(clearInterval(K),K=null),X&&j&&(X.unobserve(j.getElement()),X=null),w=-1,mn.call(this)},manualCueProcessing:function(Ke){var yt=Ce();if(yt&&yt.length>0){var st=yt[0].manualCueList;st&&st.length>0&&st.forEach(function(bt){bt.startTime<=Ke&&bt.endTime>=Ke&&!bt.isActive?(bt.isActive=!0,G.get().streaming.text.dispatchForManualRendering?Ze(bt):WebVTT.processCues(window,[bt],W,bt.cueID)):bt.isActive&&(bt.startTime>Ke||bt.endTime<Ke)&&(bt.isActive=!1,G.get().streaming.text.dispatchForManualRendering?xe(bt):Ut(bt))})}},disableManualTracks:function(){var Ke=Ce();if(Ke&&Ke.length>0){var yt=Ke[0].manualCueList;yt&&yt.length>0&&yt.forEach(function(st){if(st.isActive){if(st.isActive=!1,G.get().streaming.text.dispatchForManualRendering)xe(st);else if(W)for(var bt=W.childNodes,Pt=0;Pt<bt.length;++Pt)bt[Pt].id===st.cueID&&(W.removeChild(bt[Pt]),--Pt)}})}}},h=(0,y.Z)(ye).getInstance().getLogger(c),c}rg.__dashjs_factory_name="TextTracks";var yv=R.Z.getClassFactory(rg);function ig(){var g,c,h,I,P,O,w=this.context;function L(k){var W=k.split(":"),K=W.length-1;return k=60*parseInt(W[K-1],10)+parseFloat(W[K]),K===2&&(k+=3600*parseInt(W[0],10)),k}function z(k){var W=k.split(I),K=W[1].split(O);return K.shift(),W[1]=K[0],K.shift(),{cuePoints:W,styles:J(K)}}function J(k){var W={};return k.forEach(function(K){if(K.split(/:/).length>1){var ve=K.split(/:/)[1],ce=!1;ve&&ve.search(/%/)!=-1&&(ce=!0,ve=parseInt(ve.replace(/%/,""),10)),(K.match(/align/)||K.match(/A/))&&(W.align=ve),(K.match(/line/)||K.match(/L/))&&(W.line=ve==="auto"?ve:parseInt(ve,10),ce&&(W.snapToLines=!1)),(K.match(/position/)||K.match(/P/))&&(W.position=ve),(K.match(/size/)||K.match(/S/))&&(W.size=ve)}}),W}function Q(k,W){for(var K,ve=W,ce="",me="";k[ve]!==""&&ve<k.length;)ve++;if((K=ve-W)>1)for(var _e=0;_e<K;_e++){if((me=k[W+_e]).match(I)){ce="";break}ce+=me,_e!==K-1&&(ce+=`
`)}else(me=k[W]).match(I)||(ce=me);return ce}return g={parse:function(k){var W,K,ve=[];if(!k)return ve;W=(k=k.split(h)).length,K=-1;for(var ce=0;ce<W;ce++){var me=k[ce];if(me.length>0&&me!=="WEBVTT"&&me.match(I)){var _e=z(me),X=_e.cuePoints,ge=_e.styles,ee=Q(k,ce+1),ye=L(X[0].replace(P,"")),T=L(X[1].replace(P,""));!isNaN(ye)&&!isNaN(T)&&ye>=K&&T>ye?ee!==""?(K=ye,ve.push({start:ye,end:T,data:ee,styles:ge})):c.error("Skipping cue due to empty/malformed cue text"):c.error("Skipping cue due to incorrect cue timing")}}return ve},getCaptionStyles:J},c=(0,y.Z)(w).getInstance().getLogger(g),h=/(?:\r\n|\r|\n)/gm,I=/-->/,P=/(^[\s]+|[\s]+$)/g,O=/\s\b/g,g}ig.__dashjs_factory_name="VTTParser";var vv=R.Z.getSingletonFactory(ig);function og(){var g,c;return g={parse:function(h){var I=[];return c.oncue=function(P){P.start=P.startTime,P.end=P.endTime,P.data=P.text,P.styles={align:P.align,line:P.line,position:P.position,size:P.size},I.push(P)},c.parse(h),I}},function(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(c=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),g}og.__dashjs_factory_name="VttCustomRenderingParser";var Ev=R.Z.getSingletonFactory(og);function ag(){var g,c,h=this.context,I=(0,E.Z)(h).getInstance(),P=0;return g={parse:function(O,w,L,z,J){var Q,k,W,K="",ve=[],ce={},me={},_e="",X="",ge={onOpenTag:function(B,G,D){if(D[" imagetype"]&&!D[" imageType"]&&(I.trigger(r.Z.CONFORMANCE_VIOLATION,{level:Fo.LEVELS.ERROR,event:Fo.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),D[" imageType"]=D[" imagetype"]),G==="image"&&(B==="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"||B==="http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt")){if(!D[" imageType"]||D[" imageType"].value!=="PNG")return void c.warn("smpte-tt imageType != PNG. Discarded");_e=D["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){_e&&(me[_e]=X.trim()),X="",_e=""},onText:function(B){_e&&(X+=B)}};if(!O)throw K="no ttml data to parse",new Error(K);ce.data=O,I.trigger(f.Z.TTML_TO_PARSE,ce);var ee=(0,Lu.fromXML)(ce.data,function(B){K=B},ge);I.trigger(f.Z.TTML_PARSED,{ttmlString:ce.data,ttmlDoc:ee});var ye,T=ee.getMediaTimeEvents();for(W=0;W<T.length;W++){var j=(0,Lu.generateISD)(ee,T[W],function(B){K=B});j.contents.some(function(B){return B.contents.length})&&(Q=T[W]+w)<(k=T[W+1]+w)&&ve.push({start:Q,end:k,type:"html",cueID:(ye="cue_TTML_"+P,P++,ye),isd:j,images:J,embeddedImages:me})}if(K!=="")throw c.error(K),new Error(K);return ve}},c=(0,y.Z)(h).getInstance().getLogger(g),g}ag.__dashjs_factory_name="TTMLParser";var _v=R.Z.getSingletonFactory(ag);function sg(g,c){var h=Object.keys(g);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(g);c&&(I=I.filter(function(P){return Object.getOwnPropertyDescriptor(g,P).enumerable})),h.push.apply(h,I)}return h}function lg(g){for(var c=1;c<arguments.length;c++){var h=arguments[c]!=null?arguments[c]:{};c%2?sg(Object(h),!0).forEach(function(I){Tv(g,I,h[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(h)):sg(Object(h)).forEach(function(I){Object.defineProperty(g,I,Object.getOwnPropertyDescriptor(h,I))})}return g}function Tv(g,c,h){return c in g?Object.defineProperty(g,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):g[c]=h,g}function ug(g,c){(c==null||c>g.length)&&(c=g.length);for(var h=0,I=new Array(c);h<c;h++)I[h]=g[h];return I}function cg(g){var c,h,I,P=this.context,O=(0,E.Z)(P).getInstance(),w=(0,tt.Z)(P).getInstance(),L=g.adapter,z=g.baseURLController;function J(W,K){var ve,ce,me=!1;if(z.resolve()){var _e=L.getVoRepresentations(W);_e&&_e.length>0&&(ve=z.resolve(_e[0].path).url)}var X=W.essentialPropertiesAsArray.filter(function(ee){return ee.schemeIdUri&&ee.schemeIdUri===o.Z.FONT_DOWNLOAD_DVB_SCHEME}),ge=W.supplementalPropertiesAsArray.filter(function(ee){return ee.schemeIdUri&&ee.schemeIdUri===o.Z.FONT_DOWNLOAD_DVB_SCHEME});X.length>0?(me=!0,ce=X):ce=ge,ce.forEach(function(ee){if(function(B){return!(!(B.value&&B.value==="1"&&B.dvbUrl&&B.dvbUrl.length>0&&B.dvbFontFamily&&B.dvbFontFamily.length>0&&B.dvbMimeType)||B.dvbMimeType!==o.Z.OFF_MIMETYPE&&B.dvbMimeType!==o.Z.WOFF_MIMETYPE)}(ee)){var ye=(T=ee.dvbUrl,j=ve,w.isPathAbsolute(T)?T:w.isRelative(T)?j?w.resolve(T,j):w.resolve(T):T);I.push({fontFamily:ee.dvbFontFamily,url:ye,mimeType:ee.dvbMimeType,trackId:W.id,streamId:K,isEssential:me,status:"unloaded",fontFace:new FontFace(ee.dvbFontFamily,"url(".concat(ye,")"),{display:"swap"})})}var T,j})}function Q(W,K){var ve=I[W];I[W]=lg(lg({},ve),{},{status:K})}function k(){I=[]}return c={addFontsFromTracks:function(W,K){if(W&&Array.isArray(W)&&K)for(var ve=0;ve<W.length;ve++)J(W[ve],K)},downloadFonts:function(){for(var W=function(ve){var ce=I[ve];document.fonts.add(ce.fontFace),O.trigger(r.Z.DVB_FONT_DOWNLOAD_ADDED,ce),ce.fontFace.load().then(function(){Q(ve,"loaded"),O.trigger(r.Z.DVB_FONT_DOWNLOAD_COMPLETE,ce)},function(me){Q(ve,"error"),h.debug("Font download error: ",me),O.trigger(r.Z.DVB_FONT_DOWNLOAD_FAILED,ce)})},K=0;K<I.length;K++)W(K)},getFonts:function(){return I},getFontsForTrackId:function(W){return I.filter(function(K){return K.trackId&&K.trackId===W})},reset:function(){(function(){var W,K=function(me,_e){var X;if(typeof Symbol>"u"||me[Symbol.iterator]==null){if(Array.isArray(me)||(X=function(B,G){if(B){if(typeof B=="string")return ug(B,G);var D=Object.prototype.toString.call(B).slice(8,-1);return D==="Object"&&B.constructor&&(D=B.constructor.name),D==="Map"||D==="Set"?Array.from(B):D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D)?ug(B,G):void 0}}(me))||_e){X&&(me=X);var ge=0,ee=function(){};return{s:ee,n:function(){return ge>=me.length?{done:!0}:{done:!1,value:me[ge++]}},e:function(B){throw B},f:ee}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ye,T=!0,j=!1;return{s:function(){X=me[Symbol.iterator]()},n:function(){var B=X.next();return T=B.done,B},e:function(B){j=!0,ye=B},f:function(){try{T||X.return==null||X.return()}finally{if(j)throw ye}}}}(I);try{for(K.s();!(W=K.n()).done;){var ve=W.value,ce=document.fonts.delete(ve.fontFace);h.debug("Removal of fontFamily: ".concat(ve.fontFamily," was ").concat(ce?"successful":"unsuccessful"))}}catch(me){K.e(me)}finally{K.f()}})(),k()}},h=(0,y.Z)(P).getInstance().getLogger(c),k(),c}cg.__dashjs_factory_name="DVBFonts";var Sv=R.Z.getClassFactory(cg);function fg(g){var c,h,I,P,O,w,L,z,J,Q,k,W,K,ve,ce=this.context,me=g.adapter,_e=g.errHandler,X=g.manifestModel,ge=g.mediaController,ee=g.baseURLController,ye=g.videoModel,T=g.settings;function j(le){if(ve.error("Could not download ".concat(le.isEssential?"an essential":"a"," font - fontFamily: ").concat(le.fontFamily,", url: ").concat(le.url)),le.isEssential){var Se=P[le.streamId].getTrackIdxForId(le.trackId);P[le.streamId].setModeForTrackIdx(Se,o.Z.TEXT_DISABLED)}}function B(le){if(ve.debug("Successfully downloaded ".concat(le.isEssential?"an essential":"a"," font - fontFamily: ").concat(le.fontFamily,", url: ").concat(le.url)),le.isEssential){var Se=P[le.streamId].getTrackIdxForId(le.trackId);Se===P[le.streamId].getCurrentTrackIdx()?P[le.streamId].setModeForTrackIdx(Se,o.Z.TEXT_SHOWING):P[le.streamId].setModeForTrackIdx(Se,o.Z.TEXT_HIDDEN)}}function G(le){var Se=le.tracks,Ue=le.index,Oe=le.streamId;if(T.get().streaming.text.defaultEnabled===!1&&!ie()||W)pe(Oe,-1);else{var Ze=ge.getCurrentTrackFor(o.Z.TEXT,Oe);if(Ze){var xe={lang:Ze.lang,role:Ze.roles[0],index:Ze.index,codec:Ze.codec,accessibility:Ze.accessibility[0]};Se.some(function(lt,ut){if(ge.matchSettings(xe,lt))return pe(Oe,ut),Ue=ut,!0})}J=!1}h[Oe].lastEnabledIndex=Ue,z.trigger(r.Z.TEXT_TRACKS_ADDED,{enabled:ie(),index:Ue,tracks:Se,streamId:Oe}),k=!0,K.addFontsFromTracks(Se,Oe),K.getFonts().forEach(function(lt){if(lt.isEssential){var ut=P[lt.streamId].getTrackIdxForId(lt.trackId);P[lt.streamId].setModeForTrackIdx(ut,o.Z.TEXT_DISABLED)}}),K.downloadFonts()}function D(le){try{var Se=le.streamId;if(!P[Se]||isNaN(le.time))return;P[Se].manualCueProcessing(le.time)}catch{}}function fe(le){try{var Se=le.streamId;if(!P[Se])return;P[Se].disableManualTracks()}catch{}}function ie(){var le=!0;return J&&!Q&&(le=!1),le}function pe(le,Se){(J=Se===-1)&&ge&&ge.saveTextSettingsDisabled();var Ue=se(le);if(Ue!==Se&&P[le]){P[le].disableManualTracks();var Oe=P[le].getCurrentTrackInfo(),Ze=Oe?ye.getTextTrack(Oe.kind,Oe.id,Oe.lang,Oe.isTTML,Oe.isEmbedded):null;Ze&&Ze.mode!==o.Z.TEXT_DISABLED&&P[le].setModeForTrackIdx(Ue,o.Z.TEXT_HIDDEN),P[le].setCurrentTrackIdx(Se),Oe=P[le].getCurrentTrackInfo();var xe=T.get().streaming.text.dispatchForManualRendering;Oe&&!xe&&Oe.mode!==o.Z.TEXT_DISABLED&&P[le].setModeForTrackIdx(Se,o.Z.TEXT_SHOWING),Oe&&Oe.isFragmented&&!Oe.isEmbedded?function(lt,ut,rt){if(I[lt])for(var it=I[lt].getConfig().fragmentedTracks,Ut=0;Ut<it.length;Ut++){var Ce=it[Ut];if(ut.lang===Ce.lang&&(Ce.id?ut.id===Ce.id:ut.index===Ce.index)){var qe=ge.getCurrentTrackFor(o.Z.TEXT,lt);(Ce.id?qe.id!==Ce.id:qe.index!==Ce.index)?(P[lt].deleteCuesFromTrackIdx(rt),I[lt].setCurrentFragmentedTrackIdx(Ut)):rt===-1&&z.trigger(f.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:lt,mediaType:o.Z.TEXT})}}}(le,Oe,Ue):Oe&&!Oe.isFragmented&&function(lt,ut){z.trigger(f.Z.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:ut},{streamId:lt,mediaType:o.Z.TEXT})}(le,Oe),ge.setTrack(Oe)}}function se(le){return P[le].getCurrentTrackIdx()}function V(){I={},P={},h={},J=!0,k=!1,W=!1}return c={deactivateStream:function(le){if(le){var Se=le.id;I[Se]&&I[Se].resetMediaInfos(),P[Se]&&P[Se].deleteAllTextTracks()}},initialize:function(){K=Sv(ce).create({adapter:me,baseURLController:ee}),z.on(f.Z.TEXT_TRACKS_QUEUE_INITIALIZED,G,c),z.on(f.Z.DVB_FONT_DOWNLOAD_FAILED,j,c),z.on(f.Z.DVB_FONT_DOWNLOAD_COMPLETE,B,c),T.get().streaming.text.webvtt.customRenderingEnabled&&(z.on(f.Z.PLAYBACK_TIME_UPDATED,D,c),z.on(f.Z.PLAYBACK_SEEKING,fe,c))},initializeForStream:function(le){var Se=le.id,Ue=yv(ce).create({videoModel:ye,settings:T,streamInfo:le});Ue.initialize(),P[Se]=Ue;var Oe=hv(ce).create({errHandler:_e,adapter:me,dvbFonts:K,manifestModel:X,mediaController:ge,videoModel:ye,textTracks:Ue,vttParser:O,vttCustomRenderingParser:w,ttmlParser:L,streamInfo:le,settings:T});Oe.initialize(),I[Se]=Oe,h[Se]={},h[Se].lastEnabledIndex=-1},createTracks:function(le){var Se=le.id;P[Se]&&P[Se].createTracks()},getTextSourceBuffer:function(le){var Se=le.id;if(I&&I[Se])return I[Se]},getAllTracksAreDisabled:function(){return J},addEmbeddedTrack:function(le,Se){var Ue=le.id;I[Ue]&&I[Ue].addEmbeddedTrack(Se)},enableText:function(le,Se){return(0,re.PS)(Se,"boolean"),ie()!==Se&&(Se&&pe(le,h[le].lastEnabledIndex),Se||(h[le].lastEnabledIndex=se(le),k?pe(le,-1):W=!0)),!0},isTextEnabled:ie,setTextTrack:pe,getCurrentTrackIdx:se,enableForcedTextStreaming:function(le){return(0,re.PS)(le,"boolean"),Q=le,!0},addMediaInfosToBuffer:function(le,Se,Ue){var Oe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,Ze=le.id;I[Ze]&&I[Ze].addMediaInfos(Se,Ue,Oe)},reset:function(){K.reset(),V(),z.off(f.Z.TEXT_TRACKS_QUEUE_INITIALIZED,G,c),z.off(f.Z.DVB_FONT_DOWNLOAD_FAILED,j,c),z.off(f.Z.DVB_FONT_DOWNLOAD_COMPLETE,B,c),T.get().streaming.text.webvtt.customRenderingEnabled&&(z.off(f.Z.PLAYBACK_TIME_UPDATED,D,c),z.off(f.Z.PLAYBACK_SEEKING,fe,c)),Object.keys(I).forEach(function(le){I[le].resetEmbedded(),I[le].reset()})}},Q=!1,k=!1,W=!1,O=vv(ce).getInstance(),w=Ev(ce).getInstance(),L=_v(ce).getInstance(),z=(0,E.Z)(ce).getInstance(),ve=(0,y.Z)(ce).getInstance().getLogger(c),V(),c}fg.__dashjs_factory_name="TextController";var Av=R.Z.getClassFactory(fg);function xu(){var g,c,h,I,P,O,w,L,z,J,Q,k,W,K,ve,ce,me,_e,X,ge,ee,ye,T,j,B,G,D,fe,ie,pe,se,V,le,Se,Ue,Oe,Ze,xe,lt,ut="You must first call initialize() and set a source before calling this method",rt="You must first call initialize() and set a valid source and view before calling this method",it="You must first call attachView() to set the video element before calling this method",Ut="You must first call attachSource() with a valid source before calling this method",Ce="MediaPlayer not initialized!",qe=this.context,ht=(0,E.Z)(qe).getInstance(),Xe=(0,we.Z)(qe).getInstance(),_t=(0,y.Z)(qe).getInstance({settings:Xe});function Et(){an(null),Wt(null),I=null,K&&(K.reset(),K=null),ve&&(ve.reset(),ve=null),ge&&ge.reset(),Xe.reset(),me&&(me.reset(),me=null)}function gt(){return!!h&&!!Oe.getElement()}function Kt(){return(0,Uy.e)()}function Vt(){if(!w)throw rt;return fe.isPaused()}function gn(){if(!w)throw rt;return fe.getIsDynamic()}function mn(Ee){var be=B&&B.hasVideoTrack()?o.Z.VIDEO:o.Z.AUDIO,Je=V.getCurrentDVRInfo(be);if(!Je)return 0;var Nt=fe.getOriginalLiveDelay(),Lt=Je.range.start+Ee;return Lt>Je.range.end-Nt&&(Lt=Je.range.end-Nt),Lt}function Ke(Ee){if(!w)throw rt;var be=Xt().currentTime;if(Ee!==void 0)be=B.getTimeRelativeToStreamId(be,Ee);else if(fe.getIsDynamic()){var Je=B&&B.hasVideoTrack()?o.Z.VIDEO:o.Z.AUDIO,Nt=V.getCurrentDVRInfo(Je);be=Nt===null||be===0?0:Math.max(0,be-Nt.range.start)}return be}function yt(){if(!w)throw rt;var Ee=Xt().duration;if(fe.getIsDynamic()){var be=B&&B.hasVideoTrack()?o.Z.VIDEO:o.Z.AUDIO,Je=V.getCurrentDVRInfo(be);Ee=Je?Je.range.end-Je.range.start:0}return Ee}function st(Ee){(0,re.PS)(Ee,"boolean"),L=Ee}function bt(){ge.restoreDefaultUTCTimingSources()}function Pt(){return V}function Xt(){if(!Oe.getElement())throw it;return Oe.getElement()}function Wt(Ee){if(!P)throw Ce;Oe.setElement(Ee),Ee&&(Qt(),function(){if(!ve){var be=dashjs.MetricsReporting;if(typeof be=="function"){var Je=be(qe).create();ve=Je.createMetricsReporting({debug:_t,eventBus:ht,mediaElement:Xt(),adapter:_e,dashMetrics:V,mediaPlayerModel:X,events:f.Z,constants:o.Z,metricsConstants:_.Z})}}}(),function(){if(!ce){var be=dashjs.MssHandler;typeof be=="function"&&(ae.extend(be.errors),ce=be(qe).create({eventBus:ht,mediaPlayerModel:X,dashMetrics:V,manifestModel:le,playbackController:fe,streamController:B,protectionController:K,baseURLController:ye,errHandler:ee,events:f.Z,constants:o.Z,debug:_t,initSegmentType:Me.w.INIT_SEGMENT_TYPE,BASE64:Ou,ISOBoxer:xs,settings:Xe}))}}(),B&&B.switchToVideoElement(z)),w&&kt(),ct(z)}function Jt(Ee){if(!O)throw ut;var be=B.getActiveStreamInfo();return be?W.getTracksFor(Ee,be.id):[]}function an(Ee){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;if(!P)throw Ce;typeof Ee=="string"&&Ze.initialize(Ee),be==null&&(be=NaN),isNaN(be)||(be=Math.max(0,be)),z=be,h=Ee,(O||w)&&kt(),gt()&&ct(z)}function pt(){if(!O)throw ut;var Ee=B.getActiveStreamInfo();return Ee?B.getStreamById(Ee.id):null}function kt(){w=!1,O=!1,_e.reset(),B.reset(),D.reset(),se.reset(),fe.reset(),ie.reset(),pe.reset(),J.reset(),W.reset(),lt.reset(),K&&(Xe.get().streaming.protection.keepProtectionMediaKeys?K.stop():(K.reset(),K=null,Qt())),G.reset(),Se.reset(),Ue.reset()}function jt(){var Ee=qt();B||(B=ed(qe).getInstance()),G||(G=Av(qe).create({errHandler:ee,manifestModel:le,adapter:_e,mediaController:W,baseURLController:ye,videoModel:Oe,settings:Xe})),j.setConfig({capabilities:T,customParametersModel:ge,adapter:_e,settings:Xe,manifestModel:le,errHandler:ee}),B.setConfig({capabilities:T,capabilitiesFilter:j,manifestLoader:Ee,manifestModel:le,mediaPlayerModel:X,customParametersModel:ge,protectionController:K,textController:G,adapter:_e,dashMetrics:V,errHandler:ee,timelineConverter:k,videoModel:Oe,playbackController:fe,serviceDescriptionController:ie,contentSteeringController:pe,abrController:J,mediaController:W,settings:Xe,baseURLController:ye,uriFragmentModel:Ze,segmentBaseController:lt}),D.setConfig({settings:Xe,playbackController:fe,streamController:B,videoModel:Oe,timelineConverter:k,adapter:_e}),fe.setConfig({streamController:B,serviceDescriptionController:ie,dashMetrics:V,adapter:_e,videoModel:Oe,timelineConverter:k,settings:Xe}),se.setConfig({streamController:B,playbackController:fe,mediaPlayerModel:X,videoModel:Oe,settings:Xe}),J.setConfig({streamController:B,domStorage:xe,mediaPlayerModel:X,customParametersModel:ge,cmsdModel:Ue,dashMetrics:V,adapter:_e,videoModel:Oe,settings:Xe}),Se.setConfig({abrController:J,dashMetrics:V,playbackController:fe}),Ue.setConfig({}),J.initialize(),B.initialize(L,I),G.initialize(),D.initialize(),se.initialize(),Se.initialize(),Ue.initialize(),pe.initialize(),lt.initialize()}function qt(){return Sy(qe).create({debug:_t,errHandler:ee,dashMetrics:V,mediaPlayerModel:X,requestModifier:(0,De.Z)(qe).getInstance(),mssHandler:ce,settings:Xe})}function Qt(){if(K)return K;var Ee=dashjs.Protection;if(typeof Ee=="function"){var be=Ee(qe).create();return f.Z.extend(Ee.events),r.Z.extend(Ee.events,{publicOnly:!0}),ae.extend(Ee.errors),T||(T=(0,Id.Z)(qe).getInstance()),K=be.createProtectionSystem({debug:_t,errHandler:ee,videoModel:Oe,customParametersModel:ge,capabilities:T,eventBus:ht,events:f.Z,BASE64:Ou,constants:o.Z,cmcdModel:Se,settings:Xe})}return null}function We(){if(!P)throw Ce;if(me)return me;var Ee=dashjs.OfflineController;if(typeof Ee=="function"){f.Z.extend(Ee.events),r.Z.extend(Ee.events,{publicOnly:!0}),ae.extend(Ee.errors);var be=qt(),Je=Qf(qe).create();return Je.setConfig({manifestModel:le,adapter:_e,manifestLoader:be,errHandler:ee,contentSteeringController:pe}),me=Ee(qe).create({debug:_t,manifestUpdater:Je,baseURLController:ye,manifestLoader:be,manifestModel:le,mediaPlayerModel:X,abrController:J,playbackController:fe,adapter:_e,errHandler:ee,dashMetrics:V,timelineConverter:k,segmentBaseController:lt,schemeLoaderFactory:Q,eventBus:ht,events:f.Z,errors:ae,constants:o.Z,settings:Xe,dashConstants:i.Z,urlUtils:(0,tt.Z)(qe).getInstance()})}return null}function ke(Ee){var be=B&&B.hasVideoTrack()?o.Z.VIDEO:o.Z.AUDIO,Je=V.getCurrentDVRInfo(be);return Je?Ee+(Je.manifestInfo.availableFrom.getTime()/1e3+Je.range.start):0}function ct(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NaN;me&&me.resetRecords(),!O&&h&&(O=!0,c.info("Streaming Initialized"),jt(),typeof h=="string"?B.load(h,Ee):B.loadWithManifest(h,Ee)),!w&&gt()&&(w=!0,c.info("Playback Initialized"))}return g={initialize:function(Ee,be,Je){var Nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:NaN;T||(T=(0,Id.Z)(qe).getInstance()).setConfig({settings:Xe}),ee||(ee=Ay(qe).getInstance()),T.supportsMediaSource()?(P||(P=!0,k=cv(qe).getInstance(),J||(J=Py(qe).getInstance()).setConfig({settings:Xe}),Q||(Q=nr(qe).getInstance()),fe||(fe=p(qe).getInstance()),W||(W=zm(qe).getInstance()),B||(B=ed(qe).getInstance()),D||(D=Bm(qe).getInstance()),se||(se=Gm(qe).getInstance()),ie||(ie=qm(qe).getInstance()),pe||(pe=ei(qe).getInstance()),j||(j=wy(qe).getInstance()),_e=Ky(qe).getInstance(),le=Ry(qe).getInstance(),Se=hn(qe).getInstance(),Ue=xt(qe).getInstance(),V=uv(qe).getInstance({settings:Xe}),xe=Fy(qe).getInstance({settings:Xe}),_e.setConfig({constants:o.Z,cea608parser:A(),errHandler:ee,BASE64:Ou}),ye||(ye=Xm(qe).create()),ye.setConfig({adapter:_e,contentSteeringController:pe}),ie.setConfig({adapter:_e}),lt||(lt=Gy(qe).getInstance({dashMetrics:V,mediaPlayerModel:X,errHandler:ee,baseURLController:ye,events:f.Z,eventBus:ht,debug:_t,boxParser:(0,va.Z)(qe).getInstance(),requestModifier:(0,De.Z)(qe).getInstance(),errors:ae})),W.setConfig({domStorage:xe,settings:Xe,customParametersModel:ge}),X.setConfig({playbackController:fe,serviceDescriptionController:ie}),pe.setConfig({adapter:_e,errHandler:ee,dashMetrics:V,mediaPlayerModel:X,manifestModel:le,serviceDescriptionController:ie,eventBus:ht,requestModifier:(0,De.Z)(qe).getInstance()}),bt(),st(Je===void 0||Je),We()),Ee&&Wt(Ee),be&&an(be,Nt),c.info("[dash.js "+Kt()+"] MediaPlayer has been initialized")):ee.error(new de.Z(ae.CAPABILITY_MEDIASOURCE_ERROR_CODE,ae.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function(Ee){Ee&&(Ee.capabilities&&(T=Ee.capabilities),Ee.capabilitiesFilter&&(j=Ee.capabilitiesFilter),Ee.streamController&&(B=Ee.streamController),Ee.textController&&(G=Ee.textController),Ee.gapController&&(D=Ee.gapController),Ee.playbackController&&(fe=Ee.playbackController),Ee.serviceDescriptionController&&(ie=Ee.serviceDescriptionController),Ee.contentSteeringController&&(pe=Ee.contentSteeringController),Ee.catchupController&&(se=Ee.catchupController),Ee.mediaPlayerModel&&(X=Ee.mediaPlayerModel),Ee.customParametersModel&&(ge=Ee.customParametersModel),Ee.abrController&&(J=Ee.abrController),Ee.schemeLoaderFactory&&(Q=Ee.schemeLoaderFactory),Ee.mediaController&&(W=Ee.mediaController),Ee.settings&&(Xe=Ee.settings))},on:function(Ee,be,Je,Nt){ht.on(Ee,be,Je,Nt)},off:function(Ee,be,Je){ht.off(Ee,be,Je)},extend:function(Ee,be,Je){R.Z.extend(Ee,be,Je,qe)},attachView:Wt,attachSource:an,refreshManifest:function(Ee){if(!P)throw Ce;if(!gt())return Ee(null,Ut);var be=this;typeof Ee=="function"&&ht.on(f.Z.INTERNAL_MANIFEST_LOADED,function Je(Nt){ht.off(f.Z.INTERNAL_MANIFEST_LOADED,Je,be),Nt.error?Ee(null,Nt.error):Ee(Nt.manifest)},be),B.refreshManifest()},isReady:gt,preload:function(){if(!Oe.getElement()&&!O){if(!h)throw Ut;ct(z)}},play:function(){if(!w)throw rt;(!L||Vt()&&w)&&fe.play(!0)},isPaused:Vt,pause:function(){if(!w)throw rt;fe.pause()},isSeeking:function(){if(!w)throw rt;return fe.isSeeking()},isDynamic:gn,getLowLatencyModeEnabled:function(){if(!w)throw rt;return fe.getLowLatencyModeEnabled()},seek:function(Ee){if(!w)throw rt;if((0,re.PS)(Ee,"number"),isNaN(Ee))throw o.Z.BAD_ARGUMENT_ERROR;Ee<0&&(Ee=0);var be=fe.getIsDynamic()?mn(Ee):Ee,Je=Xt();!fe.getIsDynamic()&&Je.duration&&(be=Math.min(Je.duration,be)),fe.seek(be,!1,!1,!0)},seekToOriginalLive:function(){w&&gn()&&fe.seekToOriginalLive()},setPlaybackRate:function(Ee){Xt().playbackRate=Ee},getPlaybackRate:function(){return Xt().playbackRate},setMute:function(Ee){(0,re.PS)(Ee,"boolean"),Xt().muted=Ee},isMuted:function(){return Xt().muted},setVolume:function(Ee){if(typeof Ee!="number"||isNaN(Ee)||Ee<0||Ee>1)throw o.Z.BAD_ARGUMENT_ERROR;Xt().volume=Ee},getVolume:function(){return Xt().volume},time:Ke,duration:yt,timeAsUTC:function(){if(!w)throw rt;return Ke()<0?NaN:ke(Ke())},durationAsUTC:function(){if(!w)throw rt;return ke(yt())},getActiveStream:pt,getDVRWindowSize:function(){var Ee=B&&B.hasVideoTrack()?o.Z.VIDEO:o.Z.AUDIO,be=V.getCurrentDVRInfo(Ee);return be?be.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:mn,getAvailableBaseUrls:function(){var Ee=le.getValue();return Ee?ye.getBaseUrls(Ee):[]},getAvailableLocations:function(){var Ee=le.getValue();if(!Ee)return[];var be=_e.getLocation(Ee),Je=pe.getSynthesizedLocationElements(be);return be.concat(Je)},getTargetLiveDelay:function(){if(!w)throw rt;return fe.getOriginalLiveDelay()},convertToTimeCode:function(Ee){Ee=Math.max(Ee,0);var be=Math.floor(Ee/3600),Je=Math.floor(Ee%3600/60),Nt=Math.floor(Ee%3600%60);return(be===0?"":be<10?"0"+be.toString()+":":be.toString()+":")+(Je<10?"0"+Je.toString():Je.toString())+":"+(Nt<10?"0"+Nt.toString():Nt.toString())},formatUTC:function(Ee,be,Je){var Nt=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Lt=new Date(1e3*Ee),yn=Lt.toLocaleDateString(be),xn=Lt.toLocaleTimeString(be,{hour12:Je});return Nt?xn+" "+yn:xn},getVersion:Kt,getDebug:function(){return _t},getBufferLength:function(Ee){var be=[o.Z.VIDEO,o.Z.AUDIO,o.Z.TEXT];if(Ee)return be.indexOf(Ee)!==-1?Pt().getCurrentBufferLevel(Ee)||NaN:(c.warn("getBufferLength requested for invalid type"),NaN);var Je=be.map(function(Nt){return Jt(Nt).length>0?Pt().getCurrentBufferLevel(Nt):Number.MAX_VALUE}).reduce(function(Nt,Lt){return Math.min(Nt,Lt)});return Je===Number.MAX_VALUE?NaN:Je},getTTMLRenderingDiv:function(){return Oe?Oe.getTTMLRenderingDiv():null},getVideoElement:Xt,getSource:function(){if(!h)throw Ut;return h},updateSource:function(Ee){h=Ee,B.load(h)},getCurrentLiveLatency:function(){if(!P)throw Ce;return w?fe.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function(Ee){if(!O)throw ut;return J.getTopBitrateInfoFor(Ee)},setAutoPlay:st,getAutoPlay:function(){return L},getDashMetrics:Pt,getQualityFor:function(Ee){if(!O)throw ut;if(Ee===o.Z.IMAGE){var be=pt();if(!be)return-1;var Je=be.getThumbnailController();return Je?Je.getCurrentTrackIndex():-1}return J.getQualityFor(Ee)},setQualityFor:function(Ee,be){var Je=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!O)throw ut;if(Ee===o.Z.IMAGE){var Nt=pt();if(!Nt)return;var Lt=Nt.getThumbnailController();Lt&&Lt.setTrackByIndex(be)}J.setPlaybackQuality(Ee,B.getActiveStreamInfo(),be,{forceReplace:Je})},updatePortalSize:function(){J.setElementSize(),J.setWindowResizeEventCalled(!0)},enableText:function(Ee){var be=B.getActiveStreamInfo();return!(!be||!G)&&G.enableText(be.id,Ee)},enableForcedTextStreaming:function(Ee){return!(!B.getActiveStreamInfo()||!G)&&G.enableForcedTextStreaming(Ee)},isTextEnabled:function(){var Ee=B.getActiveStreamInfo();return!(!Ee||!G)&&G.isTextEnabled(Ee)},setTextTrack:function(Ee){if(!w)throw rt;var be=B.getActiveStreamInfo();be&&G&&G.setTextTrack(be.id,Ee)},getBitrateInfoListFor:function(Ee){if(!O)throw ut;var be=pt();return be?be.getBitrateListFor(Ee):[]},getStreamsFromManifest:function(Ee){if(!O)throw ut;return _e.getStreamsInfo(Ee)},getTracksFor:Jt,getTracksForTypeFromManifest:function(Ee,be,Je){if(!O)throw ut;return(Je=Je||_e.getStreamsInfo(be,1)[0])?_e.getAllMediaInfoForType(Je,Ee,be):[]},getCurrentTrackFor:function(Ee){if(!O)throw ut;var be=B.getActiveStreamInfo();return W.getCurrentTrackFor(Ee,be.id)},setInitialMediaSettingsFor:function(Ee,be){if(!P)throw Ce;W.setInitialSettings(Ee,be)},getInitialMediaSettingsFor:function(Ee){if(!P)throw Ce;return W.getInitialSettings(Ee)},setCurrentTrack:function(Ee){var be=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!O)throw ut;W.setTrack(Ee,be)},addABRCustomRule:function(Ee,be,Je){ge.addAbrCustomRule(Ee,be,Je)},removeABRCustomRule:function(Ee){ge.removeAbrCustomRule(Ee)},removeAllABRCustomRule:function(){ge.removeAllAbrCustomRule()},getABRCustomRules:function(){return ge.getAbrCustomRules()},getAverageThroughput:function(Ee){var be=J.getThroughputHistory(),Je=fe.getIsDynamic();return be?be.getAverageThroughput(Ee,Je):0},retrieveManifest:function(Ee,be){var Je=qt(),Nt=this;ht.on(f.Z.INTERNAL_MANIFEST_LOADED,function Lt(yn){yn.error?be(null,yn.error):be(yn.manifest),ht.off(f.Z.INTERNAL_MANIFEST_LOADED,Lt,Nt),Je.reset()},Nt),Ze.initialize(Ee),Je.load(Ee)},addUTCTimingSource:function(Ee,be){ge.addUTCTimingSource(Ee,be)},removeUTCTimingSource:function(Ee,be){ge.removeUTCTimingSource(Ee,be)},clearDefaultUTCTimingSources:function(){ge.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:bt,setXHRWithCredentialsForType:function(Ee,be){ge.setXHRWithCredentialsForType(Ee,be)},getXHRWithCredentialsForType:function(Ee){return ge.getXHRWithCredentialsForType(Ee)},getProtectionController:function(){return Qt()},attachProtectionController:function(Ee){K=Ee},setProtectionData:function(Ee){I=Ee,B&&B.setProtectionData(I)},registerLicenseRequestFilter:function(Ee){ge.registerLicenseRequestFilter(Ee)},registerLicenseResponseFilter:function(Ee){ge.registerLicenseResponseFilter(Ee)},unregisterLicenseRequestFilter:function(Ee){ge.unregisterLicenseRequestFilter(Ee)},unregisterLicenseResponseFilter:function(Ee){ge.unregisterLicenseResponseFilter(Ee)},registerCustomCapabilitiesFilter:function(Ee){ge.registerCustomCapabilitiesFilter(Ee)},unregisterCustomCapabilitiesFilter:function(Ee){ge.unregisterCustomCapabilitiesFilter(Ee)},setCustomInitialTrackSelectionFunction:function(Ee){ge.setCustomInitialTrackSelectionFunction(Ee)},resetCustomInitialTrackSelectionFunction:function(){ge.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function(Ee){if(!Oe.getElement())throw it;Oe.setTTMLRenderingDiv(Ee)},attachVttRenderingDiv:function(Ee){if(!Oe.getElement())throw it;Oe.setVttRenderingDiv(Ee)},getCurrentTextTrackIndex:function(){var Ee=B.getActiveStreamInfo();if(Ee&&G)return G.getCurrentTrackIdx(Ee.id)},provideThumbnail:function(Ee,be){if(typeof be=="function")if(Ee<0)be(null);else{var Je=fe.getIsDynamic()?mn(Ee):Ee,Nt=B.getStreamForTime(Je);if(Nt!==null){var Lt=Nt.getThumbnailController();if(Lt)return Lt.provide(Je,be);be(null)}else be(null)}},getDashAdapter:function(){return _e},getOfflineController:function(){return We()},triggerSteeringRequest:function(){if(pe)return pe.loadSteeringData()},getCurrentSteeringResponseData:function(){if(pe)return pe.getCurrentSteeringResponseData()},getSettings:function(){return Xe.get()},updateSettings:function(Ee){Xe.update(Ee)},resetSettings:function(){Xe.reset()},reset:Et,destroy:function(){Et(),R.Z.deleteSingletonInstances(qe)}},c=_t.getLogger(g),P=!1,w=!1,O=!1,L=!0,z=NaN,K=null,me=null,I=null,_e=null,lt=null,f.Z.extend(r.Z),X=Ny(qe).getInstance(),ge=(0,Kn.Z)(qe).getInstance(),Oe=xy(qe).getInstance(),Ze=by(qe).getInstance(),g}xu.__dashjs_factory_name="MediaPlayer";var Fs=R.Z.getClassFactory(xu);Fs.events=r.Z,Fs.errors=ae,R.Z.updateClassFactory(xu.__dashjs_factory_name,Fs);var wv=Fs},8825:function(Z,H,S){function Y(E){return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},Y(E)}function A(E,f){return A=Object.setPrototypeOf||function(R,y){return R.__proto__=y,R},A(E,f)}function o(E,f){return!f||Y(f)!=="object"&&typeof f!="function"?function(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(E):f}function i(E){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},i(E)}var _=new(function(E){(function(l,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(p&&p.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),p&&A(l,p)})(r,E);var f,R,y=(f=r,R=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var l,p=i(f);if(R){var N=i(this).constructor;l=Reflect.construct(p,arguments,N)}else l=p.apply(this,arguments);return o(this,l)});function r(){var l;return function(p,N){if(!(p instanceof N))throw new TypeError("Cannot call a class as a function")}(this,r),(l=y.call(this)).AST_IN_FUTURE="astInFuture",l.BASE_URLS_UPDATED="baseUrlsUpdated",l.BUFFER_EMPTY="bufferStalled",l.BUFFER_LOADED="bufferLoaded",l.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",l.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",l.DVB_FONT_DOWNLOAD_ADDED="dvbFontDownloadAdded",l.DVB_FONT_DOWNLOAD_COMPLETE="dvbFontDownloadComplete",l.DVB_FONT_DOWNLOAD_FAILED="dvbFontDownloadFailed",l.DYNAMIC_TO_STATIC="dynamicToStatic",l.ERROR="error",l.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",l.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",l.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",l.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",l.LOG="log",l.MANIFEST_LOADING_STARTED="manifestLoadingStarted",l.MANIFEST_LOADING_FINISHED="manifestLoadingFinished",l.MANIFEST_LOADED="manifestLoaded",l.METRICS_CHANGED="metricsChanged",l.METRIC_CHANGED="metricChanged",l.METRIC_ADDED="metricAdded",l.METRIC_UPDATED="metricUpdated",l.PERIOD_SWITCH_STARTED="periodSwitchStarted",l.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",l.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",l.QUALITY_CHANGE_RENDERED="qualityChangeRendered",l.TRACK_CHANGE_RENDERED="trackChangeRendered",l.STREAM_INITIALIZING="streamInitializing",l.STREAM_UPDATED="streamUpdated",l.STREAM_ACTIVATED="streamActivated",l.STREAM_DEACTIVATED="streamDeactivated",l.STREAM_INITIALIZED="streamInitialized",l.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",l.TEXT_TRACKS_ADDED="allTextTracksAdded",l.TEXT_TRACK_ADDED="textTrackAdded",l.CUE_ENTER="cueEnter",l.CUE_EXIT="cueExit",l.THROUGHPUT_MEASUREMENT_STORED="throughputMeasurementStored",l.TTML_PARSED="ttmlParsed",l.TTML_TO_PARSE="ttmlToParse",l.CAPTION_RENDERED="captionRendered",l.CAPTION_CONTAINER_RESIZE="captionContainerResize",l.CAN_PLAY="canPlay",l.CAN_PLAY_THROUGH="canPlayThrough",l.PLAYBACK_ENDED="playbackEnded",l.PLAYBACK_ERROR="playbackError",l.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",l.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",l.PLAYBACK_LOADED_DATA="playbackLoadedData",l.PLAYBACK_PAUSED="playbackPaused",l.PLAYBACK_PLAYING="playbackPlaying",l.PLAYBACK_PROGRESS="playbackProgress",l.PLAYBACK_RATE_CHANGED="playbackRateChanged",l.PLAYBACK_SEEKED="playbackSeeked",l.PLAYBACK_SEEKING="playbackSeeking",l.PLAYBACK_STALLED="playbackStalled",l.PLAYBACK_STARTED="playbackStarted",l.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",l.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",l.PLAYBACK_WAITING="playbackWaiting",l.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",l.EVENT_MODE_ON_START="eventModeOnStart",l.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",l.CONFORMANCE_VIOLATION="conformanceViolation",l.REPRESENTATION_SWITCH="representationSwitch",l.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",l.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",l.INBAND_PRFT="inbandPrft",l.MANAGED_MEDIA_SOURCE_START_STREAMING="managedMediaSourceStartStreaming",l.MANAGED_MEDIA_SOURCE_END_STREAMING="managedMediaSourceEndStreaming",l}return r}(S(8342).Z));H.Z=_},3393:function(Z,H){function S(A,o){for(var i=0;i<o.length;i++){var _=o[i];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(A,_.key,_)}}var Y=new(function(){function A(){(function(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")})(this,A),this.init()}var o,i;return o=A,(i=[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.TEXT_DISABLED="disabled",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.FONT_DOWNLOAD_DVB_SCHEME="urn:dvb:dash:fontdownload:2014",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.OFF_MIMETYPE="application/font-sfnt",this.WOFF_MIMETYPE="application/font-woff",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}])&&S(o.prototype,i),A}());H.Z=Y},3860:function(Z,H){function S(A,o){for(var i=0;i<o.length;i++){var _=o[i];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(A,_.key,_)}}var Y=new(function(){function A(){(function(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")})(this,A),this.init()}var o,i;return o=A,(i=[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}])&&S(o.prototype,i),A}());H.Z=Y},8080:function(Z,H,S){S.d(H,{default:function(){return b}});var Y=function C(){(function(re,te){if(!(re instanceof te))throw new TypeError("Cannot call a class as a function")})(this,C),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};Y.SSL_CONNECTION_FAILED_PREFIX="SSL",Y.DNS_RESOLUTION_FAILED="C00",Y.HOST_UNREACHABLE="C01",Y.CONNECTION_REFUSED="C02",Y.CONNECTION_ERROR="C03",Y.CORRUPT_MEDIA_ISOBMFF="M00",Y.CORRUPT_MEDIA_OTHER="M01",Y.BASE_URL_CHANGED="F00",Y.BECAME_REPORTER="S00";var A=Y,o=S(1180);function i(C){var re,te,De=(C=C||{}).eventBus,tt=C.dashMetrics,Ge=C.metricsConstants,Be=C.events;function Pe(Ot){var Gt=new A;if(te){for(var Zt in Ot)Ot.hasOwnProperty(Zt)&&(Gt[Zt]=Ot[Zt]);Gt.mpdurl||(Gt.mpdurl=te.originalUrl||te.url),Gt.terror||(Gt.terror=new Date),tt.addDVBErrors(Gt)}}function Ye(Ot){Ot.error||(te=Ot.manifest)}function ot(Ot){Pe({errorcode:A.BASE_URL_CHANGED,servicelocation:Ot.entry})}function St(){Pe({errorcode:A.BECAME_REPORTER})}function ft(Ot){var Gt;Ot.metric===Ge.HTTP_REQUEST&&((Gt=Ot.value).responsecode===0||Gt.responsecode==null||Gt.responsecode>=400||Gt.responsecode<100||Gt.responsecode>=600)&&Pe({errorcode:Gt.responsecode||A.CONNECTION_ERROR,url:Gt.url,terror:Gt.tresponse,servicelocation:Gt._serviceLocation})}function zt(Ot){var Gt;switch(Ot.error?Ot.error.code:0){case MediaError.MEDIA_ERR_NETWORK:Gt=A.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:Gt=A.CORRUPT_MEDIA_OTHER;break;default:return}Pe({errorcode:Gt})}return re={initialize:function(){De.on(Be.MANIFEST_UPDATED,Ye,re),De.on(Be.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,ot,re),De.on(Be.METRIC_ADDED,ft,re),De.on(Be.METRIC_UPDATED,ft,re),De.on(Be.PLAYBACK_ERROR,zt,re),De.on(o.Z.BECAME_REPORTING_PLAYER,St,re)},reset:function(){De.off(Be.MANIFEST_UPDATED,Ye,re),De.off(Be.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,ot,re),De.off(Be.METRIC_ADDED,ft,re),De.off(Be.METRIC_UPDATED,ft,re),De.off(Be.PLAYBACK_ERROR,zt,re),De.off(o.Z.BECAME_REPORTING_PLAYER,St,re)}}}i.__dashjs_factory_name="DVBErrorsTranslator";var _=dashjs.FactoryMaker.getSingletonFactory(i),E=S(2295);function f(C){C=C||{};var re,te,De=!1,tt=this.context,Ge=C.mediaElement;return re={initialize:function(Be){Be&&Be.length&&(Be.forEach(function(Pe){var Ye=Pe.starttime,ot=Ye+Pe.duration;te.add(Ye,ot)}),De=!!Be[0]._useWallClockTime)},reset:function(){te.clear()},isEnabled:function(){var Be,Pe=te.length;if(!Pe)return!0;Be=De?new Date().getTime()/1e3:Ge.currentTime;for(var Ye=0;Ye<Pe;Ye+=1){var ot=te.start(Ye),St=te.end(Ye);if(ot<=Be&&Be<St)return!0}return!1}},te=(0,E.Z)(tt).create(),re}f.__dashjs_factory_name="RangeController";var R=dashjs.FactoryMaker.getClassFactory(f);function y(){return{serialise:function C(re){var te,De,tt=[],Ge=[];for(te in re)if(re.hasOwnProperty(te)&&te.indexOf("_")!==0){if((De=re[te])==null&&(De=""),Array.isArray(De)){if(!De.length)continue;Ge=[],De.forEach(function(Be){var Pe=Object.prototype.toString.call(Be).slice(8,-1)!=="Object";Ge.push(Pe?Be:C(Be))}),De=Ge.map(encodeURIComponent).join(",")}else typeof De=="string"?De=encodeURIComponent(De):De instanceof Date?De=De.toISOString():typeof De=="number"&&(De=Math.round(De));tt.push(te+"="+De)}return tt.join("&")}}}y.__dashjs_factory_name="MetricSerialiser";var r=dashjs.FactoryMaker.getSingletonFactory(y);function l(){var C,re,te,De=window.crypto||window.msCrypto,tt=Uint32Array,Ge=Math.pow(2,8*tt.BYTES_PER_ELEMENT)-1;function Be(){De&&(C||(C=new tt(10)),De.getRandomValues(C),re=0)}return te={random:function(Pe,Ye){var ot;return Pe||(Pe=0),Ye||(Ye=1),De?(re===C.length&&Be(),ot=C[re]/Ge,re+=1):ot=Math.random(),ot*(Ye-Pe)+Pe}},Be(),te}l.__dashjs_factory_name="RNG";var p=dashjs.FactoryMaker.getSingletonFactory(l),N=S(5717);function U(C){var re;C=C||{};var te,De,tt,Ge,Be,Pe,Ye,ot=this.context,St=[],ft=C.metricsConstants;function zt(){Ge=!1,Be=!1,Pe=null,Ye=null}return re={report:function(Ot,Gt){Array.isArray(Gt)||(Gt=[Gt]),Be&&Ye.isEnabled()&&Gt.forEach(function(Zt){var cn=te.serialise(Zt);Ot!==ft.DVB_ERRORS&&(cn="metricname=".concat(Ot,"&").concat(cn)),function(Tn,kn,Mn){var Un=new XMLHttpRequest;Un.withCredentials=De.getXHRWithCredentialsForType(ft.HTTP_REQUEST_DVB_REPORTING_TYPE);var cr=function(){var Nn=St.indexOf(Un);Nn!==-1&&(St.splice(Nn,1),!(Un.status>=200&&Un.status<300)&&Mn&&Mn())};St.push(Un);try{Un.open("GET",Tn),Un.onloadend=cr,Un.onerror=cr,Un.send()}catch{Un.onerror()}}(cn="".concat(Pe,"?").concat(cn),0,function(){Be=!1})})},initialize:function(Ot,Gt){var Zt;if(Ye=Gt,!(Pe=Ot.dvbReportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");Ge||((Zt=Ot.dvbProbability)&&(Zt===1e3||Zt/1e3>=tt.random())&&(Be=!0),Ge=!0)},reset:function(){zt()}},te=r(ot).getInstance(),tt=p(ot).getInstance(),De=(0,N.Z)(ot).getInstance(),zt(),re}U.__dashjs_factory_name="DVBReporting";var q=dashjs.FactoryMaker.getClassFactory(U);function F(C){C=C||{};var re,te={"urn:dvb:dash:reporting:2014":q},De=this.context,tt=C.debug?C.debug.getLogger(re):{},Ge=C.metricsConstants,Be=C.mediaPlayerModel||{};return{create:function(Pe,Ye){var ot;try{(ot=te[Pe.schemeIdUri](De).create({metricsConstants:Ge,mediaPlayerModel:Be})).initialize(Pe,Ye)}catch(St){ot=null,tt.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(Pe.schemeIdUri," (").concat(St.message,")"))}return ot},register:function(Pe,Ye){te[Pe]=Ye},unregister:function(Pe){delete te[Pe]}}}F.__dashjs_factory_name="ReportingFactory";var oe=dashjs.FactoryMaker.getSingletonFactory(F);function x(C){var re=[],te=oe(this.context).getInstance(C);return{initialize:function(De,tt){De.some(function(Ge){var Be=te.create(Ge,tt);if(Be)return re.push(Be),!0})},reset:function(){re.forEach(function(De){return De.reset()}),re=[]},report:function(De,tt){re.forEach(function(Ge){return Ge.report(De,tt)})}}}x.__dashjs_factory_name="ReportingController";var ne=dashjs.FactoryMaker.getClassFactory(x);function de(){return{reconstructFullMetricName:function(C,re,te){var De=C;return re&&(De+="("+re,te&&te.length&&(De+=","+te),De+=")"),De},validateN:function(C){if(!C)throw new Error("missing n");if(isNaN(C))throw new Error("n is NaN");if(C<0)throw new Error("n must be positive");return C}}}de.__dashjs_factory_name="HandlerHelpers";var $=dashjs.FactoryMaker.getSingletonFactory(de);function ue(C){var re,te,De,tt,Ge;C=C||{};var Be=this.context,Pe=$(Be).getInstance(),Ye=[],ot=C.metricsConstants;function St(){var ft=function(){try{return Object.keys(Ye).map(function(zt){return Ye[zt]}).reduce(function(zt,Ot){return zt.level<Ot.level?zt:Ot})}catch{return}}();ft&&Ge!==ft.t&&(Ge=ft.t,re.report(De,ft))}return{initialize:function(ft,zt,Ot){zt&&(te=Pe.validateN(Ot),re=zt,De=Pe.reconstructFullMetricName(ft,Ot),tt=setInterval(St,te))},reset:function(){clearInterval(tt),tt=null,te=0,re=null,Ge=null},handleNewMetric:function(ft,zt,Ot){ft===ot.BUFFER_LEVEL&&(Ye[Ot]=zt)}}}ue.__dashjs_factory_name="BufferLevelHandler";var he=dashjs.FactoryMaker.getClassFactory(ue),Ne=dashjs.FactoryMaker.getClassFactory(function(C){var re,te=(C=C||{}).eventBus,De=C.metricsConstants;function tt(){te.off(o.Z.METRICS_INITIALISATION_COMPLETE,tt,this),te.trigger(o.Z.BECAME_REPORTING_PLAYER)}return{initialize:function(Ge,Be){Be&&(re=Be,te.on(o.Z.METRICS_INITIALISATION_COMPLETE,tt,this))},reset:function(){re=null},handleNewMetric:function(Ge,Be){Ge===De.DVB_ERRORS&&re&&re.report(Ge,Be)}}});function ae(C){var re,te,De,tt,Ge;C=C||{};var Be=[],Pe=$(this.context).getInstance(),Ye=C.metricsConstants;function ot(){var St=Be;St.length&&re&&re.report(tt,St),Be=[]}return{initialize:function(St,ft,zt,Ot){ft&&(te=Pe.validateN(zt),re=ft,Ot&&Ot.length&&(De=Ot),tt=Pe.reconstructFullMetricName(St,zt,Ot),Ge=setInterval(ot,te))},reset:function(){clearInterval(Ge),Ge=null,te=null,De=null,Be=[],re=null},handleNewMetric:function(St,ft){St===Ye.HTTP_REQUEST&&(De&&De!==ft.type||Be.push(ft))}}}ae.__dashjs_factory_name="HttpListHandler";var we=dashjs.FactoryMaker.getClassFactory(ae);function Me(){var C,re;return{initialize:function(te,De){C=te,re=De},reset:function(){re=null,C=void 0},handleNewMetric:function(te,De){te===C&&re&&re.report(C,De)}}}Me.__dashjs_factory_name="GenericMetricHandler";var je=dashjs.FactoryMaker.getClassFactory(Me);function Ie(C){var re,te=(C=C||{}).debug?C.debug.getLogger(re):{},De=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,tt=this.context,Ge={BufferLevel:he,DVBErrors:Ne,HttpList:we,PlayList:je,RepSwitchList:je,TcpList:je};return{create:function(Be,Pe){var Ye,ot=Be.match(De);if(ot){try{(Ye=Ge[ot[1]](tt).create({eventBus:C.eventBus,metricsConstants:C.metricsConstants})).initialize(ot[1],Pe,ot[3],ot[5])}catch(St){Ye=null,te.error("MetricsHandlerFactory: Could not create handler for type ".concat(ot[1]," with args ").concat(ot[3],", ").concat(ot[5]," (").concat(St.message,")"))}return Ye}},register:function(Be,Pe){Ge[Be]=Pe},unregister:function(Be){delete Ge[Be]}}}Ie.__dashjs_factory_name="MetricsHandlerFactory";var Le=dashjs.FactoryMaker.getSingletonFactory(Ie);function Qe(C){C=C||{};var re,te=[],De=this.context,tt=C.eventBus,Ge=C.events,Be=Le(De).getInstance({debug:C.debug,eventBus:C.eventBus,metricsConstants:C.metricsConstants});function Pe(Ye){te.forEach(function(ot){ot.handleNewMetric(Ye.metric,Ye.value,Ye.mediaType)})}return re={initialize:function(Ye,ot){Ye.split(",").forEach(function(St,ft,zt){var Ot;if(St.indexOf("(")!==-1&&St.indexOf(")")===-1){var Gt=zt[ft+1];Gt&&Gt.indexOf("(")===-1&&Gt.indexOf(")")!==-1&&(St+=","+Gt,delete zt[ft+1])}(Ot=Be.create(St,ot))&&te.push(Ot)}),tt.on(Ge.METRIC_ADDED,Pe,re),tt.on(Ge.METRIC_UPDATED,Pe,re)},reset:function(){tt.off(Ge.METRIC_ADDED,Pe,re),tt.off(Ge.METRIC_UPDATED,Pe,re),te.forEach(function(Ye){return Ye.reset()}),te=[]}}}Qe.__dashjs_factory_name="MetricsHandlersController";var nt=dashjs.FactoryMaker.getClassFactory(Qe);function Re(C){var re,te,De;C=C||{};var tt=this.context;function Ge(){re&&re.reset(),te&&te.reset(),De&&De.reset()}return{initialize:function(Be){try{(De=R(tt).create({mediaElement:C.mediaElement})).initialize(Be.Range),(te=ne(tt).create({debug:C.debug,metricsConstants:C.metricsConstants,mediaPlayerModel:C.mediaPlayerModel})).initialize(Be.Reporting,De),(re=nt(tt).create({debug:C.debug,eventBus:C.eventBus,metricsConstants:C.metricsConstants,events:C.events})).initialize(Be.metrics,te)}catch(Pe){throw Ge(),Pe}},reset:Ge}}Re.__dashjs_factory_name="MetricsController";var Fe=dashjs.FactoryMaker.getClassFactory(Re),Tt=function C(){(function(re,te){if(!(re instanceof te))throw new TypeError("Cannot call a class as a function")})(this,C),this.metrics="",this.Range=[],this.Reporting=[]},vt=function C(){(function(re,te){if(!(re instanceof te))throw new TypeError("Cannot call a class as a function")})(this,C),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},ze=function C(){(function(re,te){if(!(re instanceof te))throw new TypeError("Cannot call a class as a function")})(this,C),this.schemeIdUri="",this.value="",this.dvbReportingUrl="",this.dvbProbability=1e3};function at(C){var re=(C=C||{}).adapter,te=C.constants;return{getMetrics:function(De){var tt=[];return De&&De.Metrics_asArray&&De.Metrics_asArray.forEach(function(Ge){var Be=new Tt,Pe=re.getIsDynamic(De);Ge.hasOwnProperty("metrics")&&(Be.metrics=Ge.metrics,Ge.Range_asArray&&Ge.Range_asArray.forEach(function(Ye){var ot=new vt;ot.starttime=function(St,ft,zt){var Ot,Gt,Zt=0;return ft?Zt=re.getAvailabilityStartTime(St)/1e3:(Ot=re.getRegularPeriods(St)).length&&(Zt=Ot[0].start),Gt=Zt,zt&&zt.hasOwnProperty(te.START_TIME)&&(Gt+=zt.starttime),Gt}(De,Pe,Ye),Ye.hasOwnProperty("duration")?ot.duration=Ye.duration:ot.duration=re.getDuration(De),ot._useWallClockTime=Pe,Be.Range.push(ot)}),Ge.Reporting_asArray&&(Ge.Reporting_asArray.forEach(function(Ye){var ot=new ze;Ye.hasOwnProperty(te.SCHEME_ID_URI)&&(ot.schemeIdUri=Ye.schemeIdUri,Ye.hasOwnProperty("value")&&(ot.value=Ye.value),Ye.hasOwnProperty(te.DVB_REPORTING_URL)&&(ot.dvbReportingUrl=Ye[te.DVB_REPORTING_URL]),Ye.hasOwnProperty(te.DVB_PROBABILITY)&&(ot.dvbProbability=Ye[te.DVB_PROBABILITY]),Be.Reporting.push(ot))}),tt.push(Be)))}),tt}}}at.__dashjs_factory_name="ManifestParsing";var Te=dashjs.FactoryMaker.getSingletonFactory(at);function Ae(C){var re;C=C||{};var te={},De=this.context,tt=C.eventBus,Ge=C.events;function Be(Ye){if(!Ye.error){var ot=Object.keys(te);Te(De).getInstance({adapter:C.adapter,constants:C.constants}).getMetrics(Ye.manifest).forEach(function(St){var ft=JSON.stringify(St);if(te.hasOwnProperty(ft))ot.splice(ft,1);else try{var zt=Fe(De).create(C);zt.initialize(St),te[ft]=zt}catch{}}),ot.forEach(function(St){te[St].reset(),delete te[St]}),tt.trigger(o.Z.METRICS_INITIALISATION_COMPLETE)}}function Pe(){Object.keys(te).forEach(function(Ye){te[Ye].reset()}),te={}}return re={reset:function(){tt.off(Ge.MANIFEST_UPDATED,Be,re),tt.off(Ge.STREAM_TEARDOWN_COMPLETE,Pe,re)}},tt.on(Ge.MANIFEST_UPDATED,Be,re),tt.on(Ge.STREAM_TEARDOWN_COMPLETE,Pe,re),re}Ae.__dashjs_factory_name="MetricsCollectionController";var He=dashjs.FactoryMaker.getClassFactory(Ae);function m(){var C=this.context;return{createMetricsReporting:function(re){return _(C).getInstance({eventBus:re.eventBus,dashMetrics:re.dashMetrics,metricsConstants:re.metricsConstants,events:re.events}).initialize(),He(C).create(re)},getReportingFactory:function(){return oe(C).getInstance()},getMetricsHandlerFactory:function(){return Le(C).getInstance()}}}m.__dashjs_factory_name="MetricsReporting";var d=dashjs.FactoryMaker.getClassFactory(m);d.events=o.Z,dashjs.FactoryMaker.updateClassFactory(m.__dashjs_factory_name,d);var b=d},1180:function(Z,H,S){function Y(E){return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},Y(E)}function A(E,f){return A=Object.setPrototypeOf||function(R,y){return R.__proto__=y,R},A(E,f)}function o(E,f){return!f||Y(f)!=="object"&&typeof f!="function"?function(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(E):f}function i(E){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},i(E)}var _=new(function(E){(function(l,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(p&&p.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),p&&A(l,p)})(r,E);var f,R,y=(f=r,R=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var l,p=i(f);if(R){var N=i(this).constructor;l=Reflect.construct(p,arguments,N)}else l=p.apply(this,arguments);return o(this,l)});function r(){var l;return function(p,N){if(!(p instanceof N))throw new TypeError("Cannot call a class as a function")}(this,r),(l=y.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",l.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",l.CMCD_DATA_GENERATED="cmcdDataGenerated",l}return r}(S(8342).Z));H.Z=_},5717:function(Z,H,S){var Y=S(2610),A=S(5448),o=S(1264),i=S(3106),_=S(1767),E=S(3393);function f(){var R,y,r,l,p,N,U,q,F=this.context,oe=(0,o.Z)(F).getInstance();function x(){l=[],p=[],N=[],q=[],U=null,y=[]}function ne(he,Ne){var ae=-1;he.some(function(we,Me){if(we===Ne)return ae=Me,!0}),ae<0||he.splice(ae,1)}function de(he){var Ne;for(Ne=0;Ne<q.length;Ne++)if(q[Ne].rulename===he)return Ne;return-1}function $(he,Ne){ue(he,Ne);var ae=new Y.Z;ae.schemeIdUri=he,ae.value=Ne,y.push(ae)}function ue(he,Ne){(0,i.PS)(he,"string"),(0,i.PS)(Ne,"string"),y.forEach(function(ae,we){ae.schemeIdUri===he&&ae.value===Ne&&y.splice(we,1)})}return R={getCustomInitialTrackSelectionFunction:function(){return U},setCustomInitialTrackSelectionFunction:function(he){U=he},resetCustomInitialTrackSelectionFunction:function(){U=null},getLicenseResponseFilters:function(){return p},getLicenseRequestFilters:function(){return l},getCustomCapabilitiesFilters:function(){return N},registerCustomCapabilitiesFilter:function(he){N.push(he)},registerLicenseResponseFilter:function(he){p.push(he)},registerLicenseRequestFilter:function(he){l.push(he)},unregisterCustomCapabilitiesFilter:function(he){ne(N,he)},unregisterLicenseResponseFilter:function(he){ne(p,he)},unregisterLicenseRequestFilter:function(he){ne(l,he)},addAbrCustomRule:function(he,Ne,ae){if(typeof he!="string"||he!==_.Z.ABANDON_FRAGMENT_RULES&&he!==_.Z.QUALITY_SWITCH_RULES||typeof Ne!="string")throw E.Z.BAD_ARGUMENT_ERROR;var we=de(Ne);we===-1?q.push({type:he,rulename:Ne,rule:ae}):(q[we].type=he,q[we].rule=ae)},removeAllAbrCustomRule:function(){q=[]},removeAbrCustomRule:function(he){if(he){var Ne=de(he);Ne!==-1&&q.splice(Ne,1)}else q=[]},getAbrCustomRules:function(){return q},addUTCTimingSource:$,removeUTCTimingSource:ue,getUTCTimingSources:function(){return y},clearDefaultUTCTimingSources:function(){y=[]},restoreDefaultUTCTimingSources:function(){var he=oe.get().streaming.utcSynchronization.defaultTimingSource;$(he.scheme,he.value)},setXHRWithCredentialsForType:function he(Ne,ae){Ne?r[Ne]=!!ae:Object.keys(r).forEach(function(we){he(we,ae)})},getXHRWithCredentialsForType:function(he){var Ne=r[he];return Ne===void 0?r.default:Ne},setConfig:function(){},reset:function(){x()}},r={default:!1},x(),R}f.__dashjs_factory_name="CustomParametersModel",H.Z=A.Z.getSingletonFactory(f)},9032:function(Z,H,S){var Y=S(5448),A=S(7473);function o(_){var E=(_=_||{}).requestModifier;function f(R){var y=new Date,r=R.request,l=new XMLHttpRequest;if(l.open(R.method,R.url,!0),r.responseType&&(l.responseType=r.responseType),r.range&&l.setRequestHeader("Range","bytes="+r.range),r.requestStartDate||(r.requestStartDate=y),E&&E.modifyRequestHeader&&(l=E.modifyRequestHeader(l,{url:R.url})),R.headers)for(var p in R.headers){var N=R.headers[p];N&&l.setRequestHeader(p,N)}l.withCredentials=R.withCredentials,l.onload=R.onload,l.onloadend=R.onend,l.onerror=R.onerror,l.onprogress=R.progress,l.onabort=R.onabort,l.ontimeout=R.ontimeout,l.timeout=R.timeout,l.send(),R.response=l}return{load:function(R){E&&E.modifyRequest?(0,A.k)(R,E).then(function(){return f(R)}):f(R)},abort:function(R){var y=R.response;y.onloadend=y.onerror=y.onprogress=void 0,y.abort()}}}o.__dashjs_factory_name="XHRLoader";var i=Y.Z.getClassFactory(o);H.Z=i},1737:function(Z,H,S){function Y(Ct,It){for(var Rt=0;Rt<It.length;Rt++){var Ve=It[Rt];Ve.enumerable=Ve.enumerable||!1,Ve.configurable=!0,"value"in Ve&&(Ve.writable=!0),Object.defineProperty(Ct,Ve.key,Ve)}}S.d(H,{default:function(){return Do}});var A={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]},o=function(){function Ct(){(function(Ve,mt){if(!(Ve instanceof mt))throw new TypeError("Cannot call a class as a function")})(this,Ct)}var It,Rt;return It=Ct,Rt=[{key:"findCencContentProtection",value:function(Ve){for(var mt=null,$e=0;$e<Ve.length;++$e){var dt=Ve[$e];dt.schemeIdUri.toLowerCase()!=="urn:mpeg:dash:mp4protection:2011"||dt.value.toLowerCase()!=="cenc"&&dt.value.toLowerCase()!=="cbcs"||(mt=dt)}return mt}},{key:"getPSSHData",value:function(Ve){var mt=8,$e=new DataView(Ve),dt=$e.getUint8(mt);return mt+=20,dt>0&&(mt+=4+16*$e.getUint32(mt)),mt+=4,Ve.slice(mt)}},{key:"getPSSHForKeySystem",value:function(Ve,mt){var $e=Ct.parsePSSHList(mt);return Ve&&$e.hasOwnProperty(Ve.uuid.toLowerCase())?$e[Ve.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(Ve,mt){return"pssh"in Ve?(Ve.pssh.__text=Ve.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),mt.decodeArray(Ve.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(Ve){if(Ve==null)return[];for(var mt=new DataView(Ve.buffer||Ve),$e={},dt=0;;){var Ft,Bt,nn=void 0,rn=dt;if(dt>=mt.buffer.byteLength)break;if(Ft=dt+mt.getUint32(dt),dt+=4,mt.getUint32(dt)===1886614376)if(dt+=4,(Bt=mt.getUint8(dt))===0||Bt===1){dt++,dt+=3,nn="";var Ht=void 0,wt=void 0;for(Ht=0;Ht<4;Ht++)nn+=(wt=mt.getUint8(dt+Ht).toString(16)).length===1?"0"+wt:wt;for(dt+=4,nn+="-",Ht=0;Ht<2;Ht++)nn+=(wt=mt.getUint8(dt+Ht).toString(16)).length===1?"0"+wt:wt;for(dt+=2,nn+="-",Ht=0;Ht<2;Ht++)nn+=(wt=mt.getUint8(dt+Ht).toString(16)).length===1?"0"+wt:wt;for(dt+=2,nn+="-",Ht=0;Ht<2;Ht++)nn+=(wt=mt.getUint8(dt+Ht).toString(16)).length===1?"0"+wt:wt;for(dt+=2,nn+="-",Ht=0;Ht<6;Ht++)nn+=(wt=mt.getUint8(dt+Ht).toString(16)).length===1?"0"+wt:wt;dt+=6,dt+=4,$e[nn=nn.toLowerCase()]=mt.buffer.slice(rn,Ft),dt=Ft}else dt=Ft;else dt=Ft}return $e}},{key:"getLicenseServerUrlFromMediaInfo",value:function(Ve,mt){try{if(!Ve||Ve.length===0)return null;for(var $e=0,dt=null;$e<Ve.length&&!dt;){var Ft=Ve[$e];if(Ft&&Ft.contentProtection&&Ft.contentProtection.length>0){var Bt=Ft.contentProtection.filter(function(dn){return dn.schemeIdUri&&dn.schemeIdUri===mt});if(Bt&&Bt.length>0)for(var nn=0;nn<Bt.length&&!dt;){for(var rn=Bt[nn],Ht=0;Ht<A.attributes.length&&!dt;){for(var wt=0,tn=A.attributes[Ht];wt<A.prefixes.length&&!dt;){var $t=A.prefixes[wt];rn[tn]&&rn[tn].__prefix&&rn[tn].__prefix===$t&&rn[tn].__text&&(dt=rn[tn].__text),wt+=1}Ht+=1}nn+=1}}$e+=1}return dt}catch{return null}}}],Rt&&Y(It,Rt),Ct}(),i=function Ct(It,Rt){(function(Ve,mt){if(!(Ve instanceof mt))throw new TypeError("Cannot call a class as a function")})(this,Ct),this.contentType=It,this.robustness=Rt},_=function Ct(It,Rt,Ve,mt,$e){(function(dt,Ft){if(!(dt instanceof Ft))throw new TypeError("Cannot call a class as a function")})(this,Ct),this.initDataTypes=["cenc"],It&&It.length&&(this.audioCapabilities=It),Rt&&Rt.length&&(this.videoCapabilities=Rt),this.distinctiveIdentifier=Ve,this.persistentState=mt,this.sessionTypes=$e};function E(Ct){return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(It){return typeof It}:function(It){return It&&typeof Symbol=="function"&&It.constructor===Symbol&&It!==Symbol.prototype?"symbol":typeof It},E(Ct)}function f(Ct,It){return f=Object.setPrototypeOf||function(Rt,Ve){return Rt.__proto__=Ve,Rt},f(Ct,It)}function R(Ct,It){return!It||E(It)!=="object"&&typeof It!="function"?function(Rt){if(Rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Rt}(Ct):It}function y(Ct){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(It){return It.__proto__||Object.getPrototypeOf(It)},y(Ct)}var r=new(function(Ct){(function($e,dt){if(typeof dt!="function"&&dt!==null)throw new TypeError("Super expression must either be null or a function");$e.prototype=Object.create(dt&&dt.prototype,{constructor:{value:$e,writable:!0,configurable:!0}}),dt&&f($e,dt)})(mt,Ct);var It,Rt,Ve=(It=mt,Rt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var $e,dt=y(It);if(Rt){var Ft=y(this).constructor;$e=Reflect.construct(dt,arguments,Ft)}else $e=dt.apply(this,arguments);return R(this,$e)});function mt(){var $e;return function(dt,Ft){if(!(dt instanceof Ft))throw new TypeError("Cannot call a class as a function")}(this,mt),($e=Ve.call(this)).MEDIA_KEYERR_CODE=100,$e.MEDIA_KEYERR_UNKNOWN_CODE=101,$e.MEDIA_KEYERR_CLIENT_CODE=102,$e.MEDIA_KEYERR_SERVICE_CODE=103,$e.MEDIA_KEYERR_OUTPUT_CODE=104,$e.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,$e.MEDIA_KEYERR_DOMAIN_CODE=106,$e.MEDIA_KEY_MESSAGE_ERROR_CODE=107,$e.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,$e.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,$e.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,$e.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,$e.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,$e.KEY_SESSION_CREATED_ERROR_CODE=113,$e.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,$e.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",$e.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",$e.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",$e.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",$e.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",$e.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",$e.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",$e.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",$e.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",$e.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",$e.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",$e.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",$e.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",$e.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",$e}return mt}(S(2230).Z)),l=S(5459),p=function Ct(It,Rt,Ve,mt,$e,dt,Ft,Bt){(function(nn,rn){if(!(nn instanceof rn))throw new TypeError("Cannot call a class as a function")})(this,Ct),this.url=It,this.method=Rt,this.responseType=Ve,this.headers=mt,this.withCredentials=$e,this.messageType=dt,this.sessionId=Ft,this.data=Bt},N=function Ct(It,Rt,Ve){(function(mt,$e){if(!(mt instanceof $e))throw new TypeError("Cannot call a class as a function")})(this,Ct),this.url=It,this.headers=Rt,this.data=Ve},U=S(7855),q=S(703),F=S(3393),oe=S(5448);function x(Ct){return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(It){return typeof It}:function(It){return It&&typeof Symbol=="function"&&It.constructor===Symbol&&It!==Symbol.prototype?"symbol":typeof It},x(Ct)}function ne(Ct){var It,Rt,Ve,mt,$e,dt,Ft,Bt,nn,rn,Ht,wt=(Ct=Ct||{}).protectionKeyController,tn=Ct.protectionModel,$t=Ct.eventBus,dn=Ct.events,Sn=Ct.debug,Dn=Ct.BASE64,sn=Ct.constants,At=[],Dt=Ct.cmcdModel,Yt=Ct.settings,fn=Ct.customParametersModel;function hn(){if(!($t&&$t.hasOwnProperty("on")&&wt&&wt.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function In(xt,ln){Bt||nn?Bt&&Cn():function(_n,Kn){if(!nn){nn=!0;var Pn,ar=[];_n=_n.sort(function(nr,qn){return($e&&$e[nr.ks.systemString]&&$e[nr.ks.systemString].priority>=0?$e[nr.ks.systemString].priority:_n.length)-($e&&$e[qn.ks.systemString]&&$e[qn.ks.systemString].priority>=0?$e[qn.ks.systemString].priority:_n.length)});for(var Zn=0;Zn<_n.length;Zn++){var qr=ki(_n[Zn]);ar.push({ks:_n[Zn].ks,configs:[qr],protData:_n[Zn].protData})}tn.requestKeySystemAccess(ar).then(function(nr){var qn=(Pn=nr.data).mksa&&Pn.mksa.selectedSystemString?Pn.mksa.selectedSystemString:Pn.keySystem.systemString;return Rt.info("DRM: KeySystem Access Granted for system string ("+qn+")!  Selecting key system..."),tn.selectKeySystem(Pn)}).then(function(nr){if(Bt=nr,nn=!1,tn){$t.trigger(dn.KEY_SYSTEM_SELECTED,{data:Pn});var qn=or(Bt);qn&&qn.serverCertificate&&qn.serverCertificate.length>0&&tn.setServerCertificate(Dn.decodeArray(qn.serverCertificate).buffer),Cn()}}).catch(function(nr){Bt=null,nn=!1,Kn||$t.trigger(dn.KEY_SYSTEM_SELECTED,{data:null,error:new l.Z(r.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,r.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+nr.error)})})}}(xt,ln)}function Cn(){for(var xt,ln=0;ln<Ve.length;ln++)for(xt=0;xt<Ve[ln].length;xt++)if(Bt===Ve[ln][xt].ks){gr(Ve[ln][xt]);break}Ve=[]}function gr(xt){if(wt.isClearKey(Bt)&&xt.protData&&xt.protData.hasOwnProperty("clearkeys")&&Object.keys(xt.protData.clearkeys).length!==0){var ln={kids:Object.keys(xt.protData.clearkeys)};xt.initData=new TextEncoder().encode(JSON.stringify(ln))}xt.sessionId?pr(xt):xt.initData!==null&&jn(xt)}function pr(xt){hn(),tn.loadKeySession(xt)}function jn(xt){var ln=o.getPSSHForKeySystem(Bt,xt?xt.initData:null);if(ln){if(function(_n){if(!_n)return!1;try{for(var Kn=tn.getSessions(),Pn=0;Pn<Kn.length;Pn++)if(Kn[Pn].getKeyId()===_n)return!0;return!1}catch{return!1}}(xt.keyId)||Vn(ln))return;try{xt.initData=ln,tn.createKeySession(xt)}catch(_n){$t.trigger(dn.KEY_SESSION_CREATED,{data:null,error:new l.Z(r.KEY_SESSION_CREATED_ERROR_CODE,r.KEY_SESSION_CREATED_ERROR_MESSAGE+_n.message)})}}else xt&&xt.initData?tn.createKeySession(xt):$t.trigger(dn.KEY_SESSION_CREATED,{data:null,error:new l.Z(r.KEY_SESSION_CREATED_ERROR_CODE,r.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(Bt?Bt.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function or(xt){if(xt){var ln=xt.systemString;if($e)return ln in $e?$e[ln]:null}return null}function Vn(xt){if(!xt)return!1;try{for(var ln=tn.getAllInitData(),_n=0;_n<ln.length;_n++)if(wt.initDataEquals(xt,ln[_n]))return Rt.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function hr(xt){hn(),xt?(tn.setMediaElement(xt),$t.on(dn.NEED_KEY,Mo,It)):xt===null&&(tn.setMediaElement(xt),$t.off(dn.NEED_KEY,Mo,It))}function ki(xt){var ln=xt.protData,_n=[],Kn=[],Pn=ln&&ln.audioRobustness&&ln.audioRobustness.length>0?ln.audioRobustness:Ft,ar=ln&&ln.videoRobustness&&ln.videoRobustness.length>0?ln.videoRobustness:Ft,Zn=xt.sessionType,qr=ln&&ln.distinctiveIdentifier?ln.distinctiveIdentifier:"optional",nr=ln&&ln.persistentState?ln.persistentState:Zn==="temporary"?"optional":"required";return mt.forEach(function(qn){qn.type===sn.AUDIO?_n.push(new i(qn.codec,Pn)):qn.type===sn.VIDEO&&Kn.push(new i(qn.codec,ar))}),new _(_n,Kn,qr,nr,[Zn])}function $r(xt){xt.error?$t.trigger(dn.KEY_STATUSES_CHANGED,{data:null,error:xt.error}):Rt.debug("DRM: key status = "+xt.status)}function li(xt){Rt.debug("DRM: onKeyMessage");var ln=xt.data;$t.trigger(dn.KEY_MESSAGE,{data:ln});var _n=ln.messageType?ln.messageType:"license-request",Kn=ln.message,Pn=ln.sessionToken,ar=or(Bt),Zn=wt.getLicenseServerModelInstance(Bt,ar,_n),qr={sessionToken:Pn,messageType:_n};if(Kn&&Kn.byteLength!==0){if(!Zn)return Rt.debug("DRM: License server request not required for this message (type = "+xt.data.messageType+").  Session ID = "+Pn.getSessionId()),void Ar(qr);if(wt.isClearKey(Bt)){var nr=wt.processClearKeyLicenseRequest(Bt,ar,Kn);if(nr&&nr.keyPairs&&nr.keyPairs.length>0)return Rt.debug("DRM: ClearKey license request handled by application!"),Ar(qr),void tn.updateKeySession(Pn,nr)}(function(qn,wr,Ir){var ui=qn.sessionToken,Jr=qn.messageType?qn.messageType:"license-request",ci={sessionToken:ui,messageType:Jr},Fi=Bt?Bt.systemString:null,ya=function(Bn,uo,ko,co,Ts){var ei=null,Ss=co.message;if(Bn&&Bn.serverURL){var Ui=Bn.serverURL;typeof Ui=="string"&&Ui!==""?ei=Ui:x(Ui)==="object"&&Ui.hasOwnProperty(uo)&&(ei=Ui[uo])}else if(Bn&&Bn.laURL&&Bn.laURL!=="")ei=Bn.laURL;else if(!(ei=o.getLicenseServerUrlFromMediaInfo(mt,Bt.schemeIdURI))&&!wt.isClearKey(Bt)){var As=o.getPSSHData(ko.initData);(ei=Bt.getLicenseServerURLFromInitData(As))||(ei=co.laURL)}return ei=Ts.getServerURLFromMessage(ei,Ss,uo)}(Ir,Jr,ui,qn,wr);if(ya){var Po={},Lo=!1;Ir&&gs(Po,Ir.httpRequestHeaders);var ms=qn.message;gs(Po,Bt.getRequestHeadersFromMessage(ms)),Object.keys(Po).forEach(function(Bn){Bn.toLowerCase()==="authorization"&&(Lo=!0)}),Ir&&typeof Ir.withCredentials=="boolean"&&(Lo=Ir.withCredentials);var ys=function(Bn){if(tn)if(Bn.status>=200&&Bn.status<=299){var uo=q.Z.parseHttpHeaders(Bn.getAllResponseHeaders?Bn.getAllResponseHeaders():null),ko=new N(Bn.responseURL,uo,Bn.response);hs(fn.getLicenseResponseFilters(),ko).then(function(){var co=wr.getLicenseMessage(ko.data,Fi,Jr);co!==null?(Ar(ci),tn.updateKeySession(ui,co)):ps(Bn,ci,Fi,Jr,wr)})}else ps(Bn,ci,Fi,Jr,wr)},nu=function(Bn){Ar(ci,new l.Z(r.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,r.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Fi+' update, XHR aborted. status is "'+Bn.statusText+'" ('+Bn.status+"), readyState is "+Bn.readyState))},ru=function(Bn){Ar(ci,new l.Z(r.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,r.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Fi+' update, XHR error. status is "'+Bn.statusText+'" ('+Bn.status+"), readyState is "+Bn.readyState))},vs=Bt.getLicenseRequestFromMessage(ms),Es=wr.getHTTPMethod(Jr),iu=wr.getResponseType(Fi,Jr),va=Ir&&!isNaN(Ir.httpTimeout)?Ir.httpTimeout:8e3,_s=ui.getSessionId()||null,xo=new p(ya,Es,iu,Po,Lo,Jr,_s,vs),ou=isNaN(Yt.get().streaming.retryAttempts[U.w.LICENSE])?3:Yt.get().streaming.retryAttempts[U.w.LICENSE];hs(fn.getLicenseRequestFilters(),xo).then(function(){ds(xo,ou,va,ys,nu,ru)})}else Ar(ci,new l.Z(r.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,r.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))})(ln,Zn,ar)}else Ar(qr,new l.Z(r.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,r.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function Ar(xt,ln){$t.trigger(dn.LICENSE_REQUEST_COMPLETE,{data:xt,error:ln})}function ds(xt,ln,_n,Kn,Pn,ar){var Zn=new XMLHttpRequest;if(Yt.get().streaming.cmcd&&Yt.get().streaming.cmcd.enabled&&Yt.get().streaming.cmcd.mode===F.Z.CMCD_MODE_QUERY){var qr=Dt.getQueryParameter({url:xt.url,type:U.w.LICENSE});qr&&(xt.url=q.Z.addAditionalQueryParameterToUrl(xt.url,[qr]))}for(var nr in Zn.open(xt.method,xt.url,!0),Zn.responseType=xt.responseType,Zn.withCredentials=xt.withCredentials,_n>0&&(Zn.timeout=_n),xt.headers)Zn.setRequestHeader(nr,xt.headers[nr]);if(Yt.get().streaming.cmcd&&Yt.get().streaming.cmcd.enabled&&Yt.get().streaming.cmcd.mode===F.Z.CMCD_MODE_HEADER){var qn=Dt.getHeaderParameters({url:xt.url,type:U.w.LICENSE});if(qn)for(var wr in qn){var Ir=qn[wr];Ir&&Zn.setRequestHeader(wr,Ir)}}var ui=function(){ln--;var Jr=isNaN(Yt.get().streaming.retryIntervals[U.w.LICENSE])?1e3:Yt.get().streaming.retryIntervals[U.w.LICENSE];Ht=setTimeout(function(){ds(xt,ln,_n,Kn,Pn,ar)},Jr)};Zn.onload=function(){rn=null,this.status>=200&&this.status<=299||ln<=0?Kn(this):(Rt.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+ln),ui())},Zn.ontimeout=Zn.onerror=function(){rn=null,ln<=0?ar(this):(Rt.warn("License request network request failed . Retrying it... Pending retries: "+ln),ui())},Zn.onabort=function(){Pn(this)},$t.trigger(dn.LICENSE_REQUEST_SENDING,{url:xt.url,headers:xt.headers,payload:xt.data,sessionId:xt.sessionId}),rn=Zn,Zn.send(xt.data)}function Oo(){rn&&(rn.onloadend=rn.onerror=rn.onprogress=void 0,rn.abort(),rn=null),Ht&&(clearTimeout(Ht),Ht=null)}function gs(xt,ln){if(ln)for(var _n in ln)xt[_n]=ln[_n]}function ps(xt,ln,_n,Kn,Pn){var ar="NONE",Zn=null;xt.response&&(ar=Pn.getErrorResponse(xt.response,_n,Kn),Zn={serverResponse:xt.response||null,responseCode:xt.status||null,responseText:xt.statusText||null}),Ar(ln,new l.Z(r.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,r.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+_n+' update, XHR complete. status is "'+xt.statusText+'" ('+xt.status+"), readyState is "+xt.readyState+".  Response is "+ar,Zn))}function hs(xt,ln){return xt?xt.reduce(function(_n,Kn){return _n.then(function(){return Kn(ln)})},Promise.resolve()):Promise.resolve()}function Mo(xt,ln){if(!Yt.get().streaming.protection.ignoreEmeEncryptedEvent){if(Rt.debug("DRM: onNeedKey"),xt.key.initDataType!=="cenc")return void Rt.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+xt.key.initDataType);if(mt.length===0&&(Rt.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(ln=ln===void 0?1:ln+1)<5))return void At.push(setTimeout(function(){Mo(xt,ln)},500));var _n=xt.key.initData;if(ArrayBuffer.isView(_n)&&(_n=_n.buffer),Bt){var Kn=o.getPSSHForKeySystem(Bt,_n);if(Kn&&Vn(Kn))return}Rt.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(_n)));var Pn=wt.getSupportedKeySystemsFromSegmentPssh(_n,$e,dt);if(Pn.length===0)return void Rt.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");(function(ar){Ve.push(ar),In(ar,!1)})(Pn)}}return It={initializeForMedia:function(xt){if(!xt)throw new Error("mediaInfo can not be null or undefined");hn(),mt.push(xt)},clearMediaInfoArray:function(){mt=[]},handleKeySystemFromManifest:function(){if(mt&&mt.length!==0){var xt=[];mt.forEach(function(ln){var _n=wt.getSupportedKeySystemsFromContentProtection(ln.contentProtection,$e,dt);_n.length>0&&(xt.length===0&&(xt=_n),Ve.push(_n))}),xt&&xt.length>0&&In(xt,!0)}},createKeySession:jn,loadKeySession:pr,removeKeySession:function(xt){hn(),tn.removeKeySession(xt)},closeKeySession:function(xt){hn(),tn.closeKeySession(xt)},setServerCertificate:function(xt){hn(),tn.setServerCertificate(xt)},setMediaElement:hr,setSessionType:function(xt){dt=xt},setRobustnessLevel:function(xt){Ft=xt},setProtectionData:function(xt){$e=xt,wt.setProtectionData(xt)},getSupportedKeySystemsFromContentProtection:function(xt){return hn(),wt.getSupportedKeySystemsFromContentProtection(xt,$e,dt)},getKeySystems:function(){return wt?wt.getKeySystems():[]},setKeySystems:function(xt){wt&&wt.setKeySystems(xt)},stop:function(){Oo(),tn&&tn.stop()},reset:function(){$t.off(dn.INTERNAL_KEY_MESSAGE,li,It),$t.off(dn.INTERNAL_KEY_STATUS_CHANGED,$r,It),hn(),Oo(),hr(null),Bt=null,nn=!1,tn&&(tn.reset(),tn=null),At.forEach(function(xt){return clearTimeout(xt)}),At=[],mt=[],Ve=[]}},Rt=Sn.getLogger(It),Ve=[],mt=[],dt="temporary",Ft="",rn=null,Ht=null,$t.on(dn.INTERNAL_KEY_MESSAGE,li,It),$t.on(dn.INTERNAL_KEY_STATUS_CHANGED,$r,It),It}ne.__dashjs_factory_name="ProtectionController";var de=oe.Z.getClassFactory(ne),$=function Ct(It,Rt){(function(Ve,mt){if(!(Ve instanceof mt))throw new TypeError("Cannot call a class as a function")})(this,Ct),this.keyID=It,this.key=Rt};function ue(Ct,It){for(var Rt=0;Rt<It.length;Rt++){var Ve=It[Rt];Ve.enumerable=Ve.enumerable||!1,Ve.configurable=!0,"value"in Ve&&(Ve.writable=!0),Object.defineProperty(Ct,Ve.key,Ve)}}var he=function(){function Ct(Ve,mt){if(function($e,dt){if(!($e instanceof dt))throw new TypeError("Cannot call a class as a function")}(this,Ct),mt&&mt!=="persistent"&&mt!=="temporary")throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=Ve,this.type=mt}var It,Rt;return It=Ct,(Rt=[{key:"toJWK",value:function(){var Ve,mt=this.keyPairs.length,$e={keys:[]};for(Ve=0;Ve<mt;Ve++){var dt={kty:"oct",alg:"A128KW",kid:this.keyPairs[Ve].keyID,k:this.keyPairs[Ve].key};$e.keys.push(dt)}this.type&&($e.type=this.type);var Ft=JSON.stringify($e),Bt=Ft.length,nn=new ArrayBuffer(Bt),rn=new Uint8Array(nn);for(Ve=0;Ve<Bt;Ve++)rn[Ve]=Ft.charCodeAt(Ve);return nn}}])&&ue(It.prototype,Rt),Ct}();function Ne(Ct,It){for(var Rt=0;Rt<It.length;Rt++){var Ve=It[Rt];Ve.enumerable=Ve.enumerable||!1,Ve.configurable=!0,"value"in Ve&&(Ve.writable=!0),Object.defineProperty(Ct,Ve.key,Ve)}}var ae=new(function(){function Ct(){(function(Ve,mt){if(!(Ve instanceof mt))throw new TypeError("Cannot call a class as a function")})(this,Ct),this.init()}var It,Rt;return It=Ct,(Rt=[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}])&&Ne(It.prototype,Rt),Ct}()),we="e2719d58-a985-b3c9-781a-b030af78d30e",Me=ae.CLEARKEY_KEYSTEM_STRING,je="urn:uuid:"+we;function Ie(Ct){var It=(Ct=Ct||{}).BASE64;return{uuid:we,schemeIdURI:je,systemString:Me,getInitData:function(Rt,Ve){try{var mt=o.parseInitDataFromContentProtection(Rt,It);if(!mt&&Ve){var $e={kids:[function(dt){try{var Ft=dt.replace(/-/g,"");return(Ft=btoa(Ft.match(/\w{2}/g).map(function(Bt){return String.fromCharCode(parseInt(Bt,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}(Ve["cenc:default_KID"])]};mt=new TextEncoder().encode(JSON.stringify($e))}return mt}catch{return null}},getRequestHeadersFromMessage:function(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function(Rt){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(Rt))))},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(Rt,Ve){var mt=null;if(Rt){for(var $e=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(Ve))),dt=[],Ft=0;Ft<$e.kids.length;Ft++){var Bt=$e.kids[Ft],nn=Rt.clearkeys&&Rt.clearkeys.hasOwnProperty(Bt)?Rt.clearkeys[Bt]:null;if(!nn)throw new Error("DRM: ClearKey keyID ("+Bt+") is not known!");dt.push(new $(Bt,nn))}mt=new he(dt)}return mt}}}Ie.__dashjs_factory_name="KeySystemClearKey";var Le=dashjs.FactoryMaker.getSingletonFactory(Ie),Qe="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",nt=ae.CLEARKEY_KEYSTEM_STRING,Re="urn:uuid:"+Qe;function Fe(Ct){var It,Rt=Ct.BASE64,Ve=Ct.debug.getLogger(It);return{uuid:Qe,schemeIdURI:Re,systemString:nt,getInitData:function(mt){return o.parseInitDataFromContentProtection(mt,Rt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(mt){return new Uint8Array(mt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(mt,$e){var dt=null;if(mt){for(var Ft=JSON.parse(String.fromCharCode.apply(null,new Uint8Array($e))),Bt=[],nn=0;nn<Ft.kids.length;nn++){var rn=Ft.kids[nn],Ht=mt.clearkeys&&mt.clearkeys.hasOwnProperty(rn)?mt.clearkeys[rn]:null;if(!Ht)throw new Error("DRM: ClearKey keyID ("+rn+") is not known!");Bt.push(new $(rn,Ht))}dt=new he(Bt),Ve.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return dt}}}Fe.__dashjs_factory_name="KeySystemW3CClearKey";var Tt=dashjs.FactoryMaker.getSingletonFactory(Fe),vt="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ze=ae.WIDEVINE_KEYSTEM_STRING,at="urn:uuid:"+vt;function Te(Ct){var It=(Ct=Ct||{}).BASE64;return{uuid:vt,schemeIdURI:at,systemString:ze,getInitData:function(Rt){return o.parseInitDataFromContentProtection(Rt,It)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(Rt){return new Uint8Array(Rt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null}}}Te.__dashjs_factory_name="KeySystemWidevine";var Ae=dashjs.FactoryMaker.getSingletonFactory(Te),He="9a04f079-9840-4286-ab92-e65be0885f95",m=ae.PLAYREADY_KEYSTEM_STRING,d="urn:uuid:"+He;function b(Ct){var It="utf-16",Rt=(Ct=Ct||{}).BASE64,Ve=Ct.settings;function mt(){if(!Rt||!Rt.hasOwnProperty("decodeArray")||!Rt.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:He,schemeIdURI:d,systemString:m,getInitData:function($e){var dt,Ft,Bt,nn,rn,Ht=new Uint8Array([112,115,115,104,0,0,0,0]),wt=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),tn=0,$t=null;if(mt(),!$e)return null;if("pssh"in $e)return o.parseInitDataFromContentProtection($e,Rt);if("pro"in $e)$t=Rt.decodeArray($e.pro.__text);else{if(!("prheader"in $e))return null;$t=Rt.decodeArray($e.prheader.__text)}return dt=$t.length,Ft=4+Ht.length+wt.length+4+dt,Bt=new ArrayBuffer(Ft),nn=new Uint8Array(Bt),(rn=new DataView(Bt)).setUint32(tn,Ft),tn+=4,nn.set(Ht,tn),tn+=Ht.length,nn.set(wt,tn),tn+=wt.length,rn.setUint32(tn,dt),tn+=4,nn.set($t,tn),tn+=dt,nn.buffer},getRequestHeadersFromMessage:function($e){var dt,Ft,Bt={},nn=new DOMParser;if(Ve&&Ve.get().streaming.protection.detectPlayreadyMessageFormat&&It==="utf-16"&&$e&&$e.byteLength%2==1)return Bt["Content-Type"]="text/xml; charset=utf-8",Bt;var rn=It==="utf-16"?new Uint16Array($e):new Uint8Array($e);dt=String.fromCharCode.apply(null,rn);for(var Ht=(Ft=nn.parseFromString(dt,"application/xml")).getElementsByTagName("name"),wt=Ft.getElementsByTagName("value"),tn=0;tn<Ht.length;tn++)Bt[Ht[tn].childNodes[0].nodeValue]=wt[tn].childNodes[0].nodeValue;return Bt.hasOwnProperty("Content")&&(Bt["Content-Type"]=Bt.Content,delete Bt.Content),Bt.hasOwnProperty("Content-Type")||(Bt["Content-Type"]="text/xml; charset=utf-8"),Bt},getLicenseRequestFromMessage:function($e){var dt=null,Ft=new DOMParser;if(Ve&&Ve.get().streaming.protection.detectPlayreadyMessageFormat&&It==="utf-16"&&$e&&$e.byteLength%2==1)return $e;var Bt=It==="utf-16"?new Uint16Array($e):new Uint8Array($e);mt();var nn=String.fromCharCode.apply(null,Bt),rn=Ft.parseFromString(nn,"application/xml");if(!rn.getElementsByTagName("PlayReadyKeyMessage")[0])return $e;var Ht=rn.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return Ht&&(dt=Rt.decode(Ht)),dt},getLicenseServerURLFromInitData:function($e){if($e)for(var dt=new DataView($e),Ft=dt.getUint16(4,!0),Bt=6,nn=new DOMParser,rn=0;rn<Ft;rn++){var Ht=dt.getUint16(Bt,!0);Bt+=2;var wt=dt.getUint16(Bt,!0);if(Bt+=2,Ht===1){var tn=$e.slice(Bt,Bt+wt),$t=String.fromCharCode.apply(null,new Uint16Array(tn)),dn=nn.parseFromString($t,"application/xml");if(dn.getElementsByTagName("LA_URL")[0]){var Sn=dn.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(Sn)return Sn}if(dn.getElementsByTagName("LUI_URL")[0]){var Dn=dn.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(Dn)return Dn}}else Bt+=wt}return null},getCDMData:function($e){var dt,Ft,Bt,nn;if(mt(),!$e)return null;for(dt=[],nn=0;nn<$e.length;++nn)dt.push($e.charCodeAt(nn)),dt.push(0);for(dt=String.fromCharCode.apply(null,dt),dt=Rt.encode(dt),Ft='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",dt),Bt=[],nn=0;nn<Ft.length;++nn)Bt.push(Ft.charCodeAt(nn)),Bt.push(0);return new Uint8Array(Bt).buffer},setPlayReadyMessageFormat:function($e){if($e!=="utf-8"&&$e!=="utf-16")throw new Error('Specified message format is not one of "utf-8" or "utf-16"');It=$e}}}b.__dashjs_factory_name="KeySystemPlayReady";var C=dashjs.FactoryMaker.getSingletonFactory(b);function re(Ct){var It=(Ct=Ct||{}).BASE64,Rt={};return Rt[ae.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(Ve){return It.decodeArray(Ve.license)},getErrorResponse:function(Ve){return Ve}},Rt[ae.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(Ve){return Ve},getErrorResponse:function(Ve){return String.fromCharCode.apply(null,new Uint8Array(Ve))}},{getServerURLFromMessage:function(Ve){return Ve},getHTTPMethod:function(){return"POST"},getResponseType:function(Ve){return Rt[Ve].responseType},getLicenseMessage:function(Ve,mt){return function(){if(!It||!It.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),Rt[mt].getLicenseMessage(Ve)},getErrorResponse:function(Ve,mt){return Rt[mt].getErrorResponse(Ve)}}}re.__dashjs_factory_name="DRMToday";var te=dashjs.FactoryMaker.getSingletonFactory(re);function De(){var Ct="http://schemas.xmlsoap.org/soap/envelope/";function It(mt){var $e=String.fromCharCode.apply(null,new Uint8Array(mt));return decodeURIComponent(escape($e))}function Rt(mt){if(window.DOMParser){var $e=It(mt),dt=new window.DOMParser().parseFromString($e,"text/xml"),Ft=dt?dt.getElementsByTagNameNS(Ct,"Envelope")[0]:null,Bt=Ft?Ft.getElementsByTagNameNS(Ct,"Body")[0]:null;if(Bt&&Bt.getElementsByTagNameNS(Ct,"Fault")[0])return null}return mt}function Ve(mt){var $e="",dt="",Ft="",Bt=-1,nn=-1;if(window.DOMParser){var rn=It(mt),Ht=new window.DOMParser().parseFromString(rn,"text/xml"),wt=Ht?Ht.getElementsByTagNameNS(Ct,"Envelope")[0]:null,tn=wt?wt.getElementsByTagNameNS(Ct,"Body")[0]:null,$t=tn?tn.getElementsByTagNameNS(Ct,"Fault")[0]:null,dn=$t?$t.getElementsByTagName("detail")[0]:null,Sn=dn?dn.getElementsByTagName("Exception")[0]:null,Dn=null;if($t===null)return rn;$e=(Dn=$t.getElementsByTagName("faultstring")[0].firstChild)?Dn.nodeValue:null,Sn!==null&&(dt=(Dn=Sn.getElementsByTagName("StatusCode")[0])?Dn.firstChild.nodeValue:null,Bt=(Ft=(Dn=Sn.getElementsByTagName("Message")[0])?Dn.firstChild.nodeValue:null)?Ft.lastIndexOf("[")+1:-1,nn=Ft?Ft.indexOf("]"):-1,Ft=Ft?Ft.substring(Bt,nn):"")}var sn="code: ".concat(dt,", name: ").concat($e);return Ft&&(sn+=", message: ".concat(Ft)),sn}return{getServerURLFromMessage:function(mt){return mt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(mt){return Rt.call(this,mt)},getErrorResponse:function(mt){return Ve.call(this,mt)}}}De.__dashjs_factory_name="PlayReady";var tt=oe.Z.getSingletonFactory(De);function Ge(){return{getServerURLFromMessage:function(Ct){return Ct},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(Ct){return Ct},getErrorResponse:function(Ct){return String.fromCharCode.apply(null,new Uint8Array(Ct))}}}Ge.__dashjs_factory_name="Widevine";var Be=dashjs.FactoryMaker.getSingletonFactory(Ge);function Pe(){return{getServerURLFromMessage:function(Ct){return Ct},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"json"},getLicenseMessage:function(Ct){if(!Ct.hasOwnProperty("keys"))return null;for(var It=[],Rt=0;Rt<Ct.keys.length;Rt++){var Ve=Ct.keys[Rt],mt=Ve.kid.replace(/=/g,""),$e=Ve.k.replace(/=/g,"");It.push(new $(mt,$e))}return new he(It)},getErrorResponse:function(Ct){return String.fromCharCode.apply(null,new Uint8Array(Ct))}}}Pe.__dashjs_factory_name="ClearKey";var Ye=dashjs.FactoryMaker.getSingletonFactory(Pe);function ot(){var Ct,It,Rt,Ve,mt,$e,dt,Ft,Bt=this.context;function nn(wt,tn){return tn&&wt in tn?tn[wt]:null}function rn(wt,tn){return wt&&wt.sessionId?wt.sessionId:tn&&tn.sessionId?tn.sessionId:null}function Ht(wt,tn){return wt&&wt.sessionType?wt.sessionType:tn}return Ct={initialize:function(){var wt;Ve=[],wt=C(Bt).getInstance({BASE64:mt,settings:$e}),Ve.push(wt),wt=Ae(Bt).getInstance({BASE64:mt}),Ve.push(wt),wt=Le(Bt).getInstance({BASE64:mt}),Ve.push(wt),dt=wt,wt=Tt(Bt).getInstance({BASE64:mt,debug:It}),Ve.push(wt),Ft=wt},setProtectionData:function(wt){for(var tn,$t,dn=0;dn<Ve.length;dn++){var Sn=Ve[dn];Sn.hasOwnProperty("init")&&Sn.init((tn=Sn.systemString,$t=void 0,$t=null,wt&&($t=tn in wt?wt[tn]:null),$t))}},isClearKey:function(wt){return wt===dt||wt===Ft},initDataEquals:function(wt,tn){if(wt.byteLength===tn.byteLength){for(var $t=new Uint8Array(wt),dn=new Uint8Array(tn),Sn=0;Sn<$t.length;Sn++)if($t[Sn]!==dn[Sn])return!1;return!0}return!1},getKeySystems:function(){return Ve},setKeySystems:function(wt){Ve=wt},getKeySystemBySystemString:function(wt){for(var tn=0;tn<Ve.length;tn++)if(Ve[tn].systemString===wt)return Ve[tn];return null},getSupportedKeySystemsFromContentProtection:function(wt,tn,$t){var dn,Sn,Dn,sn,At=[];if(wt){var Dt=o.findCencContentProtection(wt);for(Dn=0;Dn<Ve.length;++Dn){var Yt=nn((Sn=Ve[Dn]).systemString,tn);for(sn=0;sn<wt.length;++sn)if((dn=wt[sn]).schemeIdUri.toLowerCase()===Sn.schemeIdURI){var fn=Sn.getInitData(dn,Dt);At.push({ks:Ve[Dn],keyId:dn.keyId,initData:fn,protData:Yt,cdmData:Sn.getCDMData(Yt?Yt.cdmData:null),sessionId:rn(Yt,dn),sessionType:Ht(Yt,$t)})}}}return At},getSupportedKeySystemsFromSegmentPssh:function(wt,tn,$t){for(var dn,Sn=[],Dn=o.parsePSSHList(wt),sn=0;sn<Ve.length;++sn){var At=nn((dn=Ve[sn]).systemString,tn);dn.uuid in Dn&&Sn.push({ks:dn,initData:Dn[dn.uuid],protData:At,cdmData:dn.getCDMData(At?At.cdmData:null),sessionId:rn(At),sessionType:Ht(At,$t)})}return Sn},getLicenseServerModelInstance:function(wt,tn,$t){if($t==="license-release"||$t==="individualization-request")return null;var dn=null;return tn&&tn.hasOwnProperty("drmtoday")?dn=te(Bt).getInstance({BASE64:mt}):wt.systemString===ae.WIDEVINE_KEYSTEM_STRING?dn=Be(Bt).getInstance():wt.systemString===ae.PLAYREADY_KEYSTEM_STRING?dn=tt(Bt).getInstance():wt.systemString===ae.CLEARKEY_KEYSTEM_STRING&&(dn=Ye(Bt).getInstance()),dn},processClearKeyLicenseRequest:function(wt,tn,$t){try{return wt.getClearKeysFromProtectionData(tn,$t)}catch{return Rt.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(wt){wt&&(wt.debug&&(It=wt.debug,Rt=It.getLogger(Ct)),wt.BASE64&&(mt=wt.BASE64),wt.settings&&($e=wt.settings))}},Ct}ot.__dashjs_factory_name="ProtectionKeyController";var St=dashjs.FactoryMaker.getSingletonFactory(ot);function ft(Ct){return ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(It){return typeof It}:function(It){return It&&typeof Symbol=="function"&&It.constructor===Symbol&&It!==Symbol.prototype?"symbol":typeof It},ft(Ct)}function zt(Ct,It){return zt=Object.setPrototypeOf||function(Rt,Ve){return Rt.__proto__=Ve,Rt},zt(Ct,It)}function Ot(Ct,It){return!It||ft(It)!=="object"&&typeof It!="function"?function(Rt){if(Rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Rt}(Ct):It}function Gt(Ct){return Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(It){return It.__proto__||Object.getPrototypeOf(It)},Gt(Ct)}var Zt=new(function(Ct){(function($e,dt){if(typeof dt!="function"&&dt!==null)throw new TypeError("Super expression must either be null or a function");$e.prototype=Object.create(dt&&dt.prototype,{constructor:{value:$e,writable:!0,configurable:!0}}),dt&&zt($e,dt)})(mt,Ct);var It,Rt,Ve=(It=mt,Rt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var $e,dt=Gt(It);if(Rt){var Ft=Gt(this).constructor;$e=Reflect.construct(dt,arguments,Ft)}else $e=dt.apply(this,arguments);return Ot(this,$e)});function mt(){var $e;return function(dt,Ft){if(!(dt instanceof Ft))throw new TypeError("Cannot call a class as a function")}(this,mt),($e=Ve.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",$e.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",$e.KEY_ADDED="public_keyAdded",$e.KEY_ERROR="public_keyError",$e.KEY_MESSAGE="public_keyMessage",$e.KEY_SESSION_CLOSED="public_keySessionClosed",$e.KEY_SESSION_CREATED="public_keySessionCreated",$e.KEY_SESSION_REMOVED="public_keySessionRemoved",$e.KEY_STATUSES_CHANGED="public_keyStatusesChanged",$e.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",$e.KEY_SYSTEM_SELECTED="public_keySystemSelected",$e.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",$e.LICENSE_REQUEST_SENDING="public_licenseRequestSending",$e.NEED_KEY="needkey",$e.PROTECTION_CREATED="public_protectioncreated",$e.PROTECTION_DESTROYED="public_protectiondestroyed",$e.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",$e.TEARDOWN_COMPLETE="protectionTeardownComplete",$e.VIDEO_ELEMENT_SELECTED="videoElementSelected",$e.KEY_SESSION_UPDATED="public_keySessionUpdated",$e}return mt}(S(8342).Z)),cn=function Ct(It,Rt){(function(Ve,mt){if(!(Ve instanceof mt))throw new TypeError("Cannot call a class as a function")})(this,Ct),this.initData=It,this.initDataType=Rt},Tn=function Ct(It,Rt,Ve,mt){(function($e,dt){if(!($e instanceof dt))throw new TypeError("Cannot call a class as a function")})(this,Ct),this.sessionToken=It,this.message=Rt,this.defaultURL=Ve,this.messageType=mt||"license-request"},kn=function Ct(It,Rt){(function(Ve,mt){if(!(Ve instanceof mt))throw new TypeError("Cannot call a class as a function")})(this,Ct),this.keySystem=It,this.ksConfiguration=Rt},Mn={};function Un(Ct){Ct=Ct||{};var It,Rt,Ve,mt,$e,dt,Ft,Bt,nn=this.context,rn=Ct.eventBus,Ht=Ct.events,wt=Ct.debug;function tn(At,Dt,Yt,fn){if(navigator.requestMediaKeySystemAccess===void 0||typeof navigator.requestMediaKeySystemAccess!="function"){var hn="Insecure origins are not allowed";return rn.trigger(Ht.KEY_SYSTEM_ACCESS_COMPLETE,{error:hn}),void fn({error:hn})}var In=At[Dt].protData&&At[Dt].protData.systemStringPriority?At[Dt].protData.systemStringPriority:null,Cn=At[Dt].configs,gr=At[Dt].ks,pr=gr.systemString;(function(jn,or){return new Promise(function(Vn,hr){$t(jn,or,0,Vn,hr)})})(In||(Mn[pr]?Mn[pr]:[pr]),Cn).then(function(jn){var or=typeof jn.getConfiguration=="function"?jn.getConfiguration():null,Vn=new kn(gr,or);Vn.mksa=jn,rn.trigger(Ht.KEY_SYSTEM_ACCESS_COMPLETE,{data:Vn}),Yt({data:Vn})}).catch(function(jn){if(Dt+1<At.length)tn(At,Dt+1,Yt,fn);else{var or="Key system access denied! ";rn.trigger(Ht.KEY_SYSTEM_ACCESS_COMPLETE,{error:or+jn.message}),fn({error:or+jn.message})}})}function $t(At,Dt,Yt,fn,hn){var In=At[Yt];Rt.debug("Requesting key system access for system string ".concat(In)),navigator.requestMediaKeySystemAccess(In,Dt).then(function(Cn){Cn.selectedSystemString=In,fn(Cn)}).catch(function(Cn){Yt+1<At.length?$t(At,Dt,Yt+1,fn,hn):hn(Cn)})}function dn(At){if(!At||!At.session)return Promise.resolve;var Dt=At.session;return Dt.removeEventListener("keystatuseschange",At),Dt.removeEventListener("message",At),Dt.close()}function Sn(At){for(var Dt=0;Dt<dt.length;Dt++)if(dt[Dt]===At){dt.splice(Dt,1);break}}function Dn(At){var Dt,Yt;return At&&At.length>0&&(At[0]&&(typeof At[0]=="string"?Dt=At[0]:Yt=At[0]),At[1]&&(typeof At[1]=="string"?Dt=At[1]:Yt=At[1])),{status:Dt,keyId:Yt}}function sn(At,Dt){var Yt={session:At,keyId:Dt.keyId,initData:Dt.initData,sessionId:Dt.sessionId,sessionType:Dt.sessionType,handleEvent:function(fn){switch(fn.type){case"keystatuseschange":rn.trigger(Ht.KEY_STATUSES_CHANGED,{data:this}),fn.target.keyStatuses.forEach(function(){var In=Dn(arguments);In.status==="expired"?rn.trigger(Ht.INTERNAL_KEY_STATUS_CHANGED,{error:new l.Z(r.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,r.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}):rn.trigger(Ht.INTERNAL_KEY_STATUS_CHANGED,In)});break;case"message":var hn=ArrayBuffer.isView(fn.message)?fn.message.buffer:fn.message;rn.trigger(Ht.INTERNAL_KEY_MESSAGE,{data:new Tn(this,hn,void 0,fn.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return At.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return At.expiration},getKeyStatuses:function(){return At.keyStatuses},getUsable:function(){var fn=!1;return At.keyStatuses.forEach(function(){var hn=Dn(arguments);hn.status==="usable"&&(fn=!0)}),fn}};return At.addEventListener("keystatuseschange",Yt),At.addEventListener("message",Yt),At.closed.then(function(){Sn(Yt),Rt.debug("DRM: Session closed.  SessionID = "+Yt.getSessionId()),rn.trigger(Ht.KEY_SESSION_CLOSED,{data:Yt.getSessionId()})}),dt.push(Yt),Yt}return It={getAllInitData:function(){for(var At=[],Dt=0;Dt<dt.length;Dt++)dt[Dt].initData&&At.push(dt[Dt].initData);return At},getSessions:function(){return dt},requestKeySystemAccess:function(At){return new Promise(function(Dt,Yt){tn(At,0,Dt,Yt)})},selectKeySystem:function(At){return new Promise(function(Dt,Yt){At.mksa.createMediaKeys().then(function(fn){return Ve=At.keySystem,$e=fn,mt?mt.setMediaKeys($e):Promise.resolve()}).then(function(){Dt(Ve)}).catch(function(){Yt({error:"Error selecting keys system ("+At.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function(At){mt!==At&&(mt&&(mt.removeEventListener("encrypted",Ft),mt.setMediaKeys&&mt.setMediaKeys(null)),(mt=At)&&(mt.addEventListener("encrypted",Ft),mt.setMediaKeys&&$e&&mt.setMediaKeys($e)))},setServerCertificate:function(At){if(!Ve||!$e)throw new Error("Can not set server certificate until you have selected a key system");$e.setServerCertificate(At).then(function(){Rt.info("DRM: License server certificate successfully updated."),rn.trigger(Ht.SERVER_CERTIFICATE_UPDATED)}).catch(function(Dt){rn.trigger(Ht.SERVER_CERTIFICATE_UPDATED,{error:new l.Z(r.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,r.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+Dt.name)})})},createKeySession:function(At){if(!Ve||!$e)throw new Error("Can not create sessions until you have selected a key system");var Dt=$e.createSession(At.sessionType),Yt=sn(Dt,At),fn=Ve.systemString===ae.CLEARKEY_KEYSTEM_STRING&&(At.initData||At.protData&&At.protData.clearkeys)?ae.INITIALIZATION_DATA_TYPE_KEYIDS:ae.INITIALIZATION_DATA_TYPE_CENC;Dt.generateRequest(fn,At.initData).then(function(){Rt.debug("DRM: Session created.  SessionID = "+Yt.getSessionId()),rn.trigger(Ht.KEY_SESSION_CREATED,{data:Yt})}).catch(function(hn){Sn(Yt),rn.trigger(Ht.KEY_SESSION_CREATED,{data:null,error:new l.Z(r.KEY_SESSION_CREATED_ERROR_CODE,r.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+hn.name)})})},updateKeySession:function(At,Dt){var Yt=At.session;Bt.isClearKey(Ve)&&(Dt=Dt.toJWK()),Yt.update(Dt).then(function(){rn.trigger(Ht.KEY_SESSION_UPDATED)}).catch(function(fn){rn.trigger(Ht.KEY_ERROR,{error:new l.Z(r.MEDIA_KEYERR_CODE,"Error sending update() message! "+fn.name,At)})})},loadKeySession:function(At){if(!Ve||!$e)throw new Error("Can not load sessions until you have selected a key system");for(var Dt=At.sessionId,Yt=0;Yt<dt.length;Yt++)if(Dt===dt[Yt].sessionId)return void Rt.warn("DRM: Ignoring session ID because we have already seen it!");var fn=$e.createSession(At.sessionType),hn=sn(fn,At);fn.load(Dt).then(function(In){In?(Rt.debug("DRM: Session loaded.  SessionID = "+hn.getSessionId()),rn.trigger(Ht.KEY_SESSION_CREATED,{data:hn})):(Sn(hn),rn.trigger(Ht.KEY_SESSION_CREATED,{data:null,error:new l.Z(r.KEY_SESSION_CREATED_ERROR_CODE,r.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+Dt+")")}))}).catch(function(In){Sn(hn),rn.trigger(Ht.KEY_SESSION_CREATED,{data:null,error:new l.Z(r.KEY_SESSION_CREATED_ERROR_CODE,r.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+Dt+")! "+In.name)})})},removeKeySession:function(At){At.session.remove().then(function(){Rt.debug("DRM: Session removed.  SessionID = "+At.getSessionId()),rn.trigger(Ht.KEY_SESSION_REMOVED,{data:At.getSessionId()})},function(Dt){rn.trigger(Ht.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+At.getSessionId()+"). "+Dt.name})})},closeKeySession:function(At){dn(At).catch(function(Dt){Sn(At),rn.trigger(Ht.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+At.getSessionId()+") "+Dt.name})})},stop:function(){for(var At,Dt=0;Dt<dt.length;Dt++)(At=dt[Dt]).getUsable()||(dn(At),Sn(At))},reset:function(){var At,Dt=dt.length;Dt!==0?function(){for(var Yt=function(hn){Sn(hn),dt.length===0&&(mt?(mt.removeEventListener("encrypted",Ft),mt.setMediaKeys(null).then(function(){rn.trigger(Ht.TEARDOWN_COMPLETE)})):rn.trigger(Ht.TEARDOWN_COMPLETE))},fn=0;fn<Dt;fn++)(function(hn){dn(At),Yt(hn)})(At=dt[fn])}():rn.trigger(Ht.TEARDOWN_COMPLETE)}},Rt=wt.getLogger(It),Ve=null,mt=null,$e=null,dt=[],Bt=St(nn).getInstance(),Ft={handleEvent:function(At){if(At.type==="encrypted"&&At.initData){var Dt=ArrayBuffer.isView(At.initData)?At.initData.buffer:At.initData;rn.trigger(Ht.NEED_KEY,{key:new cn(Dt,At.initDataType)})}}},It}Mn[ae.PLAYREADY_KEYSTEM_STRING]=[ae.PLAYREADY_KEYSTEM_STRING,ae.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],Mn[ae.WIDEVINE_KEYSTEM_STRING]=[ae.WIDEVINE_KEYSTEM_STRING],Mn[ae.CLEARKEY_KEYSTEM_STRING]=[ae.CLEARKEY_KEYSTEM_STRING],Un.__dashjs_factory_name="ProtectionModel_21Jan2015";var cr=dashjs.FactoryMaker.getClassFactory(Un);function Nn(Ct){Ct=Ct||{};var It,Rt,Ve,mt,$e,dt,Ft,Bt,nn,rn=this.context,Ht=Ct.eventBus,wt=Ct.events,tn=Ct.debug,$t=Ct.api;function dn(){try{for(var sn=0;sn<Ft.length;sn++)Sn(Ft[sn]);Ve&&Ve.removeEventListener($t.needkey,Bt),Ht.trigger(wt.TEARDOWN_COMPLETE)}catch(At){Ht.trigger(wt.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+At.message})}}function Sn(sn){var At=sn.session;At.removeEventListener($t.error,sn),At.removeEventListener($t.message,sn),At.removeEventListener($t.ready,sn),At.removeEventListener($t.close,sn);for(var Dt=0;Dt<Ft.length;Dt++)if(Ft[Dt]===sn){Ft.splice(Dt,1);break}At[$t.release]()}function Dn(){var sn=null,At=function(){Ve.removeEventListener("loadedmetadata",sn),Ve[$t.setMediaKeys]($e),Ht.trigger(wt.VIDEO_ELEMENT_SELECTED)};Ve.readyState>=1?At():(sn=At.bind(this),Ve.addEventListener("loadedmetadata",sn))}return It={getAllInitData:function(){for(var sn=[],At=0;At<Ft.length;At++)sn.push(Ft[At].initData);return sn},getSessions:function(){return Ft},requestKeySystemAccess:function(sn){return new Promise(function(At,Dt){for(var Yt=!1,fn=0;fn<sn.length;fn++)for(var hn=sn[fn].ks.systemString,In=sn[fn].configs,Cn=null,gr=null,pr=0;pr<In.length;pr++){var jn=In[pr].audioCapabilities,or=In[pr].videoCapabilities;if(jn&&jn.length!==0){Cn=[];for(var Vn=0;Vn<jn.length;Vn++)window[$t.MediaKeys].isTypeSupported(hn,jn[Vn].contentType)&&Cn.push(jn[Vn])}if(or&&or.length!==0){gr=[];for(var hr=0;hr<or.length;hr++)window[$t.MediaKeys].isTypeSupported(hn,or[hr].contentType)&&gr.push(or[hr])}if(!(!Cn&&!gr||Cn&&Cn.length===0||gr&&gr.length===0)){Yt=!0;var ki=new _(Cn,gr),$r=nn.getKeySystemBySystemString(hn),li=new kn($r,ki);Ht.trigger(wt.KEY_SYSTEM_ACCESS_COMPLETE,{data:li}),At({data:li});break}}if(!Yt){var Ar="Key system access denied! -- No valid audio/video content configurations detected!";Ht.trigger(wt.KEY_SYSTEM_ACCESS_COMPLETE,{error:Ar}),Dt({error:Ar})}})},selectKeySystem:function(sn){return new Promise(function(At,Dt){try{$e=sn.mediaKeys=new window[$t.MediaKeys](sn.keySystem.systemString),mt=sn.keySystem,dt=sn,Ve&&Dn(),At(mt)}catch{Dt({error:"Error selecting keys system ("+mt.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function(sn){Ve!==sn&&(Ve&&Ve.removeEventListener($t.needkey,Bt),(Ve=sn)&&(Ve.addEventListener($t.needkey,Bt),$e&&Dn()))},createKeySession:function(sn){if(!mt||!$e||!dt)throw new Error("Can not create sessions until you have selected a key system");var At=null;if(dt.ksConfiguration.videoCapabilities&&dt.ksConfiguration.videoCapabilities.length>0&&(At=dt.ksConfiguration.videoCapabilities[0]),At===null&&dt.ksConfiguration.audioCapabilities&&dt.ksConfiguration.audioCapabilities.length>0&&(At=dt.ksConfiguration.audioCapabilities[0]),At===null)throw new Error("Can not create sessions for unknown content types.");var Dt=At.contentType,Yt=$e.createSession(Dt,new Uint8Array(sn.initData),sn.cdmData?new Uint8Array(sn.cdmData):null),fn=function(hn,In){return{session:hn,keyId:In.keyId,initData:In.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(Cn){switch(Cn.type){case $t.error:Ht.trigger(wt.KEY_ERROR,{error:new l.Z(r.MEDIA_KEYERR_CODE,"KeyError",this)});break;case $t.message:var gr=ArrayBuffer.isView(Cn.message)?Cn.message.buffer:Cn.message;Ht.trigger(wt.INTERNAL_KEY_MESSAGE,{data:new Tn(this,gr,Cn.destinationURL)});break;case $t.ready:Rt.debug("DRM: Key added."),Ht.trigger(wt.KEY_ADDED);break;case $t.close:Rt.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),Ht.trigger(wt.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(Yt,sn);Yt.addEventListener($t.error,fn),Yt.addEventListener($t.message,fn),Yt.addEventListener($t.ready,fn),Yt.addEventListener($t.close,fn),Ft.push(fn),Rt.debug("DRM: Session created.  SessionID = "+fn.getSessionId()),Ht.trigger(wt.KEY_SESSION_CREATED,{data:fn})},updateKeySession:function(sn,At){var Dt=sn.session;nn.isClearKey(mt)?Dt.update(new Uint8Array(At.toJWK())):Dt.update(new Uint8Array(At)),Ht.trigger(wt.KEY_SESSION_UPDATED)},closeKeySession:Sn,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:dn,reset:dn},Rt=tn.getLogger(It),Ve=null,mt=null,$e=null,dt=null,Ft=[],nn=St(rn).getInstance(),Bt={handleEvent:function(sn){if(sn.type===$t.needkey&&sn.initData){var At=ArrayBuffer.isView(sn.initData)?sn.initData.buffer:sn.initData;Ht.trigger(wt.NEED_KEY,{key:new cn(At,"cenc")})}}},It}Nn.__dashjs_factory_name="ProtectionModel_3Feb2014";var Dr=dashjs.FactoryMaker.getClassFactory(Nn);function tr(Ct){Ct=Ct||{};var It,Rt,Ve,mt,$e,dt,Ft,Bt,nn,rn=this.context,Ht=Ct.eventBus,wt=Ct.events,tn=Ct.debug,$t=Ct.api,dn=Ct.errHandler;function Sn(){Ve&&At();for(var Dt=0;Dt<Ft.length;Dt++)Dn(Ft[Dt]);Ht.trigger(wt.TEARDOWN_COMPLETE)}function Dn(Dt){try{Ve[$t.cancelKeyRequest](mt.systemString,Dt.sessionId)}catch(Yt){Ht.trigger(wt.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Dt.sessionId+") "+Yt.message})}}function sn(Dt,Yt){if(Yt&&Dt){for(var fn=Dt.length,hn=0;hn<fn;hn++)if(Dt[hn].sessionId==Yt)return Dt[hn];return null}return null}function At(){Ve.removeEventListener($t.keyerror,nn),Ve.removeEventListener($t.needkey,nn),Ve.removeEventListener($t.keymessage,nn),Ve.removeEventListener($t.keyadded,nn)}return It={getAllInitData:function(){for(var Dt=[],Yt=0;Yt<dt.length;Yt++)Dt.push(dt[Yt].initData);for(var fn=0;fn<Ft.length;fn++)Dt.push(Ft[fn].initData);return Dt},getSessions:function(){return Ft.concat(dt)},requestKeySystemAccess:function(Dt){return new Promise(function(Yt,fn){var hn=Ve;hn||(hn=document.createElement("video"));for(var In=!1,Cn=0;Cn<Dt.length;Cn++)for(var gr=Dt[Cn].ks.systemString,pr=Dt[Cn].configs,jn=null,or=0;or<pr.length;or++){var Vn=pr[or].videoCapabilities;if(Vn&&Vn.length!==0){jn=[];for(var hr=0;hr<Vn.length;hr++)hn.canPlayType(Vn[hr].contentType,gr)!==""&&jn.push(Vn[hr])}if(jn&&(!jn||jn.length!==0)){In=!0;var ki=new _(null,jn),$r=$e.getKeySystemBySystemString(gr),li=new kn($r,ki);Ht.trigger(wt.KEY_SYSTEM_ACCESS_COMPLETE,{data:li}),Yt({data:li});break}}if(!In){var Ar="Key system access denied! -- No valid audio/video content configurations detected!";Ht.trigger(wt.KEY_SYSTEM_ACCESS_COMPLETE,{error:Ar}),fn({error:Ar})}})},selectKeySystem:function(Dt){return mt=Dt.keySystem,Promise.resolve(mt)},setMediaElement:function(Dt){if(Ve!==Dt){if(Ve){At();for(var Yt=0;Yt<Ft.length;Yt++)Dn(Ft[Yt]);Ft=[]}(Ve=Dt)&&(Ve.addEventListener($t.keyerror,nn),Ve.addEventListener($t.needkey,nn),Ve.addEventListener($t.keymessage,nn),Ve.addEventListener($t.keyadded,nn),Ht.trigger(wt.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(Dt){if(!mt)throw new Error("Can not create sessions until you have selected a key system");if(Bt||Ft.length===0){var Yt={sessionId:null,keyId:Dt.keyId,initData:Dt.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return dt.push(Yt),Ve[$t.generateKeyRequest](mt.systemString,new Uint8Array(Dt.initData)),Yt}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(Dt,Yt){var fn=Dt.sessionId;if($e.isClearKey(mt))for(var hn=0;hn<Yt.keyPairs.length;hn++)Ve[$t.addKey](mt.systemString,Yt.keyPairs[hn].key,Yt.keyPairs[hn].keyID,fn);else Ve[$t.addKey](mt.systemString,new Uint8Array(Yt),new Uint8Array(Dt.initData),fn);Ht.trigger(wt.KEY_SESSION_UPDATED)},closeKeySession:Dn,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:Sn,reset:Sn},Rt=tn.getLogger(It),Ve=null,mt=null,dt=[],Ft=[],$e=St(rn).getInstance(),nn={handleEvent:function(Dt){var Yt=null;switch(Dt.type){case $t.needkey:var fn=ArrayBuffer.isView(Dt.initData)?Dt.initData.buffer:Dt.initData;Ht.trigger(wt.NEED_KEY,{key:new cn(fn,"cenc")});break;case $t.keyerror:if((Yt=sn(Ft,Dt.sessionId))||(Yt=sn(dt,Dt.sessionId)),Yt){var hn=r.MEDIA_KEYERR_CODE,In="";switch(Dt.errorCode.code){case 1:hn=r.MEDIA_KEYERR_UNKNOWN_CODE,In+="MEDIA_KEYERR_UNKNOWN - "+r.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:hn=r.MEDIA_KEYERR_CLIENT_CODE,In+="MEDIA_KEYERR_CLIENT - "+r.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:hn=r.MEDIA_KEYERR_SERVICE_CODE,In+="MEDIA_KEYERR_SERVICE - "+r.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:hn=r.MEDIA_KEYERR_OUTPUT_CODE,In+="MEDIA_KEYERR_OUTPUT - "+r.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:hn=r.MEDIA_KEYERR_HARDWARECHANGE_CODE,In+="MEDIA_KEYERR_HARDWARECHANGE - "+r.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:hn=r.MEDIA_KEYERR_DOMAIN_CODE,In+="MEDIA_KEYERR_DOMAIN - "+r.MEDIA_KEYERR_DOMAIN_MESSAGE}In+="  System Code = "+Dt.systemCode,Ht.trigger(wt.KEY_ERROR,{error:new l.Z(hn,In,Yt)})}else Rt.error("No session token found for key error");break;case $t.keyadded:(Yt=sn(Ft,Dt.sessionId))||(Yt=sn(dt,Dt.sessionId)),Yt?(Rt.debug("DRM: Key added."),Ht.trigger(wt.KEY_ADDED,{data:Yt})):Rt.debug("No session token found for key added");break;case $t.keymessage:if((Bt=Dt.sessionId!==null&&Dt.sessionId!==void 0)?!(Yt=sn(Ft,Dt.sessionId))&&dt.length>0&&(Yt=dt.shift(),Ft.push(Yt),Yt.sessionId=Dt.sessionId,Ht.trigger(wt.KEY_SESSION_CREATED,{data:Yt})):dt.length>0&&(Yt=dt.shift(),Ft.push(Yt),dt.length!==0&&dn.error(new l.Z(r.MEDIA_KEY_MESSAGE_ERROR_CODE,r.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),Yt){var Cn=ArrayBuffer.isView(Dt.message)?Dt.message.buffer:Dt.message;Yt.keyMessage=Cn,Ht.trigger(wt.INTERNAL_KEY_MESSAGE,{data:new Tn(Yt,Cn,Dt.defaultURL)})}else Rt.warn("No session token found for key message")}}},It}tr.__dashjs_factory_name="ProtectionModel_01b";var vr=dashjs.FactoryMaker.getClassFactory(tr),jr=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],Er=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function Qr(){var Ct,It=this.context;function Rt(Ve,mt){for(var $e=0;$e<mt.length;$e++){var dt=mt[$e];if(typeof Ve[dt[Object.keys(dt)[0]]]=="function")return dt}return null}return Ct={createProtectionSystem:function(Ve){var mt=null,$e=St(It).getInstance();$e.setConfig({debug:Ve.debug,BASE64:Ve.BASE64,settings:Ve.settings}),$e.initialize();var dt=function(Ft){var Bt=Ft.debug,nn=Bt.getLogger(Ct),rn=Ft.eventBus,Ht=Ft.errHandler,wt=Ft.videoModel?Ft.videoModel.getElement():null;return wt&&wt.onencrypted===void 0||wt&&wt.mediaKeys===void 0?Rt(wt,Er)?(nn.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Dr(It).create({debug:Bt,eventBus:rn,events:Ft.events,api:Rt(wt,Er)})):Rt(wt,jr)?(nn.info("EME detected on this user agent! (ProtectionModel_01b)"),vr(It).create({debug:Bt,eventBus:rn,errHandler:Ht,events:Ft.events,api:Rt(wt,jr)})):(nn.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(nn.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),cr(It).create({debug:Bt,eventBus:rn,events:Ft.events}))}(Ve);return!mt&&dt&&(mt=de(It).create({protectionModel:dt,protectionKeyController:$e,eventBus:Ve.eventBus,debug:Ve.debug,events:Ve.events,BASE64:Ve.BASE64,constants:Ve.constants,cmcdModel:Ve.cmcdModel,customParametersModel:Ve.customParametersModel,settings:Ve.settings}),Ve.capabilities.setEncryptedMediaSupported(!0)),mt}}}Qr.__dashjs_factory_name="Protection";var Xr=dashjs.FactoryMaker.getClassFactory(Qr);Xr.events=Zt,Xr.errors=r,dashjs.FactoryMaker.updateClassFactory(Qr.__dashjs_factory_name,Xr);var Do=Xr},2068:function(Z,H,S){var Y=S(5448),A={DEFAULT:.5,STRONG:1,WEAK:0};function o(_,E,f){var R,y;return R=_===void 0?-1:_,y=function(r){var l=A.DEFAULT;return r!==A.DEFAULT&&r!==A.STRONG&&r!==A.WEAK||(l=r),l}(f),{quality:R,reason:E===void 0?null:E,priority:y}}o.__dashjs_factory_name="SwitchRequest";var i=Y.Z.getClassFactory(o);i.NO_CHANGE=-1,i.PRIORITY=A,Y.Z.updateClassFactory(o.__dashjs_factory_name,i),H.Z=i},1767:function(Z,H,S){var Y=S(5628),A=S(6535),o=S(7423),i=S(895),_=S(6070),E=S(3112),f=S(1914),R=S(5435),y=S(5448),r=S(2068),l=S(3393),p="qualitySwitchRules",N="abandonFragmentRules";function U(F){F=F||{};var oe,x,ne=this.context,de=F.mediaPlayerModel,$=F.customParametersModel,ue=F.dashMetrics,he=F.settings;function Ne(we){return we.filter(function(Me){return Me.quality>r.Z.NO_CHANGE})}function ae(we){var Me,je,Ie,Le,Qe,nt={},Re=null;if(we.length!==0){for(nt[r.Z.PRIORITY.STRONG]={quality:r.Z.NO_CHANGE,reason:null},nt[r.Z.PRIORITY.WEAK]={quality:r.Z.NO_CHANGE,reason:null},nt[r.Z.PRIORITY.DEFAULT]={quality:r.Z.NO_CHANGE,reason:null},Me=0,je=we.length;Me<je;Me+=1)(Ie=we[Me]).quality!==r.Z.NO_CHANGE&&(nt[Ie.priority].quality===r.Z.NO_CHANGE||nt[Ie.priority].quality>Ie.quality)&&(nt[Ie.priority].quality=Ie.quality,nt[Ie.priority].reason=Ie.reason||null);return nt[r.Z.PRIORITY.WEAK].quality!==r.Z.NO_CHANGE&&(Re=nt[r.Z.PRIORITY.WEAK]),nt[r.Z.PRIORITY.DEFAULT].quality!==r.Z.NO_CHANGE&&(Re=nt[r.Z.PRIORITY.DEFAULT]),nt[r.Z.PRIORITY.STRONG].quality!==r.Z.NO_CHANGE&&(Re=nt[r.Z.PRIORITY.STRONG]),Re&&(Le=Re.quality,Qe=Re.reason),(0,r.Z)(ne).create(Le,Qe)}}return{initialize:function(){oe=[],x=[],he.get().streaming.abr.useDefaultABRRules&&(he.get().streaming.abr.ABRStrategy===l.Z.ABR_STRATEGY_L2A?oe.push((0,f.Z)(ne).create({dashMetrics:ue,settings:he})):he.get().streaming.abr.ABRStrategy===l.Z.ABR_STRATEGY_LoLP?oe.push((0,R.Z)(ne).create({dashMetrics:ue})):(oe.push((0,E.Z)(ne).create({dashMetrics:ue,mediaPlayerModel:de,settings:he})),oe.push((0,Y.Z)(ne).create({dashMetrics:ue})),he.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&oe.push((0,A.Z)(ne).create({dashMetrics:ue,settings:he})),he.get().streaming.abr.additionalAbrRules.switchHistoryRule&&oe.push((0,_.Z)(ne).create()),he.get().streaming.abr.additionalAbrRules.droppedFramesRule&&oe.push((0,i.Z)(ne).create()),he.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&x.push((0,o.Z)(ne).create({dashMetrics:ue,mediaPlayerModel:de,settings:he})))),$.getAbrCustomRules().forEach(function(we){we.type===p&&oe.push(we.rule(ne).create()),we.type===N&&x.push(we.rule(ne).create())})},reset:function(){[oe,x].forEach(function(we){we&&we.length&&we.forEach(function(Me){return Me.reset&&Me.reset()})}),oe=[],x=[]},getMaxQuality:function(we){return ae(Ne(oe.map(function(Me){return Me.getMaxIndex(we)})))||(0,r.Z)(ne).create()},getMinSwitchRequest:ae,shouldAbandonFragment:function(we,Me){var je=ae(Ne(x.map(function(Ie){return Ie.shouldAbandon(we,Me)})));return je&&(je.reason.forceAbandon=!0),je||(0,r.Z)(ne).create()},getQualitySwitchRules:function(){return oe}}}U.__dashjs_factory_name="ABRRulesCollection";var q=y.Z.getClassFactory(U);q.QUALITY_SWITCH_RULES=p,q.ABANDON_FRAGMENT_RULES=N,y.Z.updateSingletonFactory(U.__dashjs_factory_name,q),H.Z=q},7423:function(Z,H,S){var Y=S(2068),A=S(5448),o=S(6398);function i(_){_=_||{};var E,f,R,y,r,l=this.context,p=_.mediaPlayerModel,N=_.dashMetrics,U=_.settings;function q(){R={},y={},r=[]}return E={shouldAbandon:function(F){var oe=(0,Y.Z)(l).create(Y.Z.NO_CHANGE,{name:i.__dashjs_factory_name});if(!(F&&F.hasOwnProperty("getMediaInfo")&&F.hasOwnProperty("getMediaType")&&F.hasOwnProperty("getCurrentRequest")&&F.hasOwnProperty("getRepresentationInfo")&&F.hasOwnProperty("getAbrController")))return oe;var x,ne,de=F.getMediaInfo(),$=F.getMediaType(),ue=F.getStreamInfo(),he=ue?ue.id:null,Ne=F.getCurrentRequest();if(!isNaN(Ne.index)){x=$,ne=Ne.index,R[x]=R[x]||{},R[x][ne]=R[x][ne]||{};var ae=p.getStableBufferTime();if(N.getCurrentBufferLevel($)>ae)return oe;var we=R[$][Ne.index];if(we===null||Ne.firstByteDate===null||y.hasOwnProperty(we.id))return oe;if(we.firstByteTime===void 0&&(r[$]=[],we.firstByteTime=Ne.firstByteDate.getTime(),we.segmentDuration=Ne.duration,we.bytesTotal=Ne.bytesTotal,we.id=Ne.index),we.bytesLoaded=Ne.bytesLoaded,we.elapsedTime=new Date().getTime()-we.firstByteTime,we.bytesLoaded>0&&we.elapsedTime>0&&function(Fe,Tt){r[Fe]=r[Fe]||[],r[Fe].push(Tt)}($,Math.round(8*we.bytesLoaded/we.elapsedTime)),r[$].length>=U.get().streaming.abr.abrRulesParameters.abandonRequestsRule.minLengthToAverage&&we.elapsedTime>U.get().streaming.abr.abrRulesParameters.abandonRequestsRule.graceTimeThreshold&&we.bytesLoaded<we.bytesTotal){var Me=r[$].reduce(function(Fe,Tt){return Fe+Tt},0);if(we.measuredBandwidthInKbps=Math.round(Me/r[$].length),we.estimatedTimeOfDownload=+(8*we.bytesTotal/we.measuredBandwidthInKbps/1e3).toFixed(2),we.estimatedTimeOfDownload<we.segmentDuration*U.get().streaming.abr.abrRulesParameters.abandonRequestsRule.abandonMultiplier||F.getRepresentationInfo().quality===0)return oe;if(!y.hasOwnProperty(we.id)){var je=F.getAbrController(),Ie=we.bytesTotal-we.bytesLoaded,Le=je.getBitrateList(de),Qe=je.getQualityForBitrate(de,we.measuredBandwidthInKbps*U.get().streaming.abr.bandwidthSafetyFactor,he),nt=je.getMinAllowedIndexFor($,he),Re=nt!==void 0?Math.max(nt,Qe):Qe;Ie>we.bytesTotal*Le[Re].bitrate/Le[je.getQualityFor($,he)].bitrate&&(oe.quality=Re,oe.reason.throughput=we.measuredBandwidthInKbps,oe.reason.fragmentID=we.id,oe.reason.rule=this.getClassName(),y[we.id]=we,f.debug("["+$+"] frag id",we.id," is asking to abandon and switch to quality to ",Re," measured bandwidth was",we.measuredBandwidthInKbps),delete R[$][we.id])}}else we.bytesLoaded===we.bytesTotal&&delete R[$][we.id]}return oe},reset:q},f=(0,o.Z)(l).getInstance().getLogger(E),q(),E}i.__dashjs_factory_name="AbandonRequestsRule",H.Z=A.Z.getClassFactory(i)},3112:function(Z,H,S){var Y=S(3860),A=S(2068),o=S(5448),i=S(7855),_=S(5595),E=S(8512),f=S(6398),R=S(8825),y=S(3393),r=10;function l(p){p=p||{};var N,U,q,F=this.context,oe=p.dashMetrics,x=p.mediaPlayerModel,ne=(0,_.Z)(F).getInstance();function de(Re,Fe,Tt){var vt=Tt.reduce(function(Te,Ae,He){return Ae>Tt[Te]?He:Te},0);if(vt===0)return null;var ze=Math.max(Re,r+2*Fe.length),at=(Tt[vt]-1)/(ze/r-1);return{gp:at,Vp:r/at}}function $(Re){Re.placeholderBuffer=0,Re.mostAdvancedSegmentStart=NaN,Re.lastSegmentWasReplacement=!1,Re.lastSegmentStart=NaN,Re.lastSegmentDurationS=NaN,Re.lastSegmentRequestTimeMs=NaN,Re.lastSegmentFinishTimeMs=NaN}function ue(Re,Fe){var Tt=x.getStableBufferTime();if(Re.stableBufferTime!==Tt){var vt=de(Tt,Re.bitrates,Re.utilities);if(vt.Vp!==Re.Vp||vt.gp!==Re.gp){var ze=oe.getCurrentBufferLevel(Fe),at=ze+Re.placeholderBuffer;at-=r,at*=vt.Vp/Re.Vp,at+=r,Re.stableBufferTime=Tt,Re.Vp=vt.Vp,Re.gp=vt.gp,Re.placeholderBuffer=Math.max(0,at-ze)}}}function he(Re,Fe){return Re.Vp*(Re.utilities[Fe]+Re.gp)}function Ne(Re,Fe){for(var Tt=Re.bitrates[Fe],vt=Re.utilities[Fe],ze=0,at=Fe-1;at>=0;--at)if(Re.utilities[at]<Re.utilities[Fe]){var Te=Re.bitrates[at],Ae=Re.utilities[at],He=Re.Vp*(Re.gp+(Tt*Ae-Te*vt)/(Tt-Te));ze=Math.max(ze,He)}return ze}function ae(Re){var Fe=Re.mediaType===y.Z.AUDIO?[y.Z.AUDIO]:q;for(var Tt in Fe)q.hasOwnProperty(Tt)&&q[Tt].state===2&&(q[Tt].placeholderBuffer=0)}function we(){for(var Re in q)if(q.hasOwnProperty(Re)){var Fe=q[Re];Fe.state!==0&&(Fe.state=1,$(Fe))}}function Me(Re){if(Re&&Re.chunk&&Re.chunk.mediaInfo){var Fe=q[Re.chunk.mediaInfo.type];if(Fe&&Fe.state!==0){var Tt=Re.chunk.start;isNaN(Fe.mostAdvancedSegmentStart)||Tt>Fe.mostAdvancedSegmentStart?(Fe.mostAdvancedSegmentStart=Tt,Fe.lastSegmentWasReplacement=!1):Fe.lastSegmentWasReplacement=!0,Fe.lastSegmentStart=Tt,Fe.lastSegmentDurationS=Re.chunk.duration,Fe.lastQuality=Re.chunk.quality,Ie(Fe,Re.chunk.mediaInfo.type)}}}function je(Re){if(Re&&Re.metric===Y.Z.HTTP_REQUEST&&Re.value&&Re.value.type===i.w.MEDIA_SEGMENT_TYPE&&Re.value.trace&&Re.value.trace.length){var Fe=q[Re.mediaType];Fe&&Fe.state!==0&&(Fe.lastSegmentRequestTimeMs=Re.value.trequest.getTime(),Fe.lastSegmentFinishTimeMs=Re.value._tfinish.getTime(),Ie(Fe,Re.mediaType))}}function Ie(Re,Fe){if(!isNaN(Re.lastSegmentStart)&&!isNaN(Re.lastSegmentRequestTimeMs)&&!isNaN(Re.placeholderBuffer)){if(Re.placeholderBuffer*=.99,!isNaN(Re.lastSegmentFinishTimeMs)){var Tt=oe.getCurrentBufferLevel(Fe)+.001*(Re.lastSegmentFinishTimeMs-Re.lastSegmentRequestTimeMs),vt=he(Re,Re.lastQuality),ze=Math.max(0,vt-Tt);Re.placeholderBuffer=Math.min(ze,Re.placeholderBuffer)}Re.lastSegmentWasReplacement&&!isNaN(Re.lastSegmentDurationS)&&(Re.placeholderBuffer+=Re.lastSegmentDurationS),Re.lastSegmentStart=NaN,Re.lastSegmentRequestTimeMs=NaN}}function Le(Re){if(Re){var Fe=q[Re.mediaType];Fe&&Fe.state!==0&&(Fe.abrQuality=Re.newQuality)}}function Qe(Re){if(Re){var Fe=q[Re.mediaType];if(Fe&&Fe.state!==0){var Tt,vt=oe.getCurrentBufferLevel(Re.mediaType);Tt=Fe.abrQuality>0?Ne(Fe,Fe.abrQuality):r;var ze=Math.max(0,Tt-vt);Fe.placeholderBuffer=Math.min(Fe.placeholderBuffer,ze)}}}function nt(){q={}}return N={getMaxIndex:function(Re){var Fe=(0,A.Z)(F).create();if(!(Re&&Re.hasOwnProperty("getMediaInfo")&&Re.hasOwnProperty("getMediaType")&&Re.hasOwnProperty("getScheduleController")&&Re.hasOwnProperty("getStreamInfo")&&Re.hasOwnProperty("getAbrController")&&Re.hasOwnProperty("useBufferOccupancyABR")))return Fe;var Tt=Re.getMediaInfo(),vt=Re.getMediaType(),ze=Re.getScheduleController(),at=Re.getStreamInfo(),Te=Re.getAbrController(),Ae=Te.getThroughputHistory(),He=at?at.id:null,m=at&&at.manifestInfo&&at.manifestInfo.isDynamic,d=Re.useBufferOccupancyABR();if(Fe.reason=Fe.reason||{},!d)return Fe;ze.setTimeToLoadDelay(0);var b=function(Pe){var Ye=Pe.getMediaType(),ot=q[Ye];return ot?ot.state!==0&&ue(ot,Ye):(ot=function(St){var ft={},zt=St.getMediaInfo().bitrateList.map(function(cn){return cn.bandwidth}),Ot=function(cn){return cn.map(function(Tn){return Math.log(Tn)})}(zt);Ot=Ot.map(function(cn){return cn-Ot[0]+1});var Gt=x.getStableBufferTime(),Zt=de(Gt,zt,Ot);return Zt?(ft.state=1,ft.bitrates=zt,ft.utilities=Ot,ft.stableBufferTime=Gt,ft.Vp=Zt.Vp,ft.gp=Zt.gp,ft.lastQuality=0,$(ft)):ft.state=0,ft}(Pe),q[Ye]=ot),ot}(Re);if(b.state===0)return Fe;var C,re=oe.getCurrentBufferLevel(vt),te=Ae.getAverageThroughput(vt,m),De=Ae.getSafeAverageThroughput(vt,m),tt=Ae.getAverageLatency(vt);if(Fe.reason.state=b.state,Fe.reason.throughput=te,Fe.reason.latency=tt,isNaN(te))return Fe;switch(b.state){case 1:C=Te.getQualityForBitrate(Tt,De,He,tt),Fe.quality=C,Fe.reason.throughput=De,b.placeholderBuffer=Math.max(0,Ne(b,C)-re),b.lastQuality=C,!isNaN(b.lastSegmentDurationS)&&re>=b.lastSegmentDurationS&&(b.state=2);break;case 2:(function(Pe,Ye){var ot=Date.now();if(isNaN(Pe.lastSegmentFinishTimeMs)){if(!isNaN(Pe.lastCallTimeMs)){var St=.001*(ot-Pe.lastCallTimeMs);Pe.placeholderBuffer+=Math.max(0,St)}}else{var ft=.001*(ot-Pe.lastSegmentFinishTimeMs);Pe.placeholderBuffer+=Math.max(0,ft)}Pe.lastCallTimeMs=ot,Pe.lastSegmentStart=NaN,Pe.lastSegmentRequestTimeMs=NaN,Pe.lastSegmentFinishTimeMs=NaN,ue(Pe,Ye)})(b,vt),C=function(Pe,Ye){for(var ot=Pe.bitrates.length,St=NaN,ft=NaN,zt=0;zt<ot;++zt){var Ot=(Pe.Vp*(Pe.utilities[zt]+Pe.gp)-Ye)/Pe.bitrates[zt];(isNaN(ft)||Ot>=ft)&&(ft=Ot,St=zt)}return St}(b,re+b.placeholderBuffer);var Ge=Te.getQualityForBitrate(Tt,De,He,tt);C>b.lastQuality&&C>Ge&&(C=Math.max(Ge,b.lastQuality));var Be=Math.max(0,re+b.placeholderBuffer-he(b,C));Be<=b.placeholderBuffer?(b.placeholderBuffer-=Be,Be=0):(Be-=b.placeholderBuffer,b.placeholderBuffer=0,C<Te.getMaxAllowedIndexFor(vt,He)?ze.setTimeToLoadDelay(1e3*Be):Be=0),Fe.quality=C,Fe.reason.throughput=te,Fe.reason.latency=tt,Fe.reason.bufferLevel=re,Fe.reason.placeholderBuffer=b.placeholderBuffer,Fe.reason.delay=Be,b.lastQuality=C;break;default:U.debug("BOLA ABR rule invoked in bad state."),Fe.quality=Te.getQualityForBitrate(Tt,De,He,tt),Fe.reason.state=b.state,Fe.reason.throughput=De,Fe.reason.latency=tt,b.state=1,$(b)}return Fe},reset:function(){nt(),ne.off(R.Z.BUFFER_EMPTY,ae,N),ne.off(R.Z.PLAYBACK_SEEKING,we,N),ne.off(R.Z.METRIC_ADDED,je,N),ne.off(R.Z.QUALITY_CHANGE_REQUESTED,Le,N),ne.off(R.Z.FRAGMENT_LOADING_ABANDONED,Qe,N),ne.off(E.Z.MEDIA_FRAGMENT_LOADED,Me,N)}},U=(0,f.Z)(F).getInstance().getLogger(N),nt(),ne.on(R.Z.BUFFER_EMPTY,ae,N),ne.on(R.Z.PLAYBACK_SEEKING,we,N),ne.on(R.Z.METRIC_ADDED,je,N),ne.on(R.Z.QUALITY_CHANGE_REQUESTED,Le,N),ne.on(R.Z.FRAGMENT_LOADING_ABANDONED,Qe,N),ne.on(E.Z.MEDIA_FRAGMENT_LOADED,Me,N),N}l.__dashjs_factory_name="BolaRule",H.Z=o.Z.getClassFactory(l)},895:function(Z,H,S){var Y=S(5448),A=S(2068),o=S(6398);function i(){var _,E,f=this.context;return _={getMaxIndex:function(R){var y=(0,A.Z)(f).create();if(!R||!R.hasOwnProperty("getDroppedFramesHistory"))return y;var r=R.getDroppedFramesHistory(),l=R.getStreamInfo().id;if(r){var p=r.getFrameHistory(l);if(!p||p.length===0)return y;for(var N=0,U=0,q=A.Z.NO_CHANGE,F=1;F<p.length;F++)if(p[F]&&(N=p[F].droppedVideoFrames,(U=p[F].totalVideoFrames)>375&&N/U>.15)){q=F-1,E.debug("index: "+q+" Dropped Frames: "+N+" Total Frames: "+U);break}return(0,A.Z)(f).create(q,{droppedFrames:N})}return y}},E=(0,o.Z)(f).getInstance().getLogger(_),_}i.__dashjs_factory_name="DroppedFramesRule",H.Z=Y.Z.getClassFactory(i)},6535:function(Z,H,S){var Y=S(5595),A=S(8512),o=S(5448),i=S(6398),_=S(2068),E=S(3393),f=S(3860),R=S(8825);function y(r){r=r||{};var l,p,N,U=this.context,q=(0,Y.Z)(U).getInstance(),F=r.dashMetrics;function oe(){(N={})[E.Z.VIDEO]={ignoreCount:2},N[E.Z.AUDIO]={ignoreCount:2}}function x(){oe()}function ne(de){isNaN(de.startTime)||de.mediaType!==E.Z.AUDIO&&de.mediaType!==E.Z.VIDEO||N[de.mediaType].ignoreCount>0&&N[de.mediaType].ignoreCount--}return l={getMaxIndex:function(de){var $=(0,_.Z)(U).create();if(!de||!de.hasOwnProperty("getMediaType"))return $;(function(){if(!F||!F.hasOwnProperty("getCurrentBufferLevel")||!F.hasOwnProperty("getCurrentBufferState"))throw new Error(E.Z.MISSING_CONFIG_ERROR)})();var ue=de.getMediaType(),he=F.getCurrentBufferState(ue),Ne=de.getRepresentationInfo().fragmentDuration,ae=de.getStreamInfo(),we=ae?ae.id:null,Me=de.getScheduleController(),je=ae&&ae.manifestInfo&&ae.manifestInfo.isDynamic;if(function(vt,ze){return!vt&&N[ze].ignoreCount>0}(Me.getPlaybackController().getLowLatencyModeEnabled(),ue)||!Ne)return $;if(he&&he.state===f.Z.BUFFER_EMPTY)p.debug("["+ue+"] Switch to index 0; buffer is empty."),$.quality=0,$.reason="InsufficientBufferRule: Buffer is empty";else{var Ie=de.getMediaInfo(),Le=de.getAbrController(),Qe=Le.getThroughputHistory(),nt=F.getCurrentBufferLevel(ue),Re=Qe.getAverageThroughput(ue,je),Fe=Qe.getAverageLatency(ue),Tt=Re*(nt/Ne)*.5;$.quality=Le.getQualityForBitrate(Ie,Tt,we,Fe),$.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return $},reset:function(){oe(),q.off(R.Z.PLAYBACK_SEEKING,x,l),q.off(A.Z.BYTES_APPENDED_END_FRAGMENT,ne,l)}},p=(0,i.Z)(U).getInstance().getLogger(l),oe(),q.on(R.Z.PLAYBACK_SEEKING,x,l),q.on(A.Z.BYTES_APPENDED_END_FRAGMENT,ne,l),l}y.__dashjs_factory_name="InsufficientBufferRule",H.Z=o.Z.getClassFactory(y)},1914:function(Z,H,S){var Y=S(3860),A=S(2068),o=S(5448),i=S(7855),_=S(5595),E=S(8512),f=S(6398),R=S(3393);function y(r){r=r||{};var l,p,N,U,q=this.context,F=r.dashMetrics,oe=(0,_.Z)(q).getInstance();function x(we){we.placeholderBuffer=0,we.mostAdvancedSegmentStart=NaN,we.lastSegmentWasReplacement=!1,we.lastSegmentStart=NaN,we.lastSegmentDurationS=NaN,we.lastSegmentRequestTimeMs=NaN,we.lastSegmentFinishTimeMs=NaN,we.lastSegmentUrl=""}function ne(){for(var we in p)if(p.hasOwnProperty(we)){var Me=p[we];Me.state!==0&&(Me.state=1,x(Me))}}function de(we){if(we&&we.chunk&&we.chunk.mediaInfo){var Me=p[we.chunk.mediaInfo.type],je=N[we.chunk.mediaInfo.type];if(Me&&Me.state!==0){var Ie=we.chunk.start;isNaN(Me.mostAdvancedSegmentStart)||Ie>Me.mostAdvancedSegmentStart?(Me.mostAdvancedSegmentStart=Ie,Me.lastSegmentWasReplacement=!1):Me.lastSegmentWasReplacement=!0,Me.lastSegmentStart=Ie,Me.lastSegmentDurationS=we.chunk.duration,Me.lastQuality=we.chunk.quality,ue(Me,je)}}}function $(we){if(we&&we.metric===Y.Z.HTTP_REQUEST&&we.value&&we.value.type===i.w.MEDIA_SEGMENT_TYPE&&we.value.trace&&we.value.trace.length){var Me=p[we.mediaType],je=N[we.mediaType];Me&&Me.state!==0&&(Me.lastSegmentRequestTimeMs=we.value.trequest.getTime(),Me.lastSegmentFinishTimeMs=we.value._tfinish.getTime(),ue(Me,je))}}function ue(we,Me){isNaN(we.lastSegmentStart)||isNaN(we.lastSegmentRequestTimeMs)||(Me.segment_request_start_s=.001*we.lastSegmentRequestTimeMs,Me.segment_download_finish_s=.001*we.lastSegmentFinishTimeMs,we.lastSegmentStart=NaN,we.lastSegmentRequestTimeMs=NaN)}function he(we){if(we&&we.mediaType){var Me=p[we.mediaType];Me&&Me.state!==0&&(Me.abrQuality=we.newQuality)}}function Ne(we,Me){if(we.length!==Me.length)return-1;for(var je=0,Ie=0;Ie<we.length;Ie++)je+=we[Ie]*Me[Ie];return je}function ae(){p={},N={}}return l={getMaxIndex:function(we){var Me,je=(0,A.Z)(q).create(),Ie=Math.pow(4,.99),Le=Math.max(Math.pow(4,1),Ie*Math.sqrt(4)),Qe=we.getMediaInfo(),nt=we.getMediaType(),Re=Qe.bitrateList.map(function(Zt){return Zt.bandwidth}),Fe=Re.length,Tt=we.getScheduleController(),vt=we.getStreamInfo(),ze=we.getAbrController(),at=ze.getThroughputHistory(),Te=vt&&vt.manifestInfo&&vt.manifestInfo.isDynamic,Ae=we.useL2AABR(),He=F.getCurrentBufferLevel(nt,!0),m=at.getSafeAverageThroughput(nt,Te),d=at.getAverageThroughput(nt,Te),b=at.getAverageLatency(nt),C=we.getVideoModel().getPlaybackRate();if(!(we&&we.hasOwnProperty("getMediaInfo")&&we.hasOwnProperty("getMediaType")&&we.hasOwnProperty("getScheduleController")&&we.hasOwnProperty("getStreamInfo")&&we.hasOwnProperty("getAbrController")&&we.hasOwnProperty("useL2AABR"))||(je.reason=je.reason||{},!Ae||nt===R.Z.AUDIO))return je;Tt.setTimeToLoadDelay(0);var re=function(Zt){var cn=Zt.getMediaType(),Tn=p[cn];return Tn||(Tn=function(kn){var Mn={},Un=kn.getMediaInfo(),cr=Un.bitrateList.map(function(Nn){return Nn.bandwidth/1e3});return Mn.state=1,Mn.bitrates=cr,Mn.lastQuality=0,function(Nn){Nn&&Nn.type&&(N[Nn.type]={},N[Nn.type].w=[],N[Nn.type].prev_w=[],N[Nn.type].Q=0,N[Nn.type].segment_request_start_s=0,N[Nn.type].segment_download_finish_s=0,N[Nn.type].B_target=1.5)}(Un),x(Mn),Mn}(Zt),p[cn]=Tn),Tn}(we);if(re.state===0)return je;var te=N[nt];if(!te||(je.reason.state=re.state,je.reason.throughput=d,je.reason.latency=b,isNaN(d)))return je;switch(re.state){case 1:if(Me=ze.getQualityForBitrate(Qe,m,vt.id,b),je.quality=Me,je.reason.throughput=m,re.lastQuality=Me,!isNaN(re.lastSegmentDurationS)&&He>=te.B_target){re.state=2,te.Q=Ie;for(var De=0;De<Fe;++De)De===re.lastQuality?te.prev_w[De]=1:te.prev_w[De]=0}break;case 2:var tt=[],Ge=F.getCurrentHttpRequest(nt).trace.reduce(function(Zt,cn){return Zt+cn.d},0),Be=F.getCurrentHttpRequest(nt).trace.reduce(function(Zt,cn){return Zt+cn.b[0]},0),Pe=Math.round(8*Be/Ge),Ye=F.getCurrentHttpRequest(nt);if(Pe<1&&(Pe=1),Ye.url===re.lastSegmentUrl||Ye.type===i.w.INIT_SEGMENT_TYPE)Me=re.lastQuality;else{for(var ot=re.lastSegmentDurationS,St=1,ft=0;ft<Fe;++ft)Re[ft]=Re[ft]/1e3,C*Re[ft]>Pe&&(St=-1),te.w[ft]=te.prev_w[ft]+St*(ot/(2*Le))*((te.Q+Ie)*(C*Re[ft]/Pe));te.w=function(Zt){for(var cn=Zt.length,Tn=!1,kn=[],Mn=0;Mn<cn;++Mn)kn[Mn]=Zt[Mn];for(var Un=Zt.sort(function(jr,Er){return Er-jr}),cr=0,Nn=0,Dr=[],tr=0;tr<cn-1;++tr)if((Nn=((cr+=Un[tr])-1)/(tr+1))>=Un[tr+1]){Tn=!0;break}Tn||(Nn=(cr+Un[cn-1]-1)/cn);for(var vr=0;vr<cn;++vr)Dr[vr]=Math.max(kn[vr]-Nn,0);return Dr}(te.w);for(var zt=0;zt<Fe;++zt)tt[zt]=te.w[zt]-te.prev_w[zt],te.prev_w[zt]=te.w[zt];te.Q=Math.max(0,te.Q-ot+ot*C*((Ne(Re,te.prev_w)+Ne(Re,tt))/Pe));for(var Ot=[],Gt=0;Gt<Fe;++Gt)Ot[Gt]=Math.abs(Re[Gt]-Ne(te.w,Re));(Me=Ot.indexOf(Math.min.apply(Math,Ot)))>re.lastQuality&&Re[re.lastQuality+1]<=Pe&&(Me=re.lastQuality+1),Re[Me]>=Pe&&(te.Q=2*Math.max(Ie,te.Q)),re.lastSegmentUrl=Ye.url}je.quality=Me,je.reason.throughput=d,je.reason.latency=b,je.reason.bufferLevel=He,re.lastQuality=je.quality;break;default:U.debug("L2A ABR rule invoked in bad state."),je.quality=ze.getQualityForBitrate(Qe,m,vt.id,b),je.reason.state=re.state,je.reason.throughput=m,je.reason.latency=b,re.state=1,x(re)}return je},reset:function(){ae(),oe.off(E.Z.PLAYBACK_SEEKING,ne,l),oe.off(E.Z.MEDIA_FRAGMENT_LOADED,de,l),oe.off(E.Z.METRIC_ADDED,$,l),oe.off(E.Z.QUALITY_CHANGE_REQUESTED,he,l)}},U=(0,f.Z)(q).getInstance().getLogger(l),ae(),oe.on(E.Z.PLAYBACK_SEEKING,ne,l),oe.on(E.Z.MEDIA_FRAGMENT_LOADED,de,l),oe.on(E.Z.METRIC_ADDED,$,l),oe.on(E.Z.QUALITY_CHANGE_REQUESTED,he,l),l}y.__dashjs_factory_name="L2ARule",H.Z=o.Z.getClassFactory(y)},6070:function(Z,H,S){var Y=S(5448),A=S(6398),o=S(2068);function i(){var _,E,f=this.context;return _={getMaxIndex:function(R){for(var y=R?R.getSwitchHistory():null,r=y?y.getSwitchRequests():[],l=0,p=0,N=0,U=(0,o.Z)(f).create(),q=0;q<r.length;q++)if(r[q]!==void 0&&(l+=r[q].drops,p+=r[q].noDrops,N+=r[q].dropSize,l+p>=6&&l/p>.075)){U.quality=q>0&&r[q].drops>0?q-1:q,U.reason={index:U.quality,drops:l,noDrops:p,dropSize:N},E.debug("Switch history rule index: "+U.quality+" samples: "+(l+p)+" drops: "+l);break}return U}},E=(0,A.Z)(f).getInstance().getLogger(_),_}i.__dashjs_factory_name="SwitchHistoryRule",H.Z=Y.Z.getClassFactory(i)},5628:function(Z,H,S){var Y=S(5448),A=S(2068),o=S(3393),i=S(3860);function _(E){E=E||{};var f=this.context,R=E.dashMetrics;return{getMaxIndex:function(y){var r=(0,A.Z)(f).create();if(!(y&&y.hasOwnProperty("getMediaInfo")&&y.hasOwnProperty("getMediaType")&&y.hasOwnProperty("useBufferOccupancyABR")&&y.hasOwnProperty("getAbrController")&&y.hasOwnProperty("getScheduleController")))return r;(function(){if(!R||!R.hasOwnProperty("getCurrentBufferState"))throw new Error(o.Z.MISSING_CONFIG_ERROR)})();var l=y.getMediaInfo(),p=y.getMediaType(),N=R.getCurrentBufferState(p),U=y.getScheduleController(),q=y.getAbrController(),F=y.getStreamInfo(),oe=F?F.id:null,x=F&&F.manifestInfo?F.manifestInfo.isDynamic:null,ne=q.getThroughputHistory(),de=ne.getSafeAverageThroughput(p,x),$=ne.getAverageLatency(p),ue=y.useBufferOccupancyABR();return isNaN(de)||!N||ue||q.getAbandonmentStateFor(oe,p)!==i.Z.ABANDON_LOAD&&(N.state===i.Z.BUFFER_LOADED||x)&&(r.quality=q.getQualityForBitrate(l,de,oe,$),U.setTimeToLoadDelay(0),r.reason={throughput:de,latency:$}),r},reset:function(){}}}_.__dashjs_factory_name="ThroughputRule",H.Z=Y.Z.getClassFactory(_)},4722:function(Z,H,S){var Y=S(5448),A=S(6398);function o(){var i,_,E,f,R,y,r,l,p,N=this.context;function U(){E=null,f=1,R=100,y=0,r=null,l=null,p="dynamic_weight_selection"}function q(){var de=0;if(E)for(var $=0;$<E.length;$++){var ue=E[$];ue.state.throughput>de&&(de=ue.state.throughput)}return de}function F(de,$,ue){var he=de.map(function(Ne,ae){return ue[ae]*Math.pow(Ne-$[ae],2)}).reduce(function(Ne,ae){return Ne+ae});return(he<0?-1:1)*Math.sqrt(Math.abs(he))}function oe(de,$){return F([de.state.throughput,de.state.latency,de.state.rebuffer,de.state.switch],[$.state.throughput,$.state.latency,$.state.rebuffer,$.state.switch],[1,1,1,1])}function x(de,$,ue){for(var he=0;he<$.length;he++){var Ne=$[he],ae=oe(Ne,de);ne(Ne,ue,Math.exp(-1*Math.pow(ae,2)/(2*Math.pow(.1,2))))}}function ne(de,$,ue){var he=de.state,Ne=[.01,.01,.01,.01];he.throughput=he.throughput+($[0]-he.throughput)*Ne[0]*ue,he.latency=he.latency+($[1]-he.latency)*Ne[1]*ue,he.rebuffer=he.rebuffer+($[2]-he.rebuffer)*Ne[2]*ue,he.switch=he.switch+($[3]-he.switch)*Ne[3]*ue}return i={getNextQuality:function(de,$,ue,he,Ne,ae,we){var Me=ue,je=he,Ie=$,Le=function(te){if(!E){E=[];var De=te.bitrateList,tt=[];y=De[0].bandwidth,De.forEach(function(Ye){tt.push(Ye.bandwidth),Ye.bandwidth<y&&(y=Ye.bandwidth)}),Pe=tt.map(function(Ye){return Math.pow(Ye,2)}).reduce(function(Ye,ot){return Ye+ot}),f=Math.sqrt(Pe);for(var Ge=0;Ge<De.length;Ge++){var Be={qualityIndex:Ge,bitrate:De[Ge].bandwidth,state:{throughput:De[Ge].bandwidth/f,latency:0,rebuffer:0,switch:0}};E.push(Be)}l=function(Ye){var ot=[],St=function(Do){for(var Ct=[],It=0;It<Do;It++){var Rt=[Math.random()*q(),Math.random(),Math.random(),Math.random()];Ct.push(Rt)}return Ct}(Math.pow(Ye.length,2));ot.push(St[0]);for(var ft=[1,1,1,1],zt=1;zt<Ye.length;zt++){for(var Ot=null,Gt=null,Zt=0;Zt<St.length;Zt++){for(var cn=St[Zt],Tn=null,kn=0;kn<ot.length;kn++){var Mn=F(cn,ot[kn],ft);(Tn===null||Mn<Tn)&&(Tn=Mn)}(Gt===null||Tn>Gt)&&(Ot=cn,Gt=Tn)}ot.push(Ot)}for(var Un=null,cr=null,Nn=0;Nn<ot.length;Nn++){for(var Dr=0,tr=0;tr<ot.length;tr++)Nn!==tr&&(Dr+=F(ot[Nn],ot[tr],ft));(Un===null||Dr>Un)&&(Un=Dr,cr=Nn)}var vr=[];for(vr.push(ot[cr]),ot.splice(cr,1);ot.length>0;){for(var jr=null,Er=null,Qr=0;Qr<ot.length;Qr++){var Xr=F(vr[0],ot[Qr],ft);(jr===null||Xr<jr)&&(jr=Xr,Er=Qr)}vr.push(ot[Er]),ot.splice(Er,1)}return vr}(E)}var Pe;return E}(de),Qe=$/f;Qe>1&&(Qe=q()),ue/=R,_.debug("getNextQuality called throughput:".concat(Qe," latency:").concat(ue," bufferSize:").concat(he," currentQualityIndex:").concat(ae," playbackRate:").concat(Ne));var nt=Le[ae],Re=nt.bitrate*we.getSegmentDuration()/Ie,Fe=Math.max(0,Re-je);if(je-Re<we.getMinBuffer())return _.debug("Buffer is low for bitrate= ".concat(nt.bitrate," downloadTime=").concat(Re," currentBuffer=").concat(je," rebuffer=").concat(Fe)),function(te,De){var tt=0,Ge=te;if(E)for(var Be=0;Be<E.length;Be++){var Pe=E[Be];Pe.bitrate<te.bitrate&&Pe.bitrate>tt&&De>Pe.bitrate&&(tt=Pe.bitrate,Ge=Pe)}return Ge}(nt,Ie).qualityIndex;switch(p){case"manual_weight_selection":r=[.4,.4,.4,.4];break;case"random_weight_selection":(function(te){r=function(De,tt){for(var Ge=[],Be=Math.sqrt(2/De),Pe=0;Pe<4;Pe++)Ge.push(Math.random()*Be);return r=Ge}(te.length)})(Le);break;default:(function(te,De,tt,Ge,Be,Pe,Ye){r||(r=l[l.length-1]);var ot=te.findWeightVector(De,tt,Ge,Be,Pe,Ye);ot!==null&&ot!==-1&&(r=ot)})(we,Le,Me,je,Fe,Ie,Ne)}for(var Tt=null,vt=null,ze=null,at=0;at<Le.length;at++){var Te=Le[at],Ae=Te.state,He=[Ae.throughput,Ae.latency,Ae.rebuffer,Ae.switch],m=r.slice(),d=we.getNextBufferWithBitrate(Te.bitrate,je,Ie),b=d<we.getMinBuffer();b&&_.debug("Buffer is low for bitrate=".concat(Te.bitrate," downloadTime=").concat(Re," currentBuffer=").concat(je," nextBuffer=").concat(d)),(Te.bitrate>$-1e4||b)&&Te.bitrate!==y&&(m[0]=100);var C=F(He,[Qe,0,0,0],m);(Tt===null||C<Tt)&&(Tt=C,vt=Te.qualityIndex,ze=Te)}var re=Math.abs(nt.bitrate-ze.bitrate)/f;return x(nt,Le,[Qe,ue,Fe,re]),x(ze,Le,[Qe,0,0,re]),vt},reset:function(){U()}},_=(0,A.Z)(N).getInstance().getLogger(i),U(),i}o.__dashjs_factory_name="LearningAbrController",H.Z=Y.Z.getClassFactory(o)},5317:function(Z,H,S){var Y=S(5448),A=S(2298);function o(){var i,_,E,f,R;function y(){_=null,E=null,f=null,R=null}function r(p,N,U,q){var F=new A.Z;return F.type=p,F.weights.bitrateReward=N||1,F.weights.bitrateSwitchPenalty=1,F.weights.rebufferPenalty=U||1e3,F.weights.latencyPenalty=[],F.weights.latencyPenalty.push({threshold:1.1,penalty:.05*q}),F.weights.latencyPenalty.push({threshold:1e8,penalty:.1*U}),F.weights.playbackSpeedPenalty=q||200,F}function l(p,N,U,q,F){F.bitrateWSum+=F.weights.bitrateReward*p,F.lastBitrate&&(F.bitrateSwitchWSum+=F.weights.bitrateSwitchPenalty*Math.abs(p-F.lastBitrate)),F.lastBitrate=p,F.rebufferWSum+=F.weights.rebufferPenalty*N;for(var oe=0;oe<F.weights.latencyPenalty.length;oe++){var x=F.weights.latencyPenalty[oe];if(U<=x.threshold){F.latencyWSum+=x.penalty*U;break}}F.playbackSpeedWSum+=F.weights.playbackSpeedPenalty*Math.abs(1-q),F.totalQoe=F.bitrateWSum-F.bitrateSwitchWSum-F.rebufferWSum-F.latencyWSum-F.playbackSpeedWSum}return i={setupPerSegmentQoe:function(p,N,U){_=r("segment",p,N,U),E=p,f=N,R=U},logSegmentMetrics:function(p,N,U,q){_&&l(p,N,U,q,_)},getPerSegmentQoe:function(){return _},calculateSingleUseQoe:function(p,N,U,q){var F=null;return E&&f&&R&&(F=r("segment",E,f,R)),F?(l(p,N,U,q,F),F.totalQoe):0},reset:function(){y()}},y(),i}o.__dashjs_factory_name="LoLpQoeEvaluator",H.Z=Y.Z.getClassFactory(o)},5435:function(Z,H,S){var Y=S(6398),A=S(5448),o=S(4722),i=S(5317),_=S(2068),E=S(3860),f=S(6523),R=S(3393);function y(r){var l,p,N,U,q=(r=r||{}).dashMetrics,F=this.context;return p={getMaxIndex:function(oe){try{var x=(0,_.Z)(F).create(),ne=oe.getMediaInfo().type,de=oe.getAbrController(),$=oe.getStreamInfo(),ue=de.getQualityFor(ne,$.id),he=oe.getMediaInfo(),Ne=q.getCurrentBufferState(ne),ae=oe.getScheduleController(),we=q.getCurrentBufferLevel(ne,!0),Me=$&&$.manifestInfo?$.manifestInfo.isDynamic:null,je=ae.getPlaybackController(),Ie=je.getCurrentLiveLatency();if(!oe.useLoLPABR()||ne===R.Z.AUDIO)return x;Ie||(Ie=0);var Le=je.getPlaybackRate(),Qe=de.getThroughputHistory().getSafeAverageThroughput(ne,Me);if(l.debug("Throughput ".concat(Math.round(Qe)," kbps")),isNaN(Qe)||!Ne||de.getAbandonmentStateFor($.id,ne)===E.Z.ABANDON_LOAD)return x;for(var nt=he.bitrateList,Re=oe.getRepresentationInfo().fragmentDuration,Fe=nt[0].bandwidth/1e3,Tt=nt[nt.length-1].bandwidth/1e3,vt=0;vt<nt.length;vt++){var ze=nt[vt].bandwidth/1e3;ze>Tt?Tt=ze:ze<Fe&&(Fe=ze)}var at=nt[ue].bandwidth/1e3,Te=q.getCurrentHttpRequest(ne,!0),Ae=(Te.tresponse.getTime()-Te.trequest.getTime())/1e3,He=Ae>Re?Ae-Re:0;U.setupPerSegmentQoe(Re,Tt,Fe),U.logSegmentMetrics(at,He,Ie,Le);var m=(0,f.Z)(F).create({targetLatency:1.5,bufferMin:.3,segmentDuration:Re,qoeEvaluator:U});return x.quality=N.getNextQuality(he,1e3*Qe,Ie,we,Le,ue,m),x.reason={throughput:Qe,latency:Ie},x.priority=_.Z.PRIORITY.STRONG,ae.setTimeToLoadDelay(0),x.quality!==ue&&l.debug("[TgcLearningRule]["+ne+"] requesting switch to index: ",x.quality,"Average throughput",Math.round(Qe),"kbps"),x}catch(d){throw d}},reset:function(){N.reset(),U.reset()}},l=(0,Y.Z)(F).getInstance().getLogger(p),N=(0,o.Z)(F).create(),U=(0,i.Z)(F).create(),p}y.__dashjs_factory_name="LoLPRule",H.Z=A.Z.getClassFactory(y)},6523:function(Z,H,S){var Y=S(5448);function A(o){var i,_,E,f,R=o.targetLatency,y=o.bufferMin,r=o.segmentDuration,l=o.qoeEvaluator;function p(){return r}function N(U,q){var F=p();return q>F?U-F:U+F-q}return i={getMinBuffer:function(){return y},getSegmentDuration:p,getNextBufferWithBitrate:function(U,q,F){return N(q,U*r/F)},getNextBuffer:N,findWeightVector:function(U,q,F,oe,x,ne){var de=null,$=null,ue=null,he=Math.abs(q-E);return U.forEach(function(Ne){_.forEach(function(ae){ae[0];var we=ae[1],Me=ae[2],je=(ae[3],Ne.bitrate*r/x),Ie=N(F,je),Le=(Me===0?10:1/Me)*Math.max(1e-5,je-Ie),Qe=(we===0?10:1/we)*Ne.state.latency,nt=l.calculateSingleUseQoe(Ne.bitrate,Le,Qe,ne);(de===null||nt>de)&&function(Re,Fe,Tt){return!(Re>R+Tt)&&Fe>=y}(q,Ie,he)&&(de=nt,$=ae,ue=Ne.bitrate)})}),$===null&&ue===null&&($=-1),E=q,$}},_=function U(q,F,oe){if(oe===F)return q;for(var x=q.length,ne=0;ne<x;ne++)for(var de=q.shift(),$=0;$<f.length;$++)q.push(de.concat(f[$]));return U(q,F,oe+1)}((f=[.2,.4,.6,.8,1]).map(function(U){return[U]}),4,1),E=0,i}A.__dashjs_factory_name="LoLpWeightSelector",H.Z=Y.Z.getClassFactory(A)},2298:function(Z,H){H.Z=function S(){(function(Y,A){if(!(Y instanceof A))throw new TypeError("Cannot call a class as a function")})(this,S),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0}},7803:function(Z,H,S){S.d(H,{Y:function(){return l}});var Y=S(3393),A=S(1553),o=S(5448),i=S(2128),_=S(2594),E=S(7387),f=S(7417),R=S(9032),y=S(9326),r=S(7802),l=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function p(N){var U,q,F,oe,x,ne,de,$,ue=this.context,he=N.adapter,Ne=N.baseURLController,ae=N.streamInfo,we=N.timelineConverter,Me=N.debug,je=N.eventBus,Ie=N.events,Le=N.dashConstants,Qe=(0,_.Z)(ue).getInstance();function nt(Fe,Tt){var vt=new i.Z;vt.id=Fe.id,vt.bitrate=Fe.bandwidth,vt.width=Fe.width,vt.height=Fe.height,vt.tilesHor=1,vt.tilesVert=1,Fe.essentialProperties&&Fe.essentialProperties.forEach(function(ze){if(l.indexOf(ze.schemeIdUri)>=0&&ze.value){var at=ze.value.split("x");at.length!==2||isNaN(at[0])||isNaN(at[1])||(vt.tilesHor=parseInt(at[0],10),vt.tilesVert=parseInt(at[1],10))}}),Tt?ne.updateSegmentData(Fe).then(function(ze){(function(at,Te,Ae){var He=[],m=function(d,b){var C,re,te,De,tt=[],Ge=0;for(C=0,re=d.segments.length;C<re;C++)te=d.segments[C],(De=(0,E.TJ)(we,he.getIsDynamic(),b,te.startTime,te.duration,te.timescale,te.media,te.mediaRange,Ge))&&(tt.push(De),De=null,Ge++);return tt}(Ae,Te);Te.segments=m,at.segmentDuration=Te.segments[0].duration,at.readThumbnail=function(d,b){var C=null;He.some(function(re){if(re.start<=d&&re.end>d)return C=re.url,!0}),C?b(C):Te.segments.some(function(re){if(re.mediaStartTime<=d&&re.mediaStartTime+re.duration>d){var te=Ne.resolve(Te.path);return de.load({method:"get",url:te.url,request:{range:re.mediaRange,responseType:"arraybuffer"},onload:function(De){var tt=$.getSamplesInfo(De.target.response),Ge=new Blob([De.target.response.slice(tt.sampleList[0].offset,tt.sampleList[0].offset+tt.sampleList[0].size)],{type:"image/jpeg"}),Be=window.URL.createObjectURL(Ge);He.push({start:re.mediaStartTime,end:re.mediaStartTime+re.duration,url:Be}),b&&b(Be)}}),!0}})}})(vt,Fe,ze)}):(vt.startNumber=Fe.startNumber,vt.segmentDuration=Fe.segmentDuration,vt.timescale=Fe.timescale,vt.templateUrl=function(ze){var at=Qe.isRelative(ze.media)?Qe.resolve(ze.media,Ne.resolve(ze.path).url):ze.media;return at?(0,E.Aj)(at,ze.id):""}(Fe)),vt.tilesHor>0&&vt.tilesVert>0&&(vt.widthPerTile=vt.width/vt.tilesHor,vt.heightPerTile=vt.height/vt.tilesVert,q.push(vt))}function Re(){q=[],oe=-1,x=null}return U={getTracks:function(){return q},addTracks:function(){if(ae&&he&&(x=he.getMediaInfoForType(ae,Y.Z.IMAGE))){var Fe=he.getVoRepresentations(x);Fe&&Fe.length>0&&Fe.forEach(function(Tt){(Tt.segmentInfoType===A.Z.SEGMENT_TEMPLATE&&Tt.segmentDuration>0&&Tt.media||Tt.segmentInfoType===A.Z.SEGMENT_TIMELINE)&&nt(Tt),Tt.segmentInfoType===A.Z.SEGMENT_BASE&&nt(Tt,!0)}),q.length>0&&q.sort(function(Tt,vt){return Tt.bitrate-vt.bitrate})}},reset:Re,setTrackByIndex:function(Fe){q&&q.length!==0&&(Fe>=q.length&&(Fe=q.length-1),oe=Fe)},getCurrentTrack:function(){return oe<0?null:q[oe]},getCurrentTrackIndex:function(){return oe},getThumbnailRequestForTime:function(Fe){for(var Tt,vt=he.getVoRepresentations(x),ze=0;ze<vt.length;ze++)if(q[oe].id===vt[ze].id){Tt=vt[ze];break}return F.getSegmentRequestForTime(x,Tt,Fe)}},Re(),de=(0,R.Z)(ue).create({}),$=(0,f.Z)(ue).getInstance(),ne=(0,r.Z)(ue).create({events:Ie,eventBus:je,streamInfo:ae,timelineConverter:we,dashConstants:Le,dashMetrics:N.dashMetrics,segmentBaseController:N.segmentBaseController,type:Y.Z.IMAGE}),(F=(0,y.Z)(ue).create({streamInfo:ae,type:Y.Z.IMAGE,timelineConverter:we,segmentsController:ne,baseURLController:Ne,debug:Me,eventBus:je,events:Ie,dashConstants:Le,urlUtils:Qe})).initialize(!!he&&he.getIsDynamic()),U}p.__dashjs_factory_name="ThumbnailTracks",H.Z=o.Z.getClassFactory(p)},7417:function(Z,H,S){var Y=S(6398),A=S(8260),o=S(5448),i=S(6934),_=S(9597);function E(){var f,R,y=this.context;function r(N){if(!N)return null;N.fileStart===void 0&&(N.fileStart=0);var U=i.parseBuffer(N),q=(0,A.Z)(y).create();return q.setData(U),q}function l(N,U){return N[U+3]>>>0|N[U+2]<<8>>>0|N[U+1]<<16>>>0|N[U]<<24>>>0}function p(N,U){return String.fromCharCode(N[U++])+String.fromCharCode(N[U++])+String.fromCharCode(N[U++])+String.fromCharCode(N[U])}return R={parse:r,findLastTopIsoBoxCompleted:function(N,U,q){if(q===void 0&&(q=0),!U||q+8>=U.byteLength)return new _.Z(0,!1);for(var F,oe=U instanceof ArrayBuffer?new Uint8Array(U):U,x=0;q<oe.byteLength;){var ne=l(oe,q),de=p(oe,q+4);if(ne===0)break;q+ne<=oe.byteLength&&(N.indexOf(de)>=0?F=new _.Z(q,!0,ne):x=q+ne),q+=ne}return F||new _.Z(x,!1)},getMediaTimescaleFromMoov:function(N){var U=r(N),q=U?U.getBox("mdhd"):void 0;return q?q.timescale:NaN},getSamplesInfo:function(N){if(!N||N.byteLength===0)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var U,q,F,oe,x,ne,de,$,ue,he,Ne,ae,we,Me,je,Ie,Le=r(N),Qe=Le.getBoxes("moof"),nt=Le.getBoxes("mfhd");je=Le.getBoxes("moof").length,Me=nt[nt.length-1].sequence_number,q=0,x=[];var Re=-1,Fe=-1;for(he=0;he<Qe.length;he++){var Tt=Qe[he],vt=Tt.getChildBoxes("traf");for($=0;$<vt.length;$++){var ze=vt[$],at=ze.getChildBox("tfhd"),Te=ze.getChildBox("tfdt");oe=Te.baseMediaDecodeTime;var Ae=ze.getChildBoxes("trun"),He=ze.getChildBoxes("subs");for(ue=0;ue<Ae.length;ue++){var m=Ae[ue];for(q=m.sample_count,we=(at.base_data_offset||0)+(m.data_offset||0),de=0;de<q;de++){U=(ne=m.samples[de]).sample_duration!==void 0?ne.sample_duration:at.default_sample_duration,F=ne.sample_size!==void 0?ne.sample_size:at.default_sample_size;var d={dts:oe,cts:oe+(ne.sample_composition_time_offset!==void 0?ne.sample_composition_time_offset:0),duration:U,offset:Tt.offset+we,size:F,subSizes:[F]};if(He)for(Ne=0;Ne<He.length;Ne++){var b=He[Ne];if(Re<b.entry_count-1&&de>Fe&&(Re++,Fe+=b.entries[Re].sample_delta),de==Fe){d.subSizes=[];var C=b.entries[Re];for(ae=0;ae<C.subsample_count;ae++)d.subSizes.push(C.subsamples[ae].subsample_size)}}x.push(d),we+=F,oe+=U}}Ie=oe-Te.baseMediaDecodeTime}}return{sampleList:x,lastSequenceNumber:Me,totalDuration:Ie,numSequences:je}},findInitRange:function(N){var U=null,q=r(N);if(!q)return U;var F=q.getBox("ftyp"),oe=q.getBox("moov");return f.debug("Searching for initialization."),oe&&oe.isComplete&&(U=(F?F.offset:oe.offset)+"-"+(oe.offset+oe.size-1),f.debug("Found the initialization.  Range: "+U)),U},parsePayload:function(N,U,q){if(q===void 0&&(q=0),!U||q+8>=U.byteLength)return new _.Z(0,!1);for(var F,oe=U instanceof ArrayBuffer?new Uint8Array(U):U,x=0;q<oe.byteLength;){var ne=l(oe,q),de=p(oe,q+4);if(ne===0)break;q+ne<=oe.byteLength&&(N.indexOf(de)>=0?F=new _.Z(q,!0,ne,de):x=q+ne),q+=ne}return F||new _.Z(x,!1)}},f=(0,Y.Z)(y).getInstance().getLogger(R),R}E.__dashjs_factory_name="BoxParser",H.Z=o.Z.getSingletonFactory(E)},1715:function(Z,H,S){S.d(H,{B:function(){return _}});var Y=S(5448),A=S(7803),o=S(3393),i=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function _(){var f="ManagedMediaSource"in window,R="WebKitMediaSource"in window,y="MediaSource"in window;return f||R||y}function E(){var f,R,y;return f={setConfig:function(r){r&&r.settings&&(R=r.settings)},supportsMediaSource:_,supportsEncryptedMedia:function(){return y},supportsCodec:function(r,l){return l!==o.Z.AUDIO&&l!==o.Z.VIDEO?Promise.resolve(!0):function(p,N){return R.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(p.codec&&N===o.Z.AUDIO||N===o.Z.VIDEO&&p.codec&&p.width&&p.height&&p.bitrate&&p.framerate)}(r,l)?function(p,N){return new Promise(function(U){if(p&&p.codec){var q={type:"media-source"};q[N]={},q[N].contentType=p.codec,q[N].width=p.width,q[N].height=p.height,q[N].bitrate=parseInt(p.bitrate),q[N].framerate=parseFloat(p.framerate),navigator.mediaCapabilities.decodingInfo(q).then(function(F){U(F.supported)}).catch(function(){U(!1)})}else U(!1)})}(r,l):function(p){return new Promise(function(N){if(p&&p.codec){var U=p.codec;p.width&&p.height&&(U+=';width="'+p.width+'";height="'+p.height+'"'),"ManagedMediaSource"in window&&ManagedMediaSource.isTypeSupported(U)||"MediaSource"in window&&MediaSource.isTypeSupported(U)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(U)?N(!0):N(!1)}else N(!1)})}(r)},setEncryptedMediaSupported:function(r){y=r},supportsEssentialProperty:function(r){try{return A.Y.indexOf(r.schemeIdUri)!==-1||o.Z.FONT_DOWNLOAD_DVB_SCHEME===r.schemeIdUri}catch{return!0}},codecRootCompatibleWithCodec:function(r,l){for(var p,N=r.split(".")[0],U=l.indexOf(N)===0,q=0;q<i.length;q++)if(i[q].codec===N){p=i[q];break}return p?U||p.compatibleCodecs.some(function(F){return l.indexOf(F)===0}):U}},y=!1,f}E.__dashjs_factory_name="Capabilities",H.Z=Y.Z.getSingletonFactory(E)},2295:function(Z,H,S){var Y=S(5448),A=S(3106);function o(){return{customTimeRangeArray:[],length:0,add:function(i,_){var E;for(E=0;E<this.customTimeRangeArray.length&&i>this.customTimeRangeArray[E].start;E++);for(this.customTimeRangeArray.splice(E,0,{start:i,end:_}),E=0;E<this.customTimeRangeArray.length-1;E++)this.mergeRanges(E,E+1)&&E--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(i,_){for(var E=0;E<this.customTimeRangeArray.length;E++)if(i<=this.customTimeRangeArray[E].start&&_>=this.customTimeRangeArray[E].end)this.customTimeRangeArray.splice(E,1),E--;else{if(i>this.customTimeRangeArray[E].start&&_<this.customTimeRangeArray[E].end){this.customTimeRangeArray.splice(E+1,0,{start:_,end:this.customTimeRangeArray[E].end}),this.customTimeRangeArray[E].end=i;break}i>this.customTimeRangeArray[E].start&&i<this.customTimeRangeArray[E].end?this.customTimeRangeArray[E].end=i:_>this.customTimeRangeArray[E].start&&_<this.customTimeRangeArray[E].end&&(this.customTimeRangeArray[E].start=_)}this.length=this.customTimeRangeArray.length},mergeRanges:function(i,_){var E=this.customTimeRangeArray[i],f=this.customTimeRangeArray[_];return E.start<=f.start&&f.start<=E.end&&E.end<=f.end?(E.end=f.end,this.customTimeRangeArray.splice(_,1),!0):f.start<=E.start&&E.start<=f.end&&f.end<=E.end?(E.start=f.start,this.customTimeRangeArray.splice(_,1),!0):f.start<=E.start&&E.start<=f.end&&E.end<=f.end?(this.customTimeRangeArray.splice(i,1),!0):E.start<=f.start&&f.start<=E.end&&f.end<=E.end&&(this.customTimeRangeArray.splice(_,1),!0)},start:function(i){return(0,A.SE)(i),i>=this.customTimeRangeArray.length||i<0?NaN:this.customTimeRangeArray[i].start},end:function(i){return(0,A.SE)(i),i>=this.customTimeRangeArray.length||i<0?NaN:this.customTimeRangeArray[i].end}}}o.__dashjs_factory_name="CustomTimeRanges",H.Z=Y.Z.getClassFactory(o)},5:function(Z,H,S){var Y=S(5448);function A(){var o,i=/^[a-z][a-z0-9+\-_.]*:/i,_=/^https?:\/\//i,E=/^https:\/\//i,f=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,R=function(F,oe){try{return new window.URL(F,oe).toString()}catch{return F}},y=function(F,oe){var x=r;if(!oe||!N(F))return F;U(F)&&(x=l),q(F)&&(x=p);var ne=x(oe),de=ne.charAt(ne.length-1)!=="/"&&F.charAt(0)!=="/"?"/":"";return[ne,F].join(de)};function r(F){var oe=F.indexOf("/"),x=F.lastIndexOf("/");return oe!==-1?x===oe+1?F:(F.indexOf("?")!==-1&&(F=F.substring(0,F.indexOf("?"))),F.substring(0,x+1)):""}function l(F){var oe=F.match(f);return oe?oe[1]:""}function p(F){var oe=F.match(i);return oe?oe[0]:""}function N(F){return!i.test(F)}function U(F){return N(F)&&F.charAt(0)==="/"}function q(F){return F.indexOf("//")===0}return function(){try{new window.URL("x","http://y"),o=R}catch{}finally{o=o||y}}(),{parseBaseUrl:r,parseOrigin:l,parseScheme:p,isRelative:N,isPathAbsolute:U,isSchemeRelative:q,isHTTPURL:function(F){return _.test(F)},isHTTPS:function(F){return E.test(F)},removeHostname:function(F){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(F)[2].substring(1)},resolve:function(F,oe){return o(F,oe)}}}A.__dashjs_factory_name="DefaultURLUtils",H.Z=Y.Z.getSingletonFactory(A)},8260:function(Z,H,S){var Y=S(2839),A=S(5448);function o(){var i;function _(f){var R=[];if(!f||!i||typeof i.fetchAll!="function")return R;for(var y,r=i.fetchAll(f),l=0,p=r.length;l<p;l++)(y=E(r[l]))&&R.push(y);return R}function E(f){if(!f)return null;var R=new Y.Z(f);return f.hasOwnProperty("_incomplete")&&(R.isComplete=!f._incomplete),R}return{getBox:function(f){return f&&i&&i.boxes&&i.boxes.length!==0&&typeof i.fetch=="function"?E(i.fetch(f)):null},getBoxes:_,setData:function(f){i=f},getLastBox:function(){if(!i||!i.boxes||!i.boxes.length)return null;var f=_(i.boxes[i.boxes.length-1].type);return f.length>0?f[f.length-1]:null}}}o.__dashjs_factory_name="IsoFile",H.Z=A.Z.getClassFactory(o)},7473:function(Z,H,S){S.d(H,{k:function(){return A}});var Y=S(5448);function A(i,_){var E={url:i.url,method:i.method,headers:Object.assign({},i.headers),credentials:i.withCredentials?"include":void 0,range:i.request.range};return Promise.resolve(_.modifyRequest(E)).then(function(){return Object.assign(i,E,{withCredentials:E.credentials==="include"})})}function o(){return{modifyRequest:null,modifyRequestURL:function(i){return i},modifyRequestHeader:function(i,_){return _.url,i}}}o.__dashjs_factory_name="RequestModifier",H.Z=Y.Z.getSingletonFactory(o)},3106:function(Z,H,S){S.d(H,{PS:function(){return o},SE:function(){return i}});var Y=S(3393);function A(_){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},A(_)}function o(_,E){if(A(_)!==E)throw Y.Z.BAD_ARGUMENT_ERROR}function i(_){if(_===null||isNaN(_)||_%1!=0)throw Y.Z.BAD_ARGUMENT_ERROR+" : argument is not an integer"}},2594:function(Z,H,S){var Y=S(5448),A=S(5);function o(){var _,E=[],f=this.context;function R(y,r,l){var p=function(N){var U;for(U=0;U<E.length;U++)if(E[U].regex.test(N))return E[U].utils;return _}(l||r);return p&&typeof p[y]=="function"?p[y](r,l):_[y](r,l)}return _=(0,A.Z)(f).getInstance(),{registerUrlRegex:function(y,r){E.push({regex:y,utils:r})},parseBaseUrl:function(y){return R("parseBaseUrl",y)},parseOrigin:function(y){return R("parseOrigin",y)},parseScheme:function(y){return R("parseScheme",y)},isRelative:function(y){return R("isRelative",y)},isPathAbsolute:function(y){return R("isPathAbsolute",y)},isSchemeRelative:function(y){return R("isSchemeRelative",y)},isHTTPURL:function(y){return R("isHTTPURL",y)},isHTTPS:function(y){return R("isHTTPS",y)},removeHostname:function(y){return R("removeHostname",y)},resolve:function(y,r){return R("resolve",y,r)}}}o.__dashjs_factory_name="URLUtils";var i=Y.Z.getSingletonFactory(o);H.Z=i},5459:function(Z,H){H.Z=function S(Y,A,o){(function(i,_){if(!(i instanceof _))throw new TypeError("Cannot call a class as a function")})(this,S),this.code=Y||null,this.message=A||null,this.data=o||null}},3186:function(Z,H,S){var Y=S(7855);function A(i,_){for(var E=0;E<_.length;E++){var f=_[E];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(i,f.key,f)}}var o=function(){function i(f){(function(R,y){if(!(R instanceof y))throw new TypeError("Cannot call a class as a function")})(this,i),this.action=i.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=f||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}var _,E;return _=i,(E=[{key:"isInitializationRequest",value:function(){return this.type&&this.type===Y.w.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(f){this.type=f&&f.init?Y.w.INIT_SEGMENT_TYPE:Y.w.MEDIA_SEGMENT_TYPE,this.url=f&&f.url?f.url:null,this.range=f&&f.range?f.range.start+"-"+f.range.end:null,this.mediaType=f&&f.mediaType?f.mediaType:null}}])&&A(_.prototype,E),i}();o.ACTION_DOWNLOAD="download",o.ACTION_COMPLETE="complete",H.Z=o},2839:function(Z,H){function S(A,o){for(var i=0;i<o.length;i++){var _=o[i];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(A,_.key,_)}}var Y=function(){function A(_){if(function(p,N){if(!(p instanceof N))throw new TypeError("Cannot call a class as a function")}(this,A),this.offset=_._offset,this.type=_.type,this.size=_.size,this.boxes=[],_.boxes)for(var E=0;E<_.boxes.length;E++)this.boxes.push(new A(_.boxes[E]));switch(this.isComplete=!0,_.type){case"sidx":if(this.timescale=_.timescale,this.earliest_presentation_time=_.earliest_presentation_time,this.first_offset=_.first_offset,this.references=_.references,_.references){this.references=[];for(var f=0;f<_.references.length;f++){var R={reference_type:_.references[f].reference_type,referenced_size:_.references[f].referenced_size,subsegment_duration:_.references[f].subsegment_duration};this.references.push(R)}}break;case"emsg":this.id=_.id,this.version=_.version===1?1:0,this.value=_.value,this.timescale=_.timescale,this.scheme_id_uri=_.scheme_id_uri,this.presentation_time_delta=_.version===1?_.presentation_time:_.presentation_time_delta,this.event_duration=_.event_duration,this.message_data=_.message_data;break;case"mdhd":this.timescale=_.timescale;break;case"mfhd":this.sequence_number=_.sequence_number;break;case"subs":this.entry_count=_.entry_count,this.entries=_.entries;break;case"tfhd":this.base_data_offset=_.base_data_offset,this.sample_description_index=_.sample_description_index,this.default_sample_duration=_.default_sample_duration,this.default_sample_size=_.default_sample_size,this.default_sample_flags=_.default_sample_flags,this.flags=_.flags;break;case"tfdt":this.version=_.version,this.baseMediaDecodeTime=_.baseMediaDecodeTime,this.flags=_.flags;break;case"trun":if(this.sample_count=_.sample_count,this.first_sample_flags=_.first_sample_flags,this.data_offset=_.data_offset,this.flags=_.flags,this.samples=_.samples,_.samples){this.samples=[];for(var y=0,r=_.samples.length;y<r;y++){var l={sample_size:_.samples[y].sample_size,sample_duration:_.samples[y].sample_duration,sample_composition_time_offset:_.samples[y].sample_composition_time_offset};this.samples.push(l)}}break;case"prft":this.version=_.version,this.reference_track_ID=_.reference_track_ID,this.ntp_timestamp_sec=_.ntp_timestamp_sec,this.ntp_timestamp_frac=_.ntp_timestamp_frac,this.media_time=_.media_time,this.flags=_.flags}}var o,i;return o=A,(i=[{key:"getChildBox",value:function(_){for(var E=0;E<this.boxes.length;E++)if(this.boxes[E].type===_)return this.boxes[E]}},{key:"getChildBoxes",value:function(_){for(var E=[],f=0;f<this.boxes.length;f++)this.boxes[f].type===_&&E.push(this.boxes[f]);return E}}])&&S(o.prototype,i),A}();H.Z=Y},9597:function(Z,H){H.Z=function S(Y,A,o){(function(i,_){if(!(i instanceof _))throw new TypeError("Cannot call a class as a function")})(this,S),this.lastCompletedOffset=Y,this.found=A,this.size=o}},2128:function(Z,H){H.Z=function S(){(function(Y,A){if(!(Y instanceof A))throw new TypeError("Cannot call a class as a function")})(this,S),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""}},7855:function(Z,H,S){function Y(i,_){if(!(i instanceof _))throw new TypeError("Cannot call a class as a function")}S.d(H,{O:function(){return o},w:function(){return A}});var A=function i(){Y(this,i),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null},o=function i(){Y(this,i),this.s=null,this.d=null,this.b=[]};A.GET="GET",A.HEAD="HEAD",A.MPD_TYPE="MPD",A.XLINK_EXPANSION_TYPE="XLinkExpansion",A.INIT_SEGMENT_TYPE="InitializationSegment",A.INDEX_SEGMENT_TYPE="IndexSegment",A.MEDIA_SEGMENT_TYPE="MediaSegment",A.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",A.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",A.DVB_REPORTING_TYPE="DVBReporting",A.LICENSE="license",A.CONTENT_STEERING_TYPE="ContentSteering",A.OTHER_TYPE="other"},3039:function(Z,H){function S(A,o){return function(i,_){for(var E,f,R,y=Y(i,"tag"),r=Y(_??"*","range"),l=[],p=-1;++p<r.length;)if(E=r[p].toLowerCase(),o||E!=="*"){for(f=-1,R=[];++f<y.length;)if(A(y[f].toLowerCase(),E)){if(!o)return y[f];l.push(y[f])}else R.push(y[f]);y=R}return o?l:void 0}}function Y(A,o){var i=A&&typeof A=="string"?[A]:A;if(!i||typeof i!="object"||!("length"in i))throw new Error("Invalid "+o+" `"+i+"`, expected non-empty string");return i}H.basicFilter=S(function(A,o){return o==="*"||A===o||A.indexOf(o+"-")>-1},!0),H.extendedFilter=S(function(A,o){var i=A.split("-"),_=o.split("-"),E=0,f=0;if(_[f]!=="*"&&i[E]!==_[f])return!1;for(E++,f++;f<_.length;)if(_[f]!=="*"){if(!i[E])return!1;if(i[E]!==_[f]){if(i[E].length===1)return!1;E++}else E++,f++}else f++;return!0},!0),H.lookup=S(function(A,o){for(var i,_=o;;){if(_==="*"||A===_)return!0;if((i=_.lastIndexOf("-"))<0)return!1;_.charAt(i-2)==="-"&&(i-=2),_=_.slice(0,i)}})},3973:function(Z,H,S){Z.exports=S(3854)},3854:function(Z,H,S){var Y=S(2415),A=S(3039),o=S(7778),i=S(5813),_=S(3165),E=S(9460);Z.exports=function(U,q){var F,oe=q||{},x=Y.parse(String(U||"").toLowerCase(),oe),ne=Y.stringify(x),de=-1;if(!ne)return ne;for(;++de<o.length;)A.extendedFilter(ne,o[de].from).length&&(r(x,o[de].from,o[de].to),ne=Y.stringify(x));for(de=-1;++de<i.length;)l(x,i[de].from.field,i[de].from.value)&&p(x,i[de].to.field,i[de].to.value);for(ne=Y.stringify(Object.assign({},x,y)),de=-1;++de<_.length;)ne===_[de]&&(r(x,_[de],_[de].split("-").slice(0,-1).join("-")),ne=Y.stringify(Object.assign({},x,y)));if(x.extensions.sort(N),oe.warning)for(F in E)f.call(E[F],x[F])&&oe.warning("Deprecated "+F+" `"+x[F]+"`, expected one of `"+E[F][x[F]].join("`, `")+"`",null,7);return x.script&&(x.script=x.script.charAt(0).toUpperCase()+x.script.slice(1)),x.region&&(x.region=x.region.toUpperCase()),Y.stringify(x)};var f={}.hasOwnProperty,R=new Intl.Collator,y={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function r(U,q,F){var oe,x=Y.parse(q),ne=Y.parse(F),de=[];for(oe in x)x[oe]&&x[oe].length&&l(U,oe,x[oe])&&de.push(oe);for(oe in ne)ne[oe]&&ne[oe].length&&(de.indexOf(oe)>-1||!U[oe]||!U[oe].length)&&p(U,oe,ne[oe])}function l(U,q,F){var oe,x,ne,de,$=!1;if(F){if(x=oe=U[q],oe&&typeof oe=="object")for(x=[],ne=-1;++ne<oe.length;)de=oe[ne],F.indexOf(de)<0?x.push(de):$=!0;else oe===F&&(x=null,$=!0);U[q]=x}return $}function p(U,q,F){var oe,x,ne,de=U[q];if(de&&typeof de=="object")for(oe=[].concat(F),x=-1;++x<oe.length;)ne=oe[x],de.indexOf(ne)<0&&de.push(ne);else U[q]=F}function N(U,q){return R.compare(U.singleton,q.singleton)}},2415:function(Z,H,S){H.parse=S(6903),H.stringify=S(6713)},6903:function(Z,H,S){var Y=S(2219),A=S(3516),o=S(395),i=S(858),_=S(8589);Z.exports=function f(R,y){var r,l,p,N=y||{},U={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},q=String(R),F=q.toLowerCase(),oe=0;if(R==null)throw new Error("Expected string, got `"+R+"`");if(E.call(_,F))return(N.normalize==null||N.normalize)&&_[F]?f(_[F]):(U[i.indexOf(F)===-1?"irregular":"regular"]=q,U);for(;A(F.charCodeAt(oe))&&oe<9;)oe++;if(oe>1&&oe<9){if(U.language=q.slice(0,oe),oe<4)for(l=0;F.charCodeAt(oe)===45&&A(F.charCodeAt(oe+1))&&A(F.charCodeAt(oe+2))&&A(F.charCodeAt(oe+3))&&!A(F.charCodeAt(oe+4));){if(l>2)return x(oe,3,"Too many extended language subtags, expected at most 3 subtags");U.extendedLanguageSubtags.push(q.slice(oe+1,oe+4)),oe+=4,l++}for(F.charCodeAt(oe)===45&&A(F.charCodeAt(oe+1))&&A(F.charCodeAt(oe+2))&&A(F.charCodeAt(oe+3))&&A(F.charCodeAt(oe+4))&&!A(F.charCodeAt(oe+5))&&(U.script=q.slice(oe+1,oe+5),oe+=5),F.charCodeAt(oe)===45&&(A(F.charCodeAt(oe+1))&&A(F.charCodeAt(oe+2))&&!A(F.charCodeAt(oe+3))?(U.region=q.slice(oe+1,oe+3),oe+=3):o(F.charCodeAt(oe+1))&&o(F.charCodeAt(oe+2))&&o(F.charCodeAt(oe+3))&&!o(F.charCodeAt(oe+4))&&(U.region=q.slice(oe+1,oe+4),oe+=4));F.charCodeAt(oe)===45;){for(p=r=oe+1;Y(F.charCodeAt(p));){if(p-r>7)return x(p,1,"Too long variant, expected at most 8 characters");p++}if(!(p-r>4||p-r>3&&o(F.charCodeAt(r))))break;U.variants.push(q.slice(r,p)),oe=p}for(;F.charCodeAt(oe)===45&&F.charCodeAt(oe+1)!==120&&Y(F.charCodeAt(oe+1))&&F.charCodeAt(oe+2)===45&&Y(F.charCodeAt(oe+3));){for(p=oe+2,l=0;F.charCodeAt(p)===45&&Y(F.charCodeAt(p+1))&&Y(F.charCodeAt(p+2));)for(p=(r=p+1)+2,l++;Y(F.charCodeAt(p));){if(p-r>7)return x(p,2,"Too long extension, expected at most 8 characters");p++}if(!l)return x(p,4,"Empty extension, extensions must have at least 2 characters of content");U.extensions.push({singleton:q.charAt(oe+1),extensions:q.slice(oe+3,p).split("-")}),oe=p}}else oe=0;if(oe===0&&F.charCodeAt(oe)===120||F.charCodeAt(oe)===45&&F.charCodeAt(oe+1)===120)for(p=oe=oe?oe+2:1;F.charCodeAt(p)===45&&Y(F.charCodeAt(p+1));){for(p=r=oe+1;Y(F.charCodeAt(p));){if(p-r>7)return x(p,5,"Too long private-use area, expected at most 8 characters");p++}U.privateuse.push(q.slice(oe+1,p)),oe=p}return oe!==q.length?x(oe,6,"Found superfluous content after tag"):U;function x(ne,de,$){return N.warning&&N.warning($,de,ne),N.forgiving?U:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var E={}.hasOwnProperty},6713:function(Z){Z.exports=function(H){var S,Y,A,o=H||{},i=[];if(o.irregular||o.regular)return o.irregular||o.regular;if(o.language)for(i=i.concat(o.language,o.extendedLanguageSubtags||[],o.script||[],o.region||[],o.variants||[]),S=o.extensions||[],Y=-1;++Y<S.length;)(A=S[Y]).singleton&&A.extensions&&A.extensions.length&&(i=i.concat(A.singleton,A.extensions));return o.privateuse&&o.privateuse.length&&(i=i.concat("x",o.privateuse)),i.join("-")}},1549:function(Z,H,S){var Y=S(6693),A=S(2165),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;H.Buffer=E,H.SlowBuffer=function(m){return+m!=m&&(m=0),E.alloc(+m)},H.INSPECT_MAX_BYTES=50;var i=2147483647;function _(m){if(m>i)throw new RangeError('The value "'+m+'" is invalid for option "size"');var d=new Uint8Array(m);return Object.setPrototypeOf(d,E.prototype),d}function E(m,d,b){if(typeof m=="number"){if(typeof d=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(m)}return f(m,d,b)}function f(m,d,b){if(typeof m=="string")return function(te,De){if(typeof De=="string"&&De!==""||(De="utf8"),!E.isEncoding(De))throw new TypeError("Unknown encoding: "+De);var tt=0|N(te,De),Ge=_(tt),Be=Ge.write(te,De);return Be!==tt&&(Ge=Ge.slice(0,Be)),Ge}(m,d);if(ArrayBuffer.isView(m))return function(te){if(Te(te,Uint8Array)){var De=new Uint8Array(te);return l(De.buffer,De.byteOffset,De.byteLength)}return r(te)}(m);if(m==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(Te(m,ArrayBuffer)||m&&Te(m.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Te(m,SharedArrayBuffer)||m&&Te(m.buffer,SharedArrayBuffer)))return l(m,d,b);if(typeof m=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var C=m.valueOf&&m.valueOf();if(C!=null&&C!==m)return E.from(C,d,b);var re=function(te){if(E.isBuffer(te)){var De=0|p(te.length),tt=_(De);return tt.length===0||te.copy(tt,0,0,De),tt}return te.length!==void 0?typeof te.length!="number"||Ae(te.length)?_(0):r(te):te.type==="Buffer"&&Array.isArray(te.data)?r(te.data):void 0}(m);if(re)return re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof m[Symbol.toPrimitive]=="function")return E.from(m[Symbol.toPrimitive]("string"),d,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m)}function R(m){if(typeof m!="number")throw new TypeError('"size" argument must be of type number');if(m<0)throw new RangeError('The value "'+m+'" is invalid for option "size"')}function y(m){return R(m),_(m<0?0:0|p(m))}function r(m){for(var d=m.length<0?0:0|p(m.length),b=_(d),C=0;C<d;C+=1)b[C]=255&m[C];return b}function l(m,d,b){if(d<0||m.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(m.byteLength<d+(b||0))throw new RangeError('"length" is outside of buffer bounds');var C;return C=d===void 0&&b===void 0?new Uint8Array(m):b===void 0?new Uint8Array(m,d):new Uint8Array(m,d,b),Object.setPrototypeOf(C,E.prototype),C}function p(m){if(m>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|m}function N(m,d){if(E.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||Te(m,ArrayBuffer))return m.byteLength;if(typeof m!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);var b=m.length,C=arguments.length>2&&arguments[2]===!0;if(!C&&b===0)return 0;for(var re=!1;;)switch(d){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return vt(m).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*b;case"hex":return b>>>1;case"base64":return ze(m).length;default:if(re)return C?-1:vt(m).length;d=(""+d).toLowerCase(),re=!0}}function U(m,d,b){var C=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0)<=(d>>>=0))return"";for(m||(m="utf8");;)switch(m){case"hex":return je(this,d,b);case"utf8":case"utf-8":return Ne(this,d,b);case"ascii":return we(this,d,b);case"latin1":case"binary":return Me(this,d,b);case"base64":return he(this,d,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ie(this,d,b);default:if(C)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase(),C=!0}}function q(m,d,b){var C=m[d];m[d]=m[b],m[b]=C}function F(m,d,b,C,re){if(m.length===0)return-1;if(typeof b=="string"?(C=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),Ae(b=+b)&&(b=re?0:m.length-1),b<0&&(b=m.length+b),b>=m.length){if(re)return-1;b=m.length-1}else if(b<0){if(!re)return-1;b=0}if(typeof d=="string"&&(d=E.from(d,C)),E.isBuffer(d))return d.length===0?-1:oe(m,d,b,C,re);if(typeof d=="number")return d&=255,typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(m,d,b):Uint8Array.prototype.lastIndexOf.call(m,d,b):oe(m,[d],b,C,re);throw new TypeError("val must be string, number or Buffer")}function oe(m,d,b,C,re){var te,De=1,tt=m.length,Ge=d.length;if(C!==void 0&&((C=String(C).toLowerCase())==="ucs2"||C==="ucs-2"||C==="utf16le"||C==="utf-16le")){if(m.length<2||d.length<2)return-1;De=2,tt/=2,Ge/=2,b/=2}function Be(St,ft){return De===1?St[ft]:St.readUInt16BE(ft*De)}if(re){var Pe=-1;for(te=b;te<tt;te++)if(Be(m,te)===Be(d,Pe===-1?0:te-Pe)){if(Pe===-1&&(Pe=te),te-Pe+1===Ge)return Pe*De}else Pe!==-1&&(te-=te-Pe),Pe=-1}else for(b+Ge>tt&&(b=tt-Ge),te=b;te>=0;te--){for(var Ye=!0,ot=0;ot<Ge;ot++)if(Be(m,te+ot)!==Be(d,ot)){Ye=!1;break}if(Ye)return te}return-1}function x(m,d,b,C){b=Number(b)||0;var re=m.length-b;C?(C=Number(C))>re&&(C=re):C=re;var te=d.length;C>te/2&&(C=te/2);for(var De=0;De<C;++De){var tt=parseInt(d.substr(2*De,2),16);if(Ae(tt))return De;m[b+De]=tt}return De}function ne(m,d,b,C){return at(vt(d,m.length-b),m,b,C)}function de(m,d,b,C){return at(function(re){for(var te=[],De=0;De<re.length;++De)te.push(255&re.charCodeAt(De));return te}(d),m,b,C)}function $(m,d,b,C){return at(ze(d),m,b,C)}function ue(m,d,b,C){return at(function(re,te){for(var De,tt,Ge,Be=[],Pe=0;Pe<re.length&&!((te-=2)<0);++Pe)tt=(De=re.charCodeAt(Pe))>>8,Ge=De%256,Be.push(Ge),Be.push(tt);return Be}(d,m.length-b),m,b,C)}function he(m,d,b){return d===0&&b===m.length?Y.fromByteArray(m):Y.fromByteArray(m.slice(d,b))}function Ne(m,d,b){b=Math.min(m.length,b);for(var C=[],re=d;re<b;){var te,De,tt,Ge,Be=m[re],Pe=null,Ye=Be>239?4:Be>223?3:Be>191?2:1;if(re+Ye<=b)switch(Ye){case 1:Be<128&&(Pe=Be);break;case 2:(192&(te=m[re+1]))==128&&(Ge=(31&Be)<<6|63&te)>127&&(Pe=Ge);break;case 3:te=m[re+1],De=m[re+2],(192&te)==128&&(192&De)==128&&(Ge=(15&Be)<<12|(63&te)<<6|63&De)>2047&&(Ge<55296||Ge>57343)&&(Pe=Ge);break;case 4:te=m[re+1],De=m[re+2],tt=m[re+3],(192&te)==128&&(192&De)==128&&(192&tt)==128&&(Ge=(15&Be)<<18|(63&te)<<12|(63&De)<<6|63&tt)>65535&&Ge<1114112&&(Pe=Ge)}Pe===null?(Pe=65533,Ye=1):Pe>65535&&(Pe-=65536,C.push(Pe>>>10&1023|55296),Pe=56320|1023&Pe),C.push(Pe),re+=Ye}return function(ot){var St=ot.length;if(St<=ae)return String.fromCharCode.apply(String,ot);for(var ft="",zt=0;zt<St;)ft+=String.fromCharCode.apply(String,ot.slice(zt,zt+=ae));return ft}(C)}H.kMaxLength=i,E.TYPED_ARRAY_SUPPORT=function(){try{var m=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(m,d),m.foo()===42}catch{return!1}}(),E.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(E.prototype,"parent",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.buffer}}),Object.defineProperty(E.prototype,"offset",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.byteOffset}}),E.poolSize=8192,E.from=function(m,d,b){return f(m,d,b)},Object.setPrototypeOf(E.prototype,Uint8Array.prototype),Object.setPrototypeOf(E,Uint8Array),E.alloc=function(m,d,b){return function(C,re,te){return R(C),C<=0?_(C):re!==void 0?typeof te=="string"?_(C).fill(re,te):_(C).fill(re):_(C)}(m,d,b)},E.allocUnsafe=function(m){return y(m)},E.allocUnsafeSlow=function(m){return y(m)},E.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==E.prototype},E.compare=function(m,d){if(Te(m,Uint8Array)&&(m=E.from(m,m.offset,m.byteLength)),Te(d,Uint8Array)&&(d=E.from(d,d.offset,d.byteLength)),!E.isBuffer(m)||!E.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===d)return 0;for(var b=m.length,C=d.length,re=0,te=Math.min(b,C);re<te;++re)if(m[re]!==d[re]){b=m[re],C=d[re];break}return b<C?-1:C<b?1:0},E.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(m,d){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return E.alloc(0);var b;if(d===void 0)for(d=0,b=0;b<m.length;++b)d+=m[b].length;var C=E.allocUnsafe(d),re=0;for(b=0;b<m.length;++b){var te=m[b];if(Te(te,Uint8Array))re+te.length>C.length?E.from(te).copy(C,re):Uint8Array.prototype.set.call(C,te,re);else{if(!E.isBuffer(te))throw new TypeError('"list" argument must be an Array of Buffers');te.copy(C,re)}re+=te.length}return C},E.byteLength=N,E.prototype._isBuffer=!0,E.prototype.swap16=function(){var m=this.length;if(m%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var d=0;d<m;d+=2)q(this,d,d+1);return this},E.prototype.swap32=function(){var m=this.length;if(m%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var d=0;d<m;d+=4)q(this,d,d+3),q(this,d+1,d+2);return this},E.prototype.swap64=function(){var m=this.length;if(m%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var d=0;d<m;d+=8)q(this,d,d+7),q(this,d+1,d+6),q(this,d+2,d+5),q(this,d+3,d+4);return this},E.prototype.toString=function(){var m=this.length;return m===0?"":arguments.length===0?Ne(this,0,m):U.apply(this,arguments)},E.prototype.toLocaleString=E.prototype.toString,E.prototype.equals=function(m){if(!E.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m||E.compare(this,m)===0},E.prototype.inspect=function(){var m="",d=H.INSPECT_MAX_BYTES;return m=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(m+=" ... "),"<Buffer "+m+">"},o&&(E.prototype[o]=E.prototype.inspect),E.prototype.compare=function(m,d,b,C,re){if(Te(m,Uint8Array)&&(m=E.from(m,m.offset,m.byteLength)),!E.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(d===void 0&&(d=0),b===void 0&&(b=m?m.length:0),C===void 0&&(C=0),re===void 0&&(re=this.length),d<0||b>m.length||C<0||re>this.length)throw new RangeError("out of range index");if(C>=re&&d>=b)return 0;if(C>=re)return-1;if(d>=b)return 1;if(this===m)return 0;for(var te=(re>>>=0)-(C>>>=0),De=(b>>>=0)-(d>>>=0),tt=Math.min(te,De),Ge=this.slice(C,re),Be=m.slice(d,b),Pe=0;Pe<tt;++Pe)if(Ge[Pe]!==Be[Pe]){te=Ge[Pe],De=Be[Pe];break}return te<De?-1:De<te?1:0},E.prototype.includes=function(m,d,b){return this.indexOf(m,d,b)!==-1},E.prototype.indexOf=function(m,d,b){return F(this,m,d,b,!0)},E.prototype.lastIndexOf=function(m,d,b){return F(this,m,d,b,!1)},E.prototype.write=function(m,d,b,C){if(d===void 0)C="utf8",b=this.length,d=0;else if(b===void 0&&typeof d=="string")C=d,b=this.length,d=0;else{if(!isFinite(d))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");d>>>=0,isFinite(b)?(b>>>=0,C===void 0&&(C="utf8")):(C=b,b=void 0)}var re=this.length-d;if((b===void 0||b>re)&&(b=re),m.length>0&&(b<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");for(var te=!1;;)switch(C){case"hex":return x(this,m,d,b);case"utf8":case"utf-8":return ne(this,m,d,b);case"ascii":case"latin1":case"binary":return de(this,m,d,b);case"base64":return $(this,m,d,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,m,d,b);default:if(te)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),te=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ae=4096;function we(m,d,b){var C="";b=Math.min(m.length,b);for(var re=d;re<b;++re)C+=String.fromCharCode(127&m[re]);return C}function Me(m,d,b){var C="";b=Math.min(m.length,b);for(var re=d;re<b;++re)C+=String.fromCharCode(m[re]);return C}function je(m,d,b){var C=m.length;(!d||d<0)&&(d=0),(!b||b<0||b>C)&&(b=C);for(var re="",te=d;te<b;++te)re+=He[m[te]];return re}function Ie(m,d,b){for(var C=m.slice(d,b),re="",te=0;te<C.length-1;te+=2)re+=String.fromCharCode(C[te]+256*C[te+1]);return re}function Le(m,d,b){if(m%1!=0||m<0)throw new RangeError("offset is not uint");if(m+d>b)throw new RangeError("Trying to access beyond buffer length")}function Qe(m,d,b,C,re,te){if(!E.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>re||d<te)throw new RangeError('"value" argument is out of bounds');if(b+C>m.length)throw new RangeError("Index out of range")}function nt(m,d,b,C,re,te){if(b+C>m.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function Re(m,d,b,C,re){return d=+d,b>>>=0,re||nt(m,0,b,4),A.write(m,d,b,C,23,4),b+4}function Fe(m,d,b,C,re){return d=+d,b>>>=0,re||nt(m,0,b,8),A.write(m,d,b,C,52,8),b+8}E.prototype.slice=function(m,d){var b=this.length;(m=~~m)<0?(m+=b)<0&&(m=0):m>b&&(m=b),(d=d===void 0?b:~~d)<0?(d+=b)<0&&(d=0):d>b&&(d=b),d<m&&(d=m);var C=this.subarray(m,d);return Object.setPrototypeOf(C,E.prototype),C},E.prototype.readUintLE=E.prototype.readUIntLE=function(m,d,b){m>>>=0,d>>>=0,b||Le(m,d,this.length);for(var C=this[m],re=1,te=0;++te<d&&(re*=256);)C+=this[m+te]*re;return C},E.prototype.readUintBE=E.prototype.readUIntBE=function(m,d,b){m>>>=0,d>>>=0,b||Le(m,d,this.length);for(var C=this[m+--d],re=1;d>0&&(re*=256);)C+=this[m+--d]*re;return C},E.prototype.readUint8=E.prototype.readUInt8=function(m,d){return m>>>=0,d||Le(m,1,this.length),this[m]},E.prototype.readUint16LE=E.prototype.readUInt16LE=function(m,d){return m>>>=0,d||Le(m,2,this.length),this[m]|this[m+1]<<8},E.prototype.readUint16BE=E.prototype.readUInt16BE=function(m,d){return m>>>=0,d||Le(m,2,this.length),this[m]<<8|this[m+1]},E.prototype.readUint32LE=E.prototype.readUInt32LE=function(m,d){return m>>>=0,d||Le(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+16777216*this[m+3]},E.prototype.readUint32BE=E.prototype.readUInt32BE=function(m,d){return m>>>=0,d||Le(m,4,this.length),16777216*this[m]+(this[m+1]<<16|this[m+2]<<8|this[m+3])},E.prototype.readIntLE=function(m,d,b){m>>>=0,d>>>=0,b||Le(m,d,this.length);for(var C=this[m],re=1,te=0;++te<d&&(re*=256);)C+=this[m+te]*re;return C>=(re*=128)&&(C-=Math.pow(2,8*d)),C},E.prototype.readIntBE=function(m,d,b){m>>>=0,d>>>=0,b||Le(m,d,this.length);for(var C=d,re=1,te=this[m+--C];C>0&&(re*=256);)te+=this[m+--C]*re;return te>=(re*=128)&&(te-=Math.pow(2,8*d)),te},E.prototype.readInt8=function(m,d){return m>>>=0,d||Le(m,1,this.length),128&this[m]?-1*(255-this[m]+1):this[m]},E.prototype.readInt16LE=function(m,d){m>>>=0,d||Le(m,2,this.length);var b=this[m]|this[m+1]<<8;return 32768&b?4294901760|b:b},E.prototype.readInt16BE=function(m,d){m>>>=0,d||Le(m,2,this.length);var b=this[m+1]|this[m]<<8;return 32768&b?4294901760|b:b},E.prototype.readInt32LE=function(m,d){return m>>>=0,d||Le(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},E.prototype.readInt32BE=function(m,d){return m>>>=0,d||Le(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},E.prototype.readFloatLE=function(m,d){return m>>>=0,d||Le(m,4,this.length),A.read(this,m,!0,23,4)},E.prototype.readFloatBE=function(m,d){return m>>>=0,d||Le(m,4,this.length),A.read(this,m,!1,23,4)},E.prototype.readDoubleLE=function(m,d){return m>>>=0,d||Le(m,8,this.length),A.read(this,m,!0,52,8)},E.prototype.readDoubleBE=function(m,d){return m>>>=0,d||Le(m,8,this.length),A.read(this,m,!1,52,8)},E.prototype.writeUintLE=E.prototype.writeUIntLE=function(m,d,b,C){m=+m,d>>>=0,b>>>=0,C||Qe(this,m,d,b,Math.pow(2,8*b)-1,0);var re=1,te=0;for(this[d]=255&m;++te<b&&(re*=256);)this[d+te]=m/re&255;return d+b},E.prototype.writeUintBE=E.prototype.writeUIntBE=function(m,d,b,C){m=+m,d>>>=0,b>>>=0,C||Qe(this,m,d,b,Math.pow(2,8*b)-1,0);var re=b-1,te=1;for(this[d+re]=255&m;--re>=0&&(te*=256);)this[d+re]=m/te&255;return d+b},E.prototype.writeUint8=E.prototype.writeUInt8=function(m,d,b){return m=+m,d>>>=0,b||Qe(this,m,d,1,255,0),this[d]=255&m,d+1},E.prototype.writeUint16LE=E.prototype.writeUInt16LE=function(m,d,b){return m=+m,d>>>=0,b||Qe(this,m,d,2,65535,0),this[d]=255&m,this[d+1]=m>>>8,d+2},E.prototype.writeUint16BE=E.prototype.writeUInt16BE=function(m,d,b){return m=+m,d>>>=0,b||Qe(this,m,d,2,65535,0),this[d]=m>>>8,this[d+1]=255&m,d+2},E.prototype.writeUint32LE=E.prototype.writeUInt32LE=function(m,d,b){return m=+m,d>>>=0,b||Qe(this,m,d,4,4294967295,0),this[d+3]=m>>>24,this[d+2]=m>>>16,this[d+1]=m>>>8,this[d]=255&m,d+4},E.prototype.writeUint32BE=E.prototype.writeUInt32BE=function(m,d,b){return m=+m,d>>>=0,b||Qe(this,m,d,4,4294967295,0),this[d]=m>>>24,this[d+1]=m>>>16,this[d+2]=m>>>8,this[d+3]=255&m,d+4},E.prototype.writeIntLE=function(m,d,b,C){if(m=+m,d>>>=0,!C){var re=Math.pow(2,8*b-1);Qe(this,m,d,b,re-1,-re)}var te=0,De=1,tt=0;for(this[d]=255&m;++te<b&&(De*=256);)m<0&&tt===0&&this[d+te-1]!==0&&(tt=1),this[d+te]=(m/De>>0)-tt&255;return d+b},E.prototype.writeIntBE=function(m,d,b,C){if(m=+m,d>>>=0,!C){var re=Math.pow(2,8*b-1);Qe(this,m,d,b,re-1,-re)}var te=b-1,De=1,tt=0;for(this[d+te]=255&m;--te>=0&&(De*=256);)m<0&&tt===0&&this[d+te+1]!==0&&(tt=1),this[d+te]=(m/De>>0)-tt&255;return d+b},E.prototype.writeInt8=function(m,d,b){return m=+m,d>>>=0,b||Qe(this,m,d,1,127,-128),m<0&&(m=255+m+1),this[d]=255&m,d+1},E.prototype.writeInt16LE=function(m,d,b){return m=+m,d>>>=0,b||Qe(this,m,d,2,32767,-32768),this[d]=255&m,this[d+1]=m>>>8,d+2},E.prototype.writeInt16BE=function(m,d,b){return m=+m,d>>>=0,b||Qe(this,m,d,2,32767,-32768),this[d]=m>>>8,this[d+1]=255&m,d+2},E.prototype.writeInt32LE=function(m,d,b){return m=+m,d>>>=0,b||Qe(this,m,d,4,2147483647,-2147483648),this[d]=255&m,this[d+1]=m>>>8,this[d+2]=m>>>16,this[d+3]=m>>>24,d+4},E.prototype.writeInt32BE=function(m,d,b){return m=+m,d>>>=0,b||Qe(this,m,d,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[d]=m>>>24,this[d+1]=m>>>16,this[d+2]=m>>>8,this[d+3]=255&m,d+4},E.prototype.writeFloatLE=function(m,d,b){return Re(this,m,d,!0,b)},E.prototype.writeFloatBE=function(m,d,b){return Re(this,m,d,!1,b)},E.prototype.writeDoubleLE=function(m,d,b){return Fe(this,m,d,!0,b)},E.prototype.writeDoubleBE=function(m,d,b){return Fe(this,m,d,!1,b)},E.prototype.copy=function(m,d,b,C){if(!E.isBuffer(m))throw new TypeError("argument should be a Buffer");if(b||(b=0),C||C===0||(C=this.length),d>=m.length&&(d=m.length),d||(d=0),C>0&&C<b&&(C=b),C===b||m.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(b<0||b>=this.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),m.length-d<C-b&&(C=m.length-d+b);var re=C-b;return this===m&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,b,C):Uint8Array.prototype.set.call(m,this.subarray(b,C),d),re},E.prototype.fill=function(m,d,b,C){if(typeof m=="string"){if(typeof d=="string"?(C=d,d=0,b=this.length):typeof b=="string"&&(C=b,b=this.length),C!==void 0&&typeof C!="string")throw new TypeError("encoding must be a string");if(typeof C=="string"&&!E.isEncoding(C))throw new TypeError("Unknown encoding: "+C);if(m.length===1){var re=m.charCodeAt(0);(C==="utf8"&&re<128||C==="latin1")&&(m=re)}}else typeof m=="number"?m&=255:typeof m=="boolean"&&(m=Number(m));if(d<0||this.length<d||this.length<b)throw new RangeError("Out of range index");if(b<=d)return this;var te;if(d>>>=0,b=b===void 0?this.length:b>>>0,m||(m=0),typeof m=="number")for(te=d;te<b;++te)this[te]=m;else{var De=E.isBuffer(m)?m:E.from(m,C),tt=De.length;if(tt===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(te=0;te<b-d;++te)this[te+d]=De[te%tt]}return this};var Tt=/[^+/0-9A-Za-z-_]/g;function vt(m,d){var b;d=d||1/0;for(var C=m.length,re=null,te=[],De=0;De<C;++De){if((b=m.charCodeAt(De))>55295&&b<57344){if(!re){if(b>56319){(d-=3)>-1&&te.push(239,191,189);continue}if(De+1===C){(d-=3)>-1&&te.push(239,191,189);continue}re=b;continue}if(b<56320){(d-=3)>-1&&te.push(239,191,189),re=b;continue}b=65536+(re-55296<<10|b-56320)}else re&&(d-=3)>-1&&te.push(239,191,189);if(re=null,b<128){if((d-=1)<0)break;te.push(b)}else if(b<2048){if((d-=2)<0)break;te.push(b>>6|192,63&b|128)}else if(b<65536){if((d-=3)<0)break;te.push(b>>12|224,b>>6&63|128,63&b|128)}else{if(!(b<1114112))throw new Error("Invalid code point");if((d-=4)<0)break;te.push(b>>18|240,b>>12&63|128,b>>6&63|128,63&b|128)}}return te}function ze(m){return Y.toByteArray(function(d){if((d=(d=d.split("=")[0]).trim().replace(Tt,"")).length<2)return"";for(;d.length%4!=0;)d+="=";return d}(m))}function at(m,d,b,C){for(var re=0;re<C&&!(re+b>=d.length||re>=m.length);++re)d[re+b]=m[re];return re}function Te(m,d){return m instanceof d||m!=null&&m.constructor!=null&&m.constructor.name!=null&&m.constructor.name===d.name}function Ae(m){return m!=m}var He=function(){for(var m="0123456789abcdef",d=new Array(256),b=0;b<16;++b)for(var C=16*b,re=0;re<16;++re)d[C+re]=m[b]+m[re];return d}()},6693:function(Z,H){H.byteLength=function(R){var y=E(R),r=y[0],l=y[1];return 3*(r+l)/4-l},H.toByteArray=function(R){var y,r,l=E(R),p=l[0],N=l[1],U=new A(function(oe,x,ne){return 3*(x+ne)/4-ne}(0,p,N)),q=0,F=N>0?p-4:p;for(r=0;r<F;r+=4)y=Y[R.charCodeAt(r)]<<18|Y[R.charCodeAt(r+1)]<<12|Y[R.charCodeAt(r+2)]<<6|Y[R.charCodeAt(r+3)],U[q++]=y>>16&255,U[q++]=y>>8&255,U[q++]=255&y;return N===2&&(y=Y[R.charCodeAt(r)]<<2|Y[R.charCodeAt(r+1)]>>4,U[q++]=255&y),N===1&&(y=Y[R.charCodeAt(r)]<<10|Y[R.charCodeAt(r+1)]<<4|Y[R.charCodeAt(r+2)]>>2,U[q++]=y>>8&255,U[q++]=255&y),U},H.fromByteArray=function(R){for(var y,r=R.length,l=r%3,p=[],N=16383,U=0,q=r-l;U<q;U+=N)p.push(f(R,U,U+N>q?q:U+N));return l===1?(y=R[r-1],p.push(S[y>>2]+S[y<<4&63]+"==")):l===2&&(y=(R[r-2]<<8)+R[r-1],p.push(S[y>>10]+S[y>>4&63]+S[y<<2&63]+"=")),p.join("")};for(var S=[],Y=[],A=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,_=o.length;i<_;++i)S[i]=o[i],Y[o.charCodeAt(i)]=i;function E(R){var y=R.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=R.indexOf("=");return r===-1&&(r=y),[r,r===y?0:4-r%4]}function f(R,y,r){for(var l,p,N=[],U=y;U<r;U+=3)l=(R[U]<<16&16711680)+(R[U+1]<<8&65280)+(255&R[U+2]),N.push(S[(p=l)>>18&63]+S[p>>12&63]+S[p>>6&63]+S[63&p]);return N.join("")}Y[45]=62,Y[95]=63},2165:function(Z,H){H.read=function(S,Y,A,o,i){var _,E,f=8*i-o-1,R=(1<<f)-1,y=R>>1,r=-7,l=A?i-1:0,p=A?-1:1,N=S[Y+l];for(l+=p,_=N&(1<<-r)-1,N>>=-r,r+=f;r>0;_=256*_+S[Y+l],l+=p,r-=8);for(E=_&(1<<-r)-1,_>>=-r,r+=o;r>0;E=256*E+S[Y+l],l+=p,r-=8);if(_===0)_=1-y;else{if(_===R)return E?NaN:1/0*(N?-1:1);E+=Math.pow(2,o),_-=y}return(N?-1:1)*E*Math.pow(2,_-o)},H.write=function(S,Y,A,o,i,_){var E,f,R,y=8*_-i-1,r=(1<<y)-1,l=r>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,N=o?0:_-1,U=o?1:-1,q=Y<0||Y===0&&1/Y<0?1:0;for(Y=Math.abs(Y),isNaN(Y)||Y===1/0?(f=isNaN(Y)?1:0,E=r):(E=Math.floor(Math.log(Y)/Math.LN2),Y*(R=Math.pow(2,-E))<1&&(E--,R*=2),(Y+=E+l>=1?p/R:p*Math.pow(2,1-l))*R>=2&&(E++,R/=2),E+l>=r?(f=0,E=r):E+l>=1?(f=(Y*R-1)*Math.pow(2,i),E+=l):(f=Y*Math.pow(2,l-1)*Math.pow(2,i),E=0));i>=8;S[A+N]=255&f,N+=U,f/=256,i-=8);for(E=E<<i|f,y+=i;y>0;S[A+N]=255&E,N+=U,E/=256,y-=8);S[A+N-U]|=128*q}},6934:function(Z,H){var S={parseBuffer:function(o){return new Y(o).parse()},addBoxProcessor:function(o,i){typeof o=="string"&&typeof i=="function"&&(A.prototype._boxProcessors[o]=i)},createFile:function(){return new Y},createBox:function(o,i,_){var E=A.create(o);return i&&i.append(E,_),E},createFullBox:function(o,i,_){var E=S.createBox(o,i,_);return E.version=0,E.flags=0,E},Utils:{}};S.Utils.dataViewToString=function(o,i){var _=i||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(_).decode(o);var E=[],f=0;if(_==="utf-8")for(;f<o.byteLength;){var R=o.getUint8(f++);R<128||(R<224?(R=(31&R)<<6,R|=63&o.getUint8(f++)):R<240?(R=(15&R)<<12,R|=(63&o.getUint8(f++))<<6,R|=63&o.getUint8(f++)):(R=(7&R)<<18,R|=(63&o.getUint8(f++))<<12,R|=(63&o.getUint8(f++))<<6,R|=63&o.getUint8(f++))),E.push(String.fromCharCode(R))}else for(;f<o.byteLength;)E.push(String.fromCharCode(o.getUint8(f++)));return E.join("")},S.Utils.utf8ToByteArray=function(o){var i,_;if(typeof TextEncoder<"u")i=new TextEncoder().encode(o);else for(i=[],_=0;_<o.length;++_){var E=o.charCodeAt(_);E<128?i.push(E):E<2048?(i.push(192|E>>6),i.push(128|63&E)):E<65536?(i.push(224|E>>12),i.push(128|63&E>>6),i.push(128|63&E)):(i.push(240|E>>18),i.push(128|63&E>>12),i.push(128|63&E>>6),i.push(128|63&E))}return i},S.Utils.appendBox=function(o,i,_){if(i._offset=o._cursor.offset,i._root=o._root?o._root:o,i._raw=o._raw,i._parent=o,_!==-1)if(_!=null){var E,f=-1;if(typeof _=="number")f=_;else{if(typeof _=="string")E=_;else{if(typeof _!="object"||!_.type)return void o.boxes.push(i);E=_.type}for(var R=0;R<o.boxes.length;R++)if(E===o.boxes[R].type){f=R+1;break}}o.boxes.splice(f,0,i)}else o.boxes.push(i)},H.parseBuffer=S.parseBuffer,H.addBoxProcessor=S.addBoxProcessor,H.createFile=S.createFile,H.createBox=S.createBox,H.createFullBox=S.createFullBox,H.Utils=S.Utils,S.Cursor=function(o){this.offset=o===void 0?0:o};var Y=function(o){this._cursor=new S.Cursor,this.boxes=[],o&&(this._raw=new DataView(o))};Y.prototype.fetch=function(o){var i=this.fetchAll(o,!0);return i.length?i[0]:null},Y.prototype.fetchAll=function(o,i){var _=[];return Y._sweep.call(this,o,_,i),_},Y.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var o=A.parse(this);if(o.type===void 0)break;this.boxes.push(o)}return this},Y._sweep=function(o,i,_){for(var E in this.type&&this.type==o&&i.push(this),this.boxes){if(i.length&&_)return;Y._sweep.call(this.boxes[E],o,i,_)}},Y.prototype.write=function(){var o,i=0;for(o=0;o<this.boxes.length;o++)i+=this.boxes[o].getLength(!1);var _=new Uint8Array(i);for(this._rawo=new DataView(_.buffer),this.bytes=_,this._cursor.offset=0,o=0;o<this.boxes.length;o++)this.boxes[o].write();return _.buffer},Y.prototype.append=function(o,i){S.Utils.appendBox(this,o,i)};var A=function(){this._cursor=new S.Cursor};A.parse=function(o){var i=new A;return i._offset=o._cursor.offset,i._root=o._root?o._root:o,i._raw=o._raw,i._parent=o,i._parseBox(),o._cursor.offset=i._raw.byteOffset+i._raw.byteLength,i},A.create=function(o){var i=new A;return i.type=o,i.boxes=[],i},A.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],A.prototype._boxProcessors={},A.prototype._procField=function(o,i,_){this._parsing?this[o]=this._readField(i,_):this._writeField(i,_,this[o])},A.prototype._procFieldArray=function(o,i,_,E){var f;if(this._parsing)for(this[o]=[],f=0;f<i;f++)this[o][f]=this._readField(_,E);else for(f=0;f<this[o].length;f++)this._writeField(_,E,this[o][f])},A.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},A.prototype._procEntries=function(o,i,_){var E;if(this._parsing)for(this[o]=[],E=0;E<i;E++)this[o].push({}),_.call(this,this[o][E]);else for(E=0;E<i;E++)_.call(this,this[o][E])},A.prototype._procSubEntries=function(o,i,_,E){var f;if(this._parsing)for(o[i]=[],f=0;f<_;f++)o[i].push({}),E.call(this,o[i][f]);else for(f=0;f<_;f++)E.call(this,o[i][f])},A.prototype._procEntryField=function(o,i,_,E){this._parsing?o[i]=this._readField(_,E):this._writeField(_,E,o[i])},A.prototype._procSubBoxes=function(o,i){var _;if(this._parsing)for(this[o]=[],_=0;_<i;_++)this[o].push(A.parse(this));else for(_=0;_<i;_++)this._rawo?this[o][_].write():this.size+=this[o][_].getLength()},A.prototype._readField=function(o,i){switch(o){case"uint":return this._readUint(i);case"int":return this._readInt(i);case"template":return this._readTemplate(i);case"string":return i===-1?this._readTerminatedString():this._readString(i);case"data":return this._readData(i);case"utf8":return this._readUTF8String();default:return-1}},A.prototype._readInt=function(o){var i=null,_=this._cursor.offset-this._raw.byteOffset;switch(o){case 8:i=this._raw.getInt8(_);break;case 16:i=this._raw.getInt16(_);break;case 32:i=this._raw.getInt32(_);break;case 64:var E=this._raw.getInt32(_),f=this._raw.getInt32(_+4);i=E*Math.pow(2,32)+f}return this._cursor.offset+=o>>3,i},A.prototype._readUint=function(o){var i,_,E=null,f=this._cursor.offset-this._raw.byteOffset;switch(o){case 8:E=this._raw.getUint8(f);break;case 16:E=this._raw.getUint16(f);break;case 24:E=((i=this._raw.getUint16(f))<<8)+(_=this._raw.getUint8(f+2));break;case 32:E=this._raw.getUint32(f);break;case 64:i=this._raw.getUint32(f),_=this._raw.getUint32(f+4),E=i*Math.pow(2,32)+_}return this._cursor.offset+=o>>3,E},A.prototype._readString=function(o){for(var i="",_=0;_<o;_++){var E=this._readUint(8);i+=String.fromCharCode(E)}return i},A.prototype._readTemplate=function(o){return this._readUint(o/2)+this._readUint(o/2)/Math.pow(2,o/2)},A.prototype._readTerminatedString=function(){for(var o="";this._cursor.offset-this._offset<this._raw.byteLength;){var i=this._readUint(8);if(i===0)break;o+=String.fromCharCode(i)}return o},A.prototype._readData=function(o){var i=o>0?o:this._raw.byteLength-(this._cursor.offset-this._offset);if(i>0){var _=new Uint8Array(this._raw.buffer,this._cursor.offset,i);return this._cursor.offset+=i,_}return null},A.prototype._readUTF8String=function(){var o=this._raw.byteLength-(this._cursor.offset-this._offset),i=null;return o>0&&(i=new DataView(this._raw.buffer,this._cursor.offset,o),this._cursor.offset+=o),i&&S.Utils.dataViewToString(i)},A.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1?this._parseContainerBox():this._data=this._readData())}},A.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},A.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(A.parse(this))},A.prototype.append=function(o,i){S.Utils.appendBox(this,o,i)},A.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var o=0;o<this.boxes.length;o++)this.size+=this.boxes[o].getLength();return this._data&&this._writeData(this._data),this.size},A.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var o=0;o<this.boxes.length;o++)this.boxes[o].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},A.prototype._writeInt=function(o,i){if(this._rawo){var _=this._cursor.offset-this._rawo.byteOffset;switch(o){case 8:this._rawo.setInt8(_,i);break;case 16:this._rawo.setInt16(_,i);break;case 32:this._rawo.setInt32(_,i);break;case 64:var E=Math.floor(i/Math.pow(2,32)),f=i-E*Math.pow(2,32);this._rawo.setUint32(_,E),this._rawo.setUint32(_+4,f)}this._cursor.offset+=o>>3}else this.size+=o>>3},A.prototype._writeUint=function(o,i){if(this._rawo){var _,E,f=this._cursor.offset-this._rawo.byteOffset;switch(o){case 8:this._rawo.setUint8(f,i);break;case 16:this._rawo.setUint16(f,i);break;case 24:_=(16776960&i)>>8,E=255&i,this._rawo.setUint16(f,_),this._rawo.setUint8(f+2,E);break;case 32:this._rawo.setUint32(f,i);break;case 64:E=i-(_=Math.floor(i/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(f,_),this._rawo.setUint32(f+4,E)}this._cursor.offset+=o>>3}else this.size+=o>>3},A.prototype._writeString=function(o,i){for(var _=0;_<o;_++)this._writeUint(8,i.charCodeAt(_))},A.prototype._writeTerminatedString=function(o){if(o.length!==0){for(var i=0;i<o.length;i++)this._writeUint(8,o.charCodeAt(i));this._writeUint(8,0)}},A.prototype._writeTemplate=function(o,i){var _=Math.floor(i),E=(i-_)*Math.pow(2,o/2);this._writeUint(o/2,_),this._writeUint(o/2,E)},A.prototype._writeData=function(o){if(o)if(this._rawo){if(o instanceof Array){for(var i=this._cursor.offset-this._rawo.byteOffset,_=0;_<o.length;_++)this._rawo.setInt8(i+_,o[_]);this._cursor.offset+=o.length}o instanceof Uint8Array&&(this._root.bytes.set(o,this._cursor.offset),this._cursor.offset+=o.length)}else this.size+=o.length},A.prototype._writeUTF8String=function(o){var i=S.Utils.utf8ToByteArray(o);if(this._rawo)for(var _=new DataView(this._rawo.buffer,this._cursor.offset,i.length),E=0;E<i.length;E++)_.setUint8(E,i[E]);else this.size+=i.length},A.prototype._writeField=function(o,i,_){switch(o){case"uint":this._writeUint(i,_);break;case"int":this._writeInt(i,_);break;case"template":this._writeTemplate(i,_);break;case"string":i==-1?this._writeTerminatedString(_):this._writeString(i,_);break;case"data":this._writeData(_);break;case"utf8":this._writeUTF8String(_)}},A.prototype._boxProcessors.avc1=A.prototype._boxProcessors.avc2=A.prototype._boxProcessors.avc3=A.prototype._boxProcessors.avc4=A.prototype._boxProcessors.hvc1=A.prototype._boxProcessors.hev1=A.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},A.prototype._boxProcessors.ctts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(o){this._procEntryField(o,"sample_count","uint",32),this._procEntryField(o,"sample_offset",this.version===1?"int":"uint",32)})},A.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},A.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(o){this._procEntryField(o,"segment_duration","uint",this.version===1?64:32),this._procEntryField(o,"media_time","int",this.version===1?64:32),this._procEntryField(o,"media_rate_integer","int",16),this._procEntryField(o,"media_rate_fraction","int",16)})},A.prototype._boxProcessors.emsg=function(){this._procFullBox(),this.version==1?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},A.prototype._boxProcessors.free=A.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},A.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},A.prototype._boxProcessors.ftyp=A.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var o=-1;this._parsing&&(o=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",o,"string",4)},A.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},A.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},A.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._parsing||typeof this.language!="string"||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},A.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",this.version==1?64:32)},A.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},A.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},A.prototype._boxProcessors.mp4a=A.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},A.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},A.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},A.prototype._boxProcessors.prft=function(){this._procFullBox(),this._procField("reference_track_ID","uint",32),this._procField("ntp_timestamp_sec","uint",32),this._procField("ntp_timestamp_frac","uint",32),this._procField("media_time","uint",this.version==1?64:32)},A.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},A.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},A.prototype._boxProcessors.sdtp=function(){this._procFullBox();var o=-1;this._parsing&&(o=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",o,"uint",8)},A.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",this.version==1?64:32),this._procField("first_offset","uint",this.version==1?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(o){this._parsing||(o.reference=(1&o.reference_type)<<31,o.reference|=2147483647&o.referenced_size,o.sap=(1&o.starts_with_SAP)<<31,o.sap|=(3&o.SAP_type)<<28,o.sap|=268435455&o.SAP_delta_time),this._procEntryField(o,"reference","uint",32),this._procEntryField(o,"subsegment_duration","uint",32),this._procEntryField(o,"sap","uint",32),this._parsing&&(o.reference_type=o.reference>>31&1,o.referenced_size=2147483647&o.reference,o.starts_with_SAP=o.sap>>31&1,o.SAP_type=o.sap>>28&7,o.SAP_delta_time=268435455&o.sap)})},A.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},A.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(o){this._procEntryField(o,"ranges_count","uint",32),this._procSubEntries(o,"ranges",o.ranges_count,function(i){this._procEntryField(i,"level","uint",8),this._procEntryField(i,"range_size","uint",24)})})},A.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},A.prototype._boxProcessors.sttg=function(){this._procField("settings","utf8")},A.prototype._boxProcessors.stts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(o){this._procEntryField(o,"sample_count","uint",32),this._procEntryField(o,"sample_delta","uint",32)})},A.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(o){this._procEntryField(o,"sample_delta","uint",32),this._procEntryField(o,"subsample_count","uint",16),this._procSubEntries(o,"subsamples",o.subsample_count,function(i){this._procEntryField(i,"subsample_size","uint",this.version===1?32:16),this._procEntryField(i,"subsample_priority","uint",8),this._procEntryField(i,"discardable","uint",8),this._procEntryField(i,"codec_specific_parameters","uint",32)})})},A.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},A.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",this.version==1?64:32)},A.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},A.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(o){this._procEntryField(o,"time","uint",this.version===1?64:32),this._procEntryField(o,"moof_offset","uint",this.version===1?64:32),this._procEntryField(o,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(o,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(o,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},A.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},A.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},A.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(o){256&this.flags&&this._procEntryField(o,"sample_duration","uint",32),512&this.flags&&this._procEntryField(o,"sample_size","uint",32),1024&this.flags&&this._procEntryField(o,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(o,"sample_composition_time_offset",this.version===1?"int":"uint",32)})},A.prototype._boxProcessors["url "]=A.prototype._boxProcessors["urn "]=function(){this._procFullBox(),this.type==="urn "&&this._procField("name","string",-1),this._procField("location","string",-1)},A.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},A.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},A.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},A.prototype._boxProcessors.vtte=function(){}},5530:function(Z,H,S){Z.exports=S(6146).polyfill()},6146:function(Z,H,S){Z.exports=function(){function Y(ze){return typeof ze=="function"}var A=Array.isArray?Array.isArray:function(ze){return Object.prototype.toString.call(ze)==="[object Array]"},o=0,i=void 0,_=void 0,E=function(ze,at){N[o]=ze,N[o+1]=at,(o+=2)===2&&(_?_(U):ne())},f=typeof window<"u"?window:void 0,R=f||{},y=R.MutationObserver||R.WebKitMutationObserver,r=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",l=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function p(){var ze=setTimeout;return function(){return ze(U,1)}}var N=new Array(1e3);function U(){for(var ze=0;ze<o;ze+=2)(0,N[ze])(N[ze+1]),N[ze]=void 0,N[ze+1]=void 0;o=0}var q,F,oe,x,ne=void 0;function de(ze,at){var Te=this,Ae=new this.constructor(he);Ae[ue]===void 0&&Fe(Ae);var He=Te._state;if(He){var m=arguments[He-1];E(function(){return nt(He,Ae,m,Te._result)})}else Le(Te,Ae,ze,at);return Ae}function $(ze){if(ze&&typeof ze=="object"&&ze.constructor===this)return ze;var at=new this(he);return we(at,ze),at}ne=r?function(){return process.nextTick(U)}:y?(F=0,oe=new y(U),x=document.createTextNode(""),oe.observe(x,{characterData:!0}),function(){x.data=F=++F%2}):l?((q=new MessageChannel).port1.onmessage=U,function(){return q.port2.postMessage(0)}):f===void 0?function(){try{var ze=Function("return this")().require("vertx");return(i=ze.runOnLoop||ze.runOnContext)!==void 0?function(){i(U)}:p()}catch{return p()}}():p();var ue=Math.random().toString(36).substring(2);function he(){}var Ne=void 0;function ae(ze,at,Te){at.constructor===ze.constructor&&Te===de&&at.constructor.resolve===$?function(Ae,He){He._state===1?je(Ae,He._result):He._state===2?Ie(Ae,He._result):Le(He,void 0,function(m){return we(Ae,m)},function(m){return Ie(Ae,m)})}(ze,at):Te===void 0?je(ze,at):Y(Te)?function(Ae,He,m){E(function(d){var b=!1,C=function(re,te,De,tt){try{re.call(te,De,tt)}catch(Ge){return Ge}}(m,He,function(re){b||(b=!0,He!==re?we(d,re):je(d,re))},function(re){b||(b=!0,Ie(d,re))},d._label);!b&&C&&(b=!0,Ie(d,C))},Ae)}(ze,at,Te):je(ze,at)}function we(ze,at){if(ze===at)Ie(ze,new TypeError("You cannot resolve a promise with itself"));else if(He=typeof(Ae=at),Ae===null||He!=="object"&&He!=="function")je(ze,at);else{var Te=void 0;try{Te=at.then}catch(m){return void Ie(ze,m)}ae(ze,at,Te)}var Ae,He}function Me(ze){ze._onerror&&ze._onerror(ze._result),Qe(ze)}function je(ze,at){ze._state===Ne&&(ze._result=at,ze._state=1,ze._subscribers.length!==0&&E(Qe,ze))}function Ie(ze,at){ze._state===Ne&&(ze._state=2,ze._result=at,E(Me,ze))}function Le(ze,at,Te,Ae){var He=ze._subscribers,m=He.length;ze._onerror=null,He[m]=at,He[m+1]=Te,He[m+2]=Ae,m===0&&ze._state&&E(Qe,ze)}function Qe(ze){var at=ze._subscribers,Te=ze._state;if(at.length!==0){for(var Ae=void 0,He=void 0,m=ze._result,d=0;d<at.length;d+=3)Ae=at[d],He=at[d+Te],Ae?nt(Te,Ae,He,m):He(m);ze._subscribers.length=0}}function nt(ze,at,Te,Ae){var He=Y(Te),m=void 0,d=void 0,b=!0;if(He){try{m=Te(Ae)}catch(C){b=!1,d=C}if(at===m)return void Ie(at,new TypeError("A promises callback cannot return that same promise."))}else m=Ae;at._state!==Ne||(He&&b?we(at,m):b===!1?Ie(at,d):ze===1?je(at,m):ze===2&&Ie(at,m))}var Re=0;function Fe(ze){ze[ue]=Re++,ze._state=void 0,ze._result=void 0,ze._subscribers=[]}var Tt=function(){function ze(at,Te){this._instanceConstructor=at,this.promise=new at(he),this.promise[ue]||Fe(this.promise),A(Te)?(this.length=Te.length,this._remaining=Te.length,this._result=new Array(this.length),this.length===0?je(this.promise,this._result):(this.length=this.length||0,this._enumerate(Te),this._remaining===0&&je(this.promise,this._result))):Ie(this.promise,new Error("Array Methods must be provided an Array"))}return ze.prototype._enumerate=function(at){for(var Te=0;this._state===Ne&&Te<at.length;Te++)this._eachEntry(at[Te],Te)},ze.prototype._eachEntry=function(at,Te){var Ae=this._instanceConstructor,He=Ae.resolve;if(He===$){var m=void 0,d=void 0,b=!1;try{m=at.then}catch(re){b=!0,d=re}if(m===de&&at._state!==Ne)this._settledAt(at._state,Te,at._result);else if(typeof m!="function")this._remaining--,this._result[Te]=at;else if(Ae===vt){var C=new Ae(he);b?Ie(C,d):ae(C,at,m),this._willSettleAt(C,Te)}else this._willSettleAt(new Ae(function(re){return re(at)}),Te)}else this._willSettleAt(He(at),Te)},ze.prototype._settledAt=function(at,Te,Ae){var He=this.promise;He._state===Ne&&(this._remaining--,at===2?Ie(He,Ae):this._result[Te]=Ae),this._remaining===0&&je(He,this._result)},ze.prototype._willSettleAt=function(at,Te){var Ae=this;Le(at,void 0,function(He){return Ae._settledAt(1,Te,He)},function(He){return Ae._settledAt(2,Te,He)})},ze}(),vt=function(){function ze(at){this[ue]=Re++,this._result=this._state=void 0,this._subscribers=[],he!==at&&(typeof at!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof ze?function(Te,Ae){try{Ae(function(He){we(Te,He)},function(He){Ie(Te,He)})}catch(He){Ie(Te,He)}}(this,at):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return ze.prototype.catch=function(at){return this.then(null,at)},ze.prototype.finally=function(at){var Te=this,Ae=Te.constructor;return Y(at)?Te.then(function(He){return Ae.resolve(at()).then(function(){return He})},function(He){return Ae.resolve(at()).then(function(){throw He})}):Te.then(at,at)},ze}();return vt.prototype.then=de,vt.all=function(ze){return new Tt(this,ze).promise},vt.race=function(ze){var at=this;return A(ze)?new at(function(Te,Ae){for(var He=ze.length,m=0;m<He;m++)at.resolve(ze[m]).then(Te,Ae)}):new at(function(Te,Ae){return Ae(new TypeError("You must pass an array to race."))})},vt.resolve=$,vt.reject=function(ze){var at=new this(he);return Ie(at,ze),at},vt._setScheduler=function(ze){_=ze},vt._setAsap=function(ze){E=ze},vt._asap=E,vt.polyfill=function(){var ze=void 0;if(S.g!==void 0)ze=S.g;else if(typeof self<"u")ze=self;else try{ze=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var at=ze.Promise;if(at){var Te=null;try{Te=Object.prototype.toString.call(at.resolve())}catch{}if(Te==="[object Promise]"&&!at.cast)return}ze.Promise=vt},vt.Promise=vt,vt}()},1159:function(Z){var H,S=typeof Reflect=="object"?Reflect:null,Y=S&&typeof S.apply=="function"?S.apply:function(U,q,F){return Function.prototype.apply.call(U,q,F)};H=S&&typeof S.ownKeys=="function"?S.ownKeys:Object.getOwnPropertySymbols?function(U){return Object.getOwnPropertyNames(U).concat(Object.getOwnPropertySymbols(U))}:function(U){return Object.getOwnPropertyNames(U)};var A=Number.isNaN||function(U){return U!=U};function o(){o.init.call(this)}Z.exports=o,Z.exports.once=function(U,q){return new Promise(function(F,oe){function x(de){U.removeListener(q,ne),oe(de)}function ne(){typeof U.removeListener=="function"&&U.removeListener("error",x),F([].slice.call(arguments))}N(U,q,ne,{once:!0}),q!=="error"&&function(de,$,ue){typeof de.on=="function"&&N(de,"error",$,{once:!0})}(U,x)})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var i=10;function _(U){if(typeof U!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof U)}function E(U){return U._maxListeners===void 0?o.defaultMaxListeners:U._maxListeners}function f(U,q,F,oe){var x,ne,de,$;if(_(F),(ne=U._events)===void 0?(ne=U._events=Object.create(null),U._eventsCount=0):(ne.newListener!==void 0&&(U.emit("newListener",q,F.listener?F.listener:F),ne=U._events),de=ne[q]),de===void 0)de=ne[q]=F,++U._eventsCount;else if(typeof de=="function"?de=ne[q]=oe?[F,de]:[de,F]:oe?de.unshift(F):de.push(F),(x=E(U))>0&&de.length>x&&!de.warned){de.warned=!0;var ue=new Error("Possible EventEmitter memory leak detected. "+de.length+" "+String(q)+" listeners added. Use emitter.setMaxListeners() to increase limit");ue.name="MaxListenersExceededWarning",ue.emitter=U,ue.type=q,ue.count=de.length,$=ue,console&&console.warn&&console.warn($)}return U}function R(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(U,q,F){var oe={fired:!1,wrapFn:void 0,target:U,type:q,listener:F},x=R.bind(oe);return x.listener=F,oe.wrapFn=x,x}function r(U,q,F){var oe=U._events;if(oe===void 0)return[];var x=oe[q];return x===void 0?[]:typeof x=="function"?F?[x.listener||x]:[x]:F?function(ne){for(var de=new Array(ne.length),$=0;$<de.length;++$)de[$]=ne[$].listener||ne[$];return de}(x):p(x,x.length)}function l(U){var q=this._events;if(q!==void 0){var F=q[U];if(typeof F=="function")return 1;if(F!==void 0)return F.length}return 0}function p(U,q){for(var F=new Array(q),oe=0;oe<q;++oe)F[oe]=U[oe];return F}function N(U,q,F,oe){if(typeof U.on=="function")oe.once?U.once(q,F):U.on(q,F);else{if(typeof U.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof U);U.addEventListener(q,function x(ne){oe.once&&U.removeEventListener(q,x),F(ne)})}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(U){if(typeof U!="number"||U<0||A(U))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+U+".");i=U}}),o.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(U){if(typeof U!="number"||U<0||A(U))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+U+".");return this._maxListeners=U,this},o.prototype.getMaxListeners=function(){return E(this)},o.prototype.emit=function(U){for(var q=[],F=1;F<arguments.length;F++)q.push(arguments[F]);var oe=U==="error",x=this._events;if(x!==void 0)oe=oe&&x.error===void 0;else if(!oe)return!1;if(oe){var ne;if(q.length>0&&(ne=q[0]),ne instanceof Error)throw ne;var de=new Error("Unhandled error."+(ne?" ("+ne.message+")":""));throw de.context=ne,de}var $=x[U];if($===void 0)return!1;if(typeof $=="function")Y($,this,q);else{var ue=$.length,he=p($,ue);for(F=0;F<ue;++F)Y(he[F],this,q)}return!0},o.prototype.addListener=function(U,q){return f(this,U,q,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(U,q){return f(this,U,q,!0)},o.prototype.once=function(U,q){return _(q),this.on(U,y(this,U,q)),this},o.prototype.prependOnceListener=function(U,q){return _(q),this.prependListener(U,y(this,U,q)),this},o.prototype.removeListener=function(U,q){var F,oe,x,ne,de;if(_(q),(oe=this._events)===void 0)return this;if((F=oe[U])===void 0)return this;if(F===q||F.listener===q)--this._eventsCount==0?this._events=Object.create(null):(delete oe[U],oe.removeListener&&this.emit("removeListener",U,F.listener||q));else if(typeof F!="function"){for(x=-1,ne=F.length-1;ne>=0;ne--)if(F[ne]===q||F[ne].listener===q){de=F[ne].listener,x=ne;break}if(x<0)return this;x===0?F.shift():function($,ue){for(;ue+1<$.length;ue++)$[ue]=$[ue+1];$.pop()}(F,x),F.length===1&&(oe[U]=F[0]),oe.removeListener!==void 0&&this.emit("removeListener",U,de||q)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(U){var q,F,oe;if((F=this._events)===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[U]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete F[U]),this;if(arguments.length===0){var x,ne=Object.keys(F);for(oe=0;oe<ne.length;++oe)(x=ne[oe])!=="removeListener"&&this.removeAllListeners(x);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(q=F[U])=="function")this.removeListener(U,q);else if(q!==void 0)for(oe=q.length-1;oe>=0;oe--)this.removeListener(U,q[oe]);return this},o.prototype.listeners=function(U){return r(this,U,!0)},o.prototype.rawListeners=function(U){return r(this,U,!1)},o.listenerCount=function(U,q){return typeof U.listenerCount=="function"?U.listenerCount(q):l.call(U,q)},o.prototype.listenerCount=l,o.prototype.eventNames=function(){return this._eventsCount>0?H(this._events):[]}},3101:function(Z){var H=Array.isArray,S=Object.keys,Y=Object.prototype.hasOwnProperty;Z.exports=function A(o,i){if(o===i)return!0;if(o&&i&&typeof o=="object"&&typeof i=="object"){var _,E,f,R=H(o),y=H(i);if(R&&y){if((E=o.length)!=i.length)return!1;for(_=E;_--!=0;)if(!A(o[_],i[_]))return!1;return!0}if(R!=y)return!1;var r=o instanceof Date,l=i instanceof Date;if(r!=l)return!1;if(r&&l)return o.getTime()==i.getTime();var p=o instanceof RegExp,N=i instanceof RegExp;if(p!=N)return!1;if(p&&N)return o.toString()==i.toString();var U=S(o);if((E=U.length)!==S(i).length)return!1;for(_=E;_--!=0;)if(!Y.call(i,U[_]))return!1;for(_=E;_--!=0;)if(!A(o[f=U[_]],i[f]))return!1;return!0}return o!=o&&i!=i}},3362:function(Z,H,S){(function(Y,A,o,i,_){function E(d){if("contents"in d)for(var b=("styleAttrs"in d)?d.styleAttrs[i.byName.ruby.qname]:null,C=d.kind==="span"&&(b==="container"||b==="textContainer"||b==="baseContainer"),re=d.contents.length-1;re>=0;re--)!C||"styleAttrs"in d.contents[re]&&i.byName.ruby.qname in d.contents[re].styleAttrs?E(d.contents[re]):delete d.contents[re]}function f(d,b,C,re){var te=re&&re.timeContainer==="seq",De=0;re&&(De=te&&C?C.end:re.begin),b.begin=b.explicit_begin?b.explicit_begin+De:De;var tt=b.begin,Ge=null;if("sets"in b)for(var Be=0;Be<b.sets.length;Be++)f(d,b.sets[Be],Ge,b),tt=b.timeContainer==="seq"?b.sets[Be].end:Math.max(tt,b.sets[Be].end),Ge=b.sets[Be];if("contents"in b){if("contents"in b)for(var Pe=0;Pe<b.contents.length;Pe++)f(d,b.contents[Pe],Ge,b),tt=b.timeContainer==="seq"?b.contents[Pe].end:Math.max(tt,b.contents[Pe].end),Ge=b.contents[Pe]}else tt=te?b.begin:Number.POSITIVE_INFINITY;b.explicit_end!==null&&b.explicit_dur!==null?b.end=Math.min(b.begin+b.explicit_dur,De+b.explicit_end):b.explicit_end===null&&b.explicit_dur!==null?b.end=b.begin+b.explicit_dur:b.explicit_end!==null&&b.explicit_dur===null?b.end=De+b.explicit_end:b.end=tt,delete b.explicit_begin,delete b.explicit_dur,delete b.explicit_end,d._registerEvent(b)}function R(d){this.node=d}function y(){this.events=[],this.head=new r,this.body=null}function r(){this.styling=new l,this.layout=new U}function l(){this.styles={},this.initials={}}function p(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function N(){this.styleAttrs=null}function U(){this.regions={}}function q(d,b){F.call(this,"image"),this.src=d,this.type=b}function F(d){this.kind=d}function oe(d){this.id=d}function x(d){this.regionID=d}function ne(d){this.styleAttrs=d}function de(d){this.sets=d}function $(d){this.contents=d}function ue(d,b,C){this.explicit_begin=d,this.explicit_end=b,this.explicit_dur=C}function he(){F.call(this,"body")}function Ne(){F.call(this,"div")}function ae(){F.call(this,"p")}function we(){F.call(this,"span")}function Me(){F.call(this,"span")}function je(){F.call(this,"br")}function Ie(){}function Le(){}function Qe(d){return d&&"xml:id"in d.attributes&&d.attributes["xml:id"].value||null}function nt(d){return d&&"style"in d.attributes?d.attributes.style.value.split(" "):[]}function Re(d,b){var C={};if(d!==null)for(var re in d.attributes){var te=d.attributes[re].uri+" "+d.attributes[re].local,De=i.byQName[te];if(De!==void 0){var tt=De.parse(d.attributes[re].value);tt!==null?(C[te]=tt,De===i.byName.zIndex&&Te(b,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):Ae(b,"Cannot parse styling attribute "+te+" --> "+d.attributes[re].value)}}return C}function Fe(d,b,C){for(var re in d.attributes)if(d.attributes[re].uri===b&&d.attributes[re].local===C)return d.attributes[re].value;return null}function Tt(d,b,C){var re,te=null;return(re=/^(\d+(?:\.\d+)?)f$/.exec(C))!==null?b!==null&&(te=parseFloat(re[1])/b):(re=/^(\d+(?:\.\d+)?)t$/.exec(C))!==null?d!==null&&(te=parseFloat(re[1])/d):(re=/^(\d+(?:\.\d+)?)ms$/.exec(C))!==null?te=parseFloat(re[1])/1e3:(re=/^(\d+(?:\.\d+)?)s$/.exec(C))!==null?te=parseFloat(re[1]):(re=/^(\d+(?:\.\d+)?)h$/.exec(C))!==null?te=3600*parseFloat(re[1]):(re=/^(\d+(?:\.\d+)?)m$/.exec(C))!==null?te=60*parseFloat(re[1]):(re=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(C))!==null?te=3600*parseInt(re[1])+60*parseInt(re[2])+parseFloat(re[3]):(re=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(C))!==null&&b!==null&&(te=3600*parseInt(re[1])+60*parseInt(re[2])+parseInt(re[3])+(re[4]===null?0:parseInt(re[4])/b)),te}function vt(d,b,C){for(;b.styleRefs.length>0;){var re=b.styleRefs.pop();re in d.styles?(vt(d,d.styles[re],C),at(d.styles[re].styleAttrs,b.styleAttrs)):Ae(C,"Non-existant style id referenced")}}function ze(d,b,C,re){for(var te=b.length-1;te>=0;te--){var De=b[te];De in d.styles?at(d.styles[De].styleAttrs,C):Ae(re,"Non-existant style id referenced")}}function at(d,b){for(var C in d)d.hasOwnProperty(C)&&(C in b||(b[C]=d[C]))}function Te(d,b){if(d&&d.warn&&d.warn(b))throw b}function Ae(d,b){if(d&&d.error&&d.error(b))throw b}function He(d,b){throw d&&d.fatal&&d.fatal(b),b}function m(d,b){for(var C,re=0,te=d.length-1;re<=te;){var De=d[C=Math.floor((re+te)/2)];if(De<b)re=C+1;else{if(!(De>b))return{found:!0,index:C};te=C-1}}return{found:!1,index:re}}Y.fromXML=function(d,b,C){var re=A.parser(!0,{xmlns:!0}),te=[],De=[],tt=[],Ge=0,Be=null;re.onclosetag=function(ft){if(te[0]instanceof Ie)Be.head!==null&&Be.head.styling!==null&&ze(Be.head.styling,te[0].styleRefs,te[0].styleAttrs,b),delete te[0].styleRefs;else if(te[0]instanceof l)for(var zt in te[0].styles)te[0].styles.hasOwnProperty(zt)&&vt(te[0],te[0].styles[zt],b);else if(te[0]instanceof ae||te[0]instanceof we){if(te[0].contents.length>1){var Ot,Gt=[te[0].contents[0]];for(Ot=1;Ot<te[0].contents.length;Ot++)te[0].contents[Ot]instanceof Me&&Gt[Gt.length-1]instanceof Me?Gt[Gt.length-1].text+=te[0].contents[Ot].text:Gt.push(te[0].contents[Ot]);te[0].contents=Gt}te[0]instanceof we&&te[0].contents.length===1&&te[0].contents[0]instanceof Me&&(te[0].text=te[0].contents[0].text,delete te[0].contents)}else te[0]instanceof R&&(te[0].node.uri===o.ns_tt&&te[0].node.local==="metadata"?Ge--:Ge>0&&C&&"onCloseTag"in C&&C.onCloseTag());tt.shift(),De.shift(),te.shift()},re.ontext=function(ft){if(te[0]!==void 0)if(te[0]instanceof we||te[0]instanceof ae){if(te[0]instanceof we){var zt=te[0].styleAttrs[i.byName.ruby.qname];if(zt==="container"||zt==="textContainer"||zt==="baseContainer")return}var Ot=new Me;Ot.initFromText(Be,te[0],ft,De[0],tt[0],b),te[0].contents.push(Ot)}else te[0]instanceof R&&Ge>0&&C&&"onText"in C&&C.onText(ft)},re.onopentag=function(ft){var zt=ft.attributes["xml:space"];zt?tt.unshift(zt.value):tt.length===0?tt.unshift("default"):tt.unshift(tt[0]);var Ot=ft.attributes["xml:lang"];if(Ot?De.unshift(Ot.value):De.length===0?De.unshift(""):De.unshift(De[0]),ft.uri===o.ns_tt)if(ft.local==="tt")Be!==null&&He(b,"Two <tt> elements at ("+this.line+","+this.column+")"),(Be=new y).initFromNode(ft,De[0],b),te.unshift(Be);else if(ft.local==="head")te[0]instanceof y||He(b,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),te.unshift(Be.head);else if(ft.local==="styling")te[0]instanceof r||He(b,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),te.unshift(Be.head.styling);else if(ft.local==="style"){var Gt;te[0]instanceof l?((Gt=new p).initFromNode(ft,b),Gt.id?Be.head.styling.styles[Gt.id]=Gt:Ae(b,"<style> element missing @id attribute"),te.unshift(Gt)):te[0]instanceof Ie?((Gt=new p).initFromNode(ft,b),at(Gt.styleAttrs,te[0].styleAttrs),te.unshift(Gt)):He(b,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if(ft.local==="initial"){var Zt;if(te[0]instanceof l){for(var cn in(Zt=new N).initFromNode(ft,b),Zt.styleAttrs)Zt.styleAttrs.hasOwnProperty(cn)&&(Be.head.styling.initials[cn]=Zt.styleAttrs[cn]);te.unshift(Zt)}else He(b,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if(ft.local==="layout")te[0]instanceof r||He(b,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),te.unshift(Be.head.layout);else if(ft.local==="region"){te[0]instanceof U||He(b,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var Tn=new Ie;Tn.initFromNode(Be,ft,De[0],b),!Tn.id||Tn.id in Be.head.layout.regions?Ae(b,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):Be.head.layout.regions[Tn.id]=Tn,te.unshift(Tn)}else if(ft.local==="body"){te[0]instanceof y||He(b,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),Be.body!==null&&He(b,"Second <body> element at "+this.line+","+this.column+")");var kn=new he;kn.initFromNode(Be,ft,De[0],b),Be.body=kn,te.unshift(kn)}else if(ft.local==="div"){te[0]instanceof Ne||te[0]instanceof he||He(b,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var Mn=new Ne;Mn.initFromNode(Be,te[0],ft,De[0],b);var Un=Mn.styleAttrs[i.byName.backgroundImage.qname];Un&&(Mn.contents.push(new q(Un)),delete Mn.styleAttrs[i.byName.backgroundImage.qname]),te[0].contents.push(Mn),te.unshift(Mn)}else if(ft.local==="image"){te[0]instanceof Ne||He(b,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var cr=new q;cr.initFromNode(Be,te[0],ft,De[0],b),te[0].contents.push(cr),te.unshift(cr)}else if(ft.local==="p"){te[0]instanceof Ne||He(b,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var Nn=new ae;Nn.initFromNode(Be,te[0],ft,De[0],b),te[0].contents.push(Nn),te.unshift(Nn)}else if(ft.local==="span"){te[0]instanceof we||te[0]instanceof ae||He(b,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var Dr=new we;Dr.initFromNode(Be,te[0],ft,De[0],tt[0],b),te[0].contents.push(Dr),te.unshift(Dr)}else if(ft.local==="br"){te[0]instanceof we||te[0]instanceof ae||He(b,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var tr=new je;tr.initFromNode(Be,te[0],ft,De[0],b),te[0].contents.push(tr),te.unshift(tr)}else if(ft.local==="set"){te[0]instanceof we||te[0]instanceof ae||te[0]instanceof Ne||te[0]instanceof he||te[0]instanceof Ie||te[0]instanceof je||He(b,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var vr=new Le;vr.initFromNode(Be,te[0],ft,b),te[0].sets.push(vr),te.unshift(vr)}else te.unshift(new R(ft));else te.unshift(new R(ft));if(te[0]instanceof R){if(ft.uri===o.ns_tt&&ft.local==="metadata")Ge++;else if(Ge>0&&C&&"onOpenTag"in C){var jr=[];for(var Er in ft.attributes)jr[ft.attributes[Er].uri+" "+ft.attributes[Er].local]={uri:ft.attributes[Er].uri,local:ft.attributes[Er].local,value:ft.attributes[Er].value};C.onOpenTag(ft.uri,ft.local,jr)}}},re.write(d).close(),delete Be.head.styling.styles;var Pe=!1;for(var Ye in Be.head.layout.regions)if(Be.head.layout.regions.hasOwnProperty(Ye)){Pe=!0;break}if(!Pe){var ot=Ie.prototype.createDefaultRegion(Be.lang);Be.head.layout.regions[ot.id]=ot}for(var St in Be.head.layout.regions)Be.head.layout.regions.hasOwnProperty(St)&&f(Be,Be.head.layout.regions[St],null,null);return Be.body&&f(Be,Be.body,null,null),Be.body&&E(Be.body),Be},y.prototype.initFromNode=function(d,b,C){var re=function(Ge,Be){var Pe=Fe(Ge,o.ns_ttp,"cellResolution"),Ye=15,ot=32;if(Pe!==null){var St=/(\d+) (\d+)/.exec(Pe);St!==null?(ot=parseInt(St[1]),Ye=parseInt(St[2])):Te(Be,"Malformed cellResolution value (using initial value instead)")}return{w:ot,h:Ye}}(d,C);this.cellLength={h:new _.ComputedLength(0,1/re.h),w:new _.ComputedLength(1/re.w,0)};var te=function(Ge,Be){var Pe,Ye=Fe(Ge,o.ns_ttp,"frameRate"),ot=30;Ye!==null&&((Pe=/(\d+)/.exec(Ye))!==null?ot=parseInt(Pe[1]):Te(Be,"Malformed frame rate attribute (using initial value instead)"));var St=Fe(Ge,o.ns_ttp,"frameRateMultiplier"),ft=1;St!==null&&((Pe=/(\d+) (\d+)/.exec(St))!==null?ft=parseInt(Pe[1])/parseInt(Pe[2]):Te(Be,"Malformed frame rate multiplier attribute (using initial value instead)"));var zt=ft*ot,Ot=1,Gt=Fe(Ge,o.ns_ttp,"tickRate");return Gt===null?Ye!==null&&(Ot=zt):(Pe=/(\d+)/.exec(Gt))!==null?Ot=parseInt(Pe[1]):Te(Be,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:zt,tickRate:Ot}}(d,C);this.effectiveFrameRate=te.effectiveFrameRate,this.tickRate=te.tickRate,this.aspectRatio=function(Ge,Be){var Pe=Fe(Ge,o.ns_ittp,"aspectRatio");Pe===null&&(Pe=Fe(Ge,o.ns_ttp,"displayAspectRatio"));var Ye=null;if(Pe!==null){var ot=/(\d+)\s+(\d+)/.exec(Pe);if(ot!==null){var St=parseInt(ot[1]),ft=parseInt(ot[2]);St!==0&&ft!==0?Ye=St/ft:Ae(Be,"Illegal aspectRatio values (ignoring)")}else Ae(Be,"Malformed aspectRatio attribute (ignoring)")}return Ye}(d,C);var De=Fe(d,o.ns_ttp,"timeBase");De!==null&&De!=="media"&&He(C,"Unsupported time base");var tt=function(Ge,Be){var Pe=Fe(Ge,o.ns_tts,"extent");if(Pe===null)return null;var Ye=Pe.split(" ");if(Ye.length!==2)return Te(Be,"Malformed extent (ignoring)"),null;var ot=_.parseLength(Ye[0]),St=_.parseLength(Ye[1]);return St&&ot?{h:St,w:ot}:(Te(Be,"Malformed extent values (ignoring)"),null)}(d,C);tt===null?this.pxLength={h:null,w:null}:(tt.h.unit==="px"&&tt.w.unit==="px"||He(C,"Extent on TT must be in px or absent"),this.pxLength={h:new _.ComputedLength(0,1/tt.h.value),w:new _.ComputedLength(1/tt.w.value,0)}),this.dimensions={h:new _.ComputedLength(0,1),w:new _.ComputedLength(1,0)},this.lang=b},y.prototype._registerEvent=function(d){if(!(d.end<=d.begin)){var b=m(this.events,d.begin);if(b.found||this.events.splice(b.index,0,d.begin),d.end!==Number.POSITIVE_INFINITY){var C=m(this.events,d.end);C.found||this.events.splice(C.index,0,d.end)}}},y.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},y.prototype.getMediaTimeEvents=function(){return this.events},p.prototype.initFromNode=function(d,b){this.id=Qe(d),this.styleAttrs=Re(d,b),this.styleRefs=nt(d)},N.prototype.initFromNode=function(d,b){for(var C in this.styleAttrs={},d.attributes)if(d.attributes[C].uri===o.ns_itts||d.attributes[C].uri===o.ns_ebutts||d.attributes[C].uri===o.ns_tts){var re=d.attributes[C].uri+" "+d.attributes[C].local;this.styleAttrs[re]=d.attributes[C].value}},q.prototype.initFromNode=function(d,b,C,re,te){this.src="src"in C.attributes?C.attributes.src.value:null,this.src||Ae(te,"Invalid image@src attribute"),this.type="type"in C.attributes?C.attributes.type.value:null,this.type||Ae(te,"Invalid image@type attribute"),ne.prototype.initFromNode.call(this,d,b,C,te),ue.prototype.initFromNode.call(this,d,b,C,te),de.prototype.initFromNode.call(this,d,b,C,te),x.prototype.initFromNode.call(this,d,b,C,te),this.lang=re},oe.prototype.initFromNode=function(d,b,C,re){this.id=Qe(C)},x.prototype.initFromNode=function(d,b,C,re){this.regionID=function(te){return te&&"region"in te.attributes?te.attributes.region.value:""}(C)},ne.prototype.initFromNode=function(d,b,C,re){this.styleAttrs=Re(C,re),d.head!==null&&d.head.styling!==null&&ze(d.head.styling,nt(C),this.styleAttrs,re)},de.prototype.initFromNode=function(d,b,C,re){this.sets=[]},$.prototype.initFromNode=function(d,b,C,re){this.contents=[]},ue.prototype.initFromNode=function(d,b,C,re){var te=function(De,tt,Ge,Be){var Pe=null;Ge&&"begin"in Ge.attributes&&(Pe=Tt(De.tickRate,De.effectiveFrameRate,Ge.attributes.begin.value))===null&&Te(Be,"Malformed begin value "+Ge.attributes.begin.value+" (using 0)");var Ye=null;Ge&&"dur"in Ge.attributes&&(Ye=Tt(De.tickRate,De.effectiveFrameRate,Ge.attributes.dur.value))===null&&Te(Be,"Malformed dur value "+Ge.attributes.dur.value+" (ignoring)");var ot=null;return Ge&&"end"in Ge.attributes&&(ot=Tt(De.tickRate,De.effectiveFrameRate,Ge.attributes.end.value))===null&&Te(Be,"Malformed end value (ignoring)"),{explicit_begin:Pe,explicit_end:ot,explicit_dur:Ye}}(d,0,C,re);this.explicit_begin=te.explicit_begin,this.explicit_end=te.explicit_end,this.explicit_dur=te.explicit_dur,this.timeContainer=function(De,tt){var Ge=De&&"timeContainer"in De.attributes?De.attributes.timeContainer.value:null;return Ge&&Ge!=="par"?Ge==="seq"?"seq":(Ae(tt,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(C,re)},he.prototype.initFromNode=function(d,b,C,re){ne.prototype.initFromNode.call(this,d,null,b,re),ue.prototype.initFromNode.call(this,d,null,b,re),de.prototype.initFromNode.call(this,d,null,b,re),x.prototype.initFromNode.call(this,d,null,b,re),$.prototype.initFromNode.call(this,d,null,b,re),this.lang=C},Ne.prototype.initFromNode=function(d,b,C,re,te){ne.prototype.initFromNode.call(this,d,b,C,te),ue.prototype.initFromNode.call(this,d,b,C,te),de.prototype.initFromNode.call(this,d,b,C,te),x.prototype.initFromNode.call(this,d,b,C,te),$.prototype.initFromNode.call(this,d,b,C,te),this.lang=re},ae.prototype.initFromNode=function(d,b,C,re,te){ne.prototype.initFromNode.call(this,d,b,C,te),ue.prototype.initFromNode.call(this,d,b,C,te),de.prototype.initFromNode.call(this,d,b,C,te),x.prototype.initFromNode.call(this,d,b,C,te),$.prototype.initFromNode.call(this,d,b,C,te),this.lang=re},we.prototype.initFromNode=function(d,b,C,re,te,De){ne.prototype.initFromNode.call(this,d,b,C,De),ue.prototype.initFromNode.call(this,d,b,C,De),de.prototype.initFromNode.call(this,d,b,C,De),x.prototype.initFromNode.call(this,d,b,C,De),$.prototype.initFromNode.call(this,d,b,C,De),this.space=te,this.lang=re},Me.prototype.initFromText=function(d,b,C,re,te,De){ue.prototype.initFromNode.call(this,d,b,null,De),this.text=C,this.space=te,this.lang=re},je.prototype.initFromNode=function(d,b,C,re,te){x.prototype.initFromNode.call(this,d,b,C,te),ue.prototype.initFromNode.call(this,d,b,C,te),this.lang=re},Ie.prototype.createDefaultRegion=function(d){var b=new Ie;return oe.call(b,""),ne.call(b,{}),de.call(b,[]),ue.call(b,0,Number.POSITIVE_INFINITY,null),this.lang=d,b},Ie.prototype.initFromNode=function(d,b,C,re){oe.prototype.initFromNode.call(this,d,null,b,re),ue.prototype.initFromNode.call(this,d,null,b,re),de.prototype.initFromNode.call(this,d,null,b,re),this.styleAttrs=Re(b,re),this.styleRefs=nt(b),this.lang=C},Le.prototype.initFromNode=function(d,b,C,re){ue.prototype.initFromNode.call(this,d,b,C,re);var te=Re(C,re);for(var De in this.qname=null,this.value=null,te)if(te.hasOwnProperty(De)){if(this.qname){Ae(re,"More than one style specified on set");break}this.qname=De,this.value=te[De]}}})(H,typeof sax>"u"?S(5378):sax,typeof imscNames>"u"?S(210):imscNames,typeof imscStyles>"u"?S(6811):imscStyles,typeof imscUtils>"u"?S(5926):imscUtils)},506:function(Z,H,S){var Y=/firefox/i.test(navigator.userAgent);(function(A,o,i){function _($,ue,he,Ne){var ae;if(he.kind==="region")(ae=document.createElement("div")).style.position="absolute";else if(he.kind==="body")ae=document.createElement("div");else if(he.kind==="div")ae=document.createElement("div");else if(he.kind==="image"){if(ae=document.createElement("img"),$.imgResolver!==null&&he.src!==null){var we=$.imgResolver(he.src,ae);we&&(ae.src=we),ae.height=$.regionH,ae.width=$.regionW}}else if(he.kind==="p")ae=document.createElement("p");else if(he.kind==="span")if(he.styleAttrs[i.byName.ruby.qname]==="container")ae=document.createElement("ruby"),$.ruby=!0;else if(he.styleAttrs[i.byName.ruby.qname]==="base")ae=document.createElement("span");else if(he.styleAttrs[i.byName.ruby.qname]==="text")ae=document.createElement("rt");else if(he.styleAttrs[i.byName.ruby.qname]==="baseContainer")ae=document.createElement("rbc");else if(he.styleAttrs[i.byName.ruby.qname]==="textContainer")ae=document.createElement("rtc");else{if(he.styleAttrs[i.byName.ruby.qname]==="delimiter")return;ae=document.createElement("span")}else he.kind==="br"&&(ae=document.createElement("br"));if(ae){if(he.lang&&(he.kind!=="region"&&he.lang===Ne.lang||(ae.lang=he.lang)),ue.appendChild(ae),ae.style.margin="0",he.kind==="region"){var Me=he.styleAttrs[i.byName.writingMode.qname];Me==="lrtb"||Me==="lr"?($.ipd="lr",$.bpd="tb"):Me==="rltb"||Me==="rl"?($.ipd="rl",$.bpd="tb"):Me==="tblr"?($.ipd="tb",$.bpd="lr"):Me!=="tbrl"&&Me!=="tb"||($.ipd="tb",$.bpd="rl")}else if(he.kind==="p"&&$.bpd==="tb"){var je=he.styleAttrs[i.byName.direction.qname];$.ipd=je==="ltr"?"lr":"rl"}for(var Ie=0;Ie<N.length;Ie++){var Le=N[Ie],Qe=he.styleAttrs[Le.qname];Qe!==void 0&&Le.map!==null&&Le.map($,ae,he,Qe)}var nt=ae,Re=he.styleAttrs[i.byName.linePadding.qname];if(Re&&!Re.isZero()){var Fe=Re.toUsedLength($.w,$.h);if(Fe>0){var Tt=Math.ceil(Fe)+"px";$.bpd==="tb"?(nt.style.paddingLeft=Tt,nt.style.paddingRight=Tt):(nt.style.paddingTop=Tt,nt.style.paddingBottom=Tt),$.lp=Re}}var vt=he.styleAttrs[i.byName.multiRowAlign.qname];if(vt&&vt!=="auto"){var ze=document.createElement("span");ze.style.display="inline-block",ze.style.textAlign=vt,ae.appendChild(ze),nt=ze,$.mra=vt}var at=he.styleAttrs[i.byName.rubyReserve.qname];if(at&&at[0]!=="none"&&($.rubyReserve=at),he.styleAttrs[i.byName.fillLineGap.qname]&&($.flg=!0),he.kind==="span"&&he.text){var Te=he.styleAttrs[i.byName.textEmphasis.qname];if(Te&&Te.style!=="none"&&($.textEmphasis=!0),i.byName.textCombine.qname in he.styleAttrs&&he.styleAttrs[i.byName.textCombine.qname]==="all")ae.textContent=he.text,ae._isd_element=he,Te&&l($,ae,0,Te);else for(var Ae="",He=0;He<he.text.length;He++){Ae+=he.text.charAt(He);var m=he.text.charCodeAt(He);if(m<55296||m>56319||He===he.text.length-1){var d=document.createElement("span");d.textContent=Ae,Te&&l($,d,0,Te),ae.appendChild(d),Ae="",d._isd_element=he}}}if("contents"in he)for(var b=0;b<he.contents.length;b++)_($,nt,he.contents[b],he);var C=[];if(he.kind==="p"&&(r($,nt,C,null),$.rubyReserve&&(function(Ge,Be){for(var Pe=0;Pe<Ge.length;Pe++){var Ye,ot,St=document.createElement("ruby"),ft=document.createElement("span");ft.textContent="",St.appendChild(ft);var zt,Ot=Be.rubyReserve[1].toUsedLength(Be.w,Be.h)+"px";Be.rubyReserve[0]==="both"||Be.rubyReserve[0]==="outside"&&Ge.length==1?((Ye=document.createElement("rtc")).style[oe]=F?"after":"under",Ye.textContent="",Ye.style.fontSize=Ot,(ot=document.createElement("rtc")).style[oe]=F?"before":"over",ot.textContent="",ot.style.fontSize=Ot,St.appendChild(Ye),St.appendChild(ot)):((Ye=document.createElement("rtc")).textContent="",Ye.style.fontSize=Ot,zt=Be.rubyReserve[0]==="after"||Be.rubyReserve[0]==="outside"&&Pe>0?F?"after":Be.bpd==="tb"||Be.bpd==="rl"?"under":"over":F?"before":Be.bpd==="tb"||Be.bpd==="rl"?"over":"under",Ye.style[oe]=zt,St.appendChild(Ye));for(var Gt=null,Zt=0;Zt<Ge[Pe].rbc.length;Zt++)if(Ge[Pe].rbc[Zt].localName==="ruby"){Gt=Ge[Pe].rbc[Zt];for(var cn=0;cn<Gt.style.length;cn++)St.style.setProperty(Gt.style.item(cn),Gt.style.getPropertyValue(Gt.style.item(cn)));break}(Gt=Gt||Ge[Pe].elements[0].node).parentElement.insertBefore(St,Gt)}}(C,$),$.rubyReserve=null),($.ruby||$.rubyReserve)&&(function(Ge,Be){for(var Pe=0;Pe<Ge.length;Pe++)for(var Ye=0;Ye<Ge[Pe].rbc.length;Ye++){var ot;Ge[Pe].rbc[Ye].style[oe]||(ot=F?Pe===0?"before":"after":Be.bpd==="tb"||Be.bpd==="rl"?Pe===0?"over":"under":Pe===0?"under":"over",Ge[Pe].rbc[Ye].style[oe]=ot)}}(C,$),$.ruby=null),$.textEmphasis&&(function(Ge,Be){for(var Pe=0;Pe<Ge.length;Pe++)for(var Ye=0;Ye<Ge[Pe].te.length;Ye++){var ot;Ge[Pe].te[Ye].style[ne]&&Ge[Pe].te[Ye].style[ne]!=="none"||(ot=Be.bpd==="tb"?Pe===0?"left over":"left under":Be.bpd==="rl"?Pe===0?"right under":"left under":Pe===0?"left under":"right under",Ge[Pe].te[Ye].style[ne]=ot)}}(C,$),$.textEmphasis=null),$.mra&&(function(Ge){for(var Be=0;Be<Ge.length-1;Be++){var Pe=Ge[Be].elements.length;if(Pe!==0&&Ge[Be].br===!1){var Ye=document.createElement("br"),ot=Ge[Be].elements[Pe-1].node;ot.parentElement.insertBefore(Ye,ot.nextSibling)}}}(C),$.mra=null),$.lp&&(function(Ge,Be,Pe){if(Ge!==null)for(var Ye=0;Ye<Ge.length;Ye++){var ot=Ge[Ye].elements.length,St=Math.ceil(Be)+"px",ft="-"+Math.ceil(Be)+"px";if(ot!==0){var zt=Ge[Ye].elements[Ge[Ye].start_elem],Ot=Ge[Ye].elements[Ge[Ye].end_elem];if(zt===Ot){var Gt=zt.node.getBoundingClientRect();if(Gt.width==0||Gt.height==0)continue}Pe.ipd==="lr"?(zt.node.style.marginLeft=ft,zt.node.style.paddingLeft=St):Pe.ipd==="rl"?(zt.node.style.paddingRight=St,zt.node.style.marginRight=ft):Pe.ipd==="tb"&&(zt.node.style.paddingTop=St,zt.node.style.marginTop=ft),Pe.ipd==="lr"?(Y||(Ot.node.style.marginRight=ft),Ot.node.style.paddingRight=St):Pe.ipd==="rl"?(Ot.node.style.paddingLeft=St,Y||(Ot.node.style.marginLeft=ft)):Pe.ipd==="tb"&&(Ot.node.style.paddingBottom=St,Ot.node.style.marginBottom=ft)}}}(C,$.lp.toUsedLength($.w,$.h),$),$.lp=null),function(Ge,Be){for(var Pe=0;Pe<Ge.length;Pe++)for(var Ye=Ge[Pe],ot=1;ot<Ye.elements.length;){var St=Ye.elements[ot-1],ft=Ye.elements[ot];f(St.node,ft.node,Be)?Ye.elements.splice(ot,1):ot++}for(var zt,Ot,Gt=[],Zt=0;Zt<Ge.length;Zt++)for(var cn=0;cn<Ge[Zt].elements.length;cn++)(Ot=E(zt=Ge[Zt].elements[cn].node,Gt,!1))&&(zt.style.backgroundColor=Ot);for(var Tn=0;Tn<Gt.length;Tn++)Gt[Tn].style.backgroundColor=""}(C,$),$.flg)){var re=y(nt.getBoundingClientRect(),$);(function(Ge,Be,Pe,Ye,ot){for(var St=Math.sign(Pe-Be),ft=0;ft<=Ge.length;ft++){var zt,Ot,Gt,Zt;if(zt=ft===0?Math.round(Be):ft===Ge.length?Math.round(Pe):Math.round((Ge[ft-1].after+Ge[ft].before)/2),ft>0&&Ge[ft-1])for(Gt=0;Gt<Ge[ft-1].elements.length;Gt++)Ot=St*(zt-(Zt=Ge[ft-1].elements[Gt]).after)+"px",Ye.bpd==="lr"?Zt.node.style.paddingRight=Ot:Ye.bpd==="rl"?Zt.node.style.paddingLeft=Ot:Ye.bpd==="tb"&&(Zt.node.style.paddingBottom=Ot);if(ft<Ge.length)for(Gt=0;Gt<Ge[ft].elements.length;Gt++)Ot=St*((Zt=Ge[ft].elements[Gt]).before-zt)+"px",Ye.bpd==="lr"?Zt.node.style.paddingLeft=Ot:Ye.bpd==="rl"?Zt.node.style.paddingRight=Ot:Ye.bpd==="tb"&&(Zt.node.style.paddingTop=Ot)}})(C,re.before,re.after,$),$.flg=null}if(he.kind==="region"&&$.bpd==="tb"&&$.enableRollUp&&he.contents.length>0&&he.styleAttrs[i.byName.displayAlign.qname]==="after"){r($,nt,C,null);var te=new R(he.id===""?"_":he.id,C);if($.currentISDState[te.id]=te,$.previousISDState&&te.id in $.previousISDState&&$.previousISDState[te.id].plist.length>0&&te.plist.length>1&&te.plist[te.plist.length-2].text===$.previousISDState[te.id].plist[$.previousISDState[te.id].plist.length-1].text){var De=ae.firstElementChild,tt=te.plist[te.plist.length-1].after-te.plist[te.plist.length-1].before;De.style.bottom="-"+tt+"px",De.style.transition="transform 0.4s",De.style.position="relative",De.style.transform="translateY(-"+tt+"px)"}}}else de($.errorHandler,"Error processing ISD element kind: "+he.kind)}function E($,ue,he){return $.style.backgroundColor?(he&&!ue.includes($)&&ue.push($),$.style.backgroundColor):$.parentElement.nodeName==="SPAN"||$.parentElement.nodeName==="RUBY"||$.parentElement.nodeName==="RBC"||$.parentElement.nodeName==="RTC"||$.parentElement.nodeName==="RT"?E($.parentElement,ue,!0):void 0}function f($,ue,he){if($.tagName==="SPAN"&&ue.tagName==="SPAN"&&$._isd_element===ue._isd_element){if(!$._isd_element)return de(he.errorHandler,"Internal error: HTML span is not linked to a source element; cannot merge spans."),!1;$.textContent+=ue.textContent;for(var Ne=0;Ne<ue.style.length;Ne++){var ae=ue.style[Ne];(ae.indexOf("border")>=0||ae.indexOf("padding")>=0||ae.indexOf("margin")>=0)&&($.style[ae]=ue.style[ae])}return ue.parentElement.removeChild(ue),!0}return!1}function R($,ue){this.id=$,this.plist=ue}function y($,ue){var he={before:null,after:null,start:null,end:null};return ue.bpd==="tb"?(he.before=$.top,he.after=$.bottom,ue.ipd==="lr"?(he.start=$.left,he.end=$.right):(he.start=$.right,he.end=$.left)):ue.bpd==="lr"?(he.before=$.left,he.after=$.right,he.start=$.top,he.end=$.bottom):ue.bpd==="rl"&&(he.before=$.right,he.after=$.left,he.start=$.top,he.end=$.bottom),he}function r($,ue,he,Ne){if(ue.localName!=="rt"&&ue.localName!=="rtc"){var ae,we,Me,je,Ie=ue.style.backgroundColor||Ne;if(ue.childElementCount===0)if(ue.localName==="span"||ue.localName==="rb"){var Le=y(ue.getBoundingClientRect(),$);if(he.length!==0&&(ae=Le.before,we=Le.after,Me=he[he.length-1].before,we<(je=he[he.length-1].after)&&ae>Me||je<=we&&Me>=ae)){var Qe=Math.sign(Le.after-Le.before),nt=Math.sign(Le.end-Le.start);Qe*(Le.before-he[he.length-1].before)<0&&(he[he.length-1].before=Le.before),Qe*(Le.after-he[he.length-1].after)>0&&(he[he.length-1].after=Le.after),nt*(Le.start-he[he.length-1].start)<0&&(he[he.length-1].start=Le.start,he[he.length-1].start_elem=he[he.length-1].elements.length),nt*(Le.end-he[he.length-1].end)>0&&(he[he.length-1].end=Le.end,he[he.length-1].end_elem=he[he.length-1].elements.length)}else he.push({before:Le.before,after:Le.after,start:Le.start,end:Le.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});he[he.length-1].text+=ue.textContent,he[he.length-1].elements.push({node:ue,bgcolor:Ie,before:Le.before,after:Le.after})}else ue.localName==="br"&&he.length!==0&&(he[he.length-1].br=!0);else for(var Re=ue.firstChild;Re;)Re.nodeType===Node.ELEMENT_NODE&&(r($,Re,he,Ie),Re.localName==="ruby"||Re.localName==="rtc"?he.length>0&&he[he.length-1].rbc.push(Re):Re.localName==="span"&&Re.style[x]&&Re.style[x]!=="none"&&he.length>0&&he[he.length-1].te.push(Re)),Re=Re.nextSibling}}function l($,ue,he,Ne){var ae;Ne.style!=="none"&&(Ne.style==="auto"?ue.style[x]="filled":ue.style[x]=Ne.style+" "+Ne.symbol,(Ne.position==="before"||Ne.position==="after")&&(ae=$.bpd==="tb"?Ne.position==="before"?"left over":"left under":$.bpd==="rl"?Ne.position==="before"?"right under":"left under":Ne.position==="before"?"left under":"right under",ue.style[ne]=ae))}function p($,ue){this.qname=$,this.map=ue}A.render=function($,ue,he,Ne,ae,we,Me,je,Ie){var Le=Ne||ue.clientHeight,Qe=ae||ue.clientWidth;if($.aspectRatio!==null){var nt=Le*$.aspectRatio;nt>Qe?Le=Math.round(Qe/$.aspectRatio):Qe=nt}var Re=document.createElement("div");Re.style.position="relative",Re.style.width=Qe+"px",Re.style.height=Le+"px",Re.style.margin="auto",Re.style.top=0,Re.style.bottom=0,Re.style.left=0,Re.style.right=0,Re.style.zIndex=0;var Fe={h:Le,w:Qe,regionH:null,regionW:null,imgResolver:he,displayForcedOnlyMode:we||!1,isd:$,errorHandler:Me,previousISDState:je,enableRollUp:Ie||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(ue.appendChild(Re),"contents"in $)for(var Tt=0;Tt<$.contents.length;Tt++)_(Fe,Re,$.contents[Tt],$);return Fe.currentISDState};for(var N=[new p("http://www.w3.org/ns/ttml#styling backgroundColor",function($,ue,he,Ne){Ne[3]!==0&&(ue.style.backgroundColor="rgba("+Ne[0].toString()+","+Ne[1].toString()+","+Ne[2].toString()+","+(Ne[3]/255).toString()+")")}),new p("http://www.w3.org/ns/ttml#styling color",function($,ue,he,Ne){ue.style.color="rgba("+Ne[0].toString()+","+Ne[1].toString()+","+Ne[2].toString()+","+(Ne[3]/255).toString()+")"}),new p("http://www.w3.org/ns/ttml#styling direction",function($,ue,he,Ne){ue.style.direction=Ne}),new p("http://www.w3.org/ns/ttml#styling display",function($,ue,he,Ne){}),new p("http://www.w3.org/ns/ttml#styling displayAlign",function($,ue,he,Ne){ue.style.display="flex",ue.style.flexDirection="column",Ne==="before"?ue.style.justifyContent="flex-start":Ne==="center"?ue.style.justifyContent="center":Ne==="after"&&(ue.style.justifyContent="flex-end")}),new p("http://www.w3.org/ns/ttml#styling extent",function($,ue,he,Ne){$.regionH=Ne.h.toUsedLength($.w,$.h),$.regionW=Ne.w.toUsedLength($.w,$.h);var ae=0,we=0,Me=he.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];Me&&(ae=Me[0].toUsedLength($.w,$.h)+Me[2].toUsedLength($.w,$.h),we=Me[1].toUsedLength($.w,$.h)+Me[3].toUsedLength($.w,$.h)),ue.style.height=$.regionH-ae+"px",ue.style.width=$.regionW-we+"px"}),new p("http://www.w3.org/ns/ttml#styling fontFamily",function($,ue,he,Ne){for(var ae=[],we=0;we<Ne.length;we++)Ne[we]=Ne[we].trim(),Ne[we]==="monospaceSerif"?(ae.push("Courier New"),ae.push('"Liberation Mono"'),ae.push("Courier"),ae.push("monospace")):Ne[we]==="proportionalSansSerif"?(ae.push("Arial"),ae.push("Helvetica"),ae.push('"Liberation Sans"'),ae.push("sans-serif")):Ne[we]==="monospace"?ae.push("monospace"):Ne[we]==="sansSerif"?ae.push("sans-serif"):Ne[we]==="serif"?ae.push("serif"):Ne[we]==="monospaceSansSerif"?(ae.push("Consolas"),ae.push("monospace")):Ne[we]==="proportionalSerif"?ae.push("serif"):ae.push(Ne[we]);if(ae.length>0){for(var Me=[ae[0]],je=1;je<ae.length;je++)Me.indexOf(ae[je])==-1&&Me.push(ae[je]);ae=Me}ue.style.fontFamily=ae.join(",")}),new p("http://www.w3.org/ns/ttml#styling shear",function($,ue,he,Ne){if(Ne!==0){var ae=-.9*Ne;$.bpd==="tb"?ue.style.transform="skewX("+ae+"deg)":ue.style.transform="skewY("+ae+"deg)"}}),new p("http://www.w3.org/ns/ttml#styling fontSize",function($,ue,he,Ne){ue.style.fontSize=Ne.toUsedLength($.w,$.h)+"px"}),new p("http://www.w3.org/ns/ttml#styling fontStyle",function($,ue,he,Ne){ue.style.fontStyle=Ne}),new p("http://www.w3.org/ns/ttml#styling fontWeight",function($,ue,he,Ne){ue.style.fontWeight=Ne}),new p("http://www.w3.org/ns/ttml#styling lineHeight",function($,ue,he,Ne){ue.style.lineHeight=Ne==="normal"?"normal":Ne.toUsedLength($.w,$.h)+"px"}),new p("http://www.w3.org/ns/ttml#styling opacity",function($,ue,he,Ne){ue.style.opacity=Ne}),new p("http://www.w3.org/ns/ttml#styling origin",function($,ue,he,Ne){ue.style.top=Ne.h.toUsedLength($.w,$.h)+"px",ue.style.left=Ne.w.toUsedLength($.w,$.h)+"px"}),new p("http://www.w3.org/ns/ttml#styling overflow",function($,ue,he,Ne){ue.style.overflow=Ne}),new p("http://www.w3.org/ns/ttml#styling padding",function($,ue,he,Ne){var ae=[];ae[0]=Ne[0].toUsedLength($.w,$.h)+"px",ae[1]=Ne[3].toUsedLength($.w,$.h)+"px",ae[2]=Ne[2].toUsedLength($.w,$.h)+"px",ae[3]=Ne[1].toUsedLength($.w,$.h)+"px",ue.style.padding=ae.join(" ")}),new p("http://www.w3.org/ns/ttml#styling position",function($,ue,he,Ne){ue.style.top=Ne.h.toUsedLength($.w,$.h)+"px",ue.style.left=Ne.w.toUsedLength($.w,$.h)+"px"}),new p("http://www.w3.org/ns/ttml#styling rubyAlign",function($,ue,he,Ne){ue.style.rubyAlign=Ne==="spaceAround"?"space-around":"center"}),new p("http://www.w3.org/ns/ttml#styling rubyPosition",function($,ue,he,Ne){var ae;Ne!=="before"&&Ne!=="after"||(ae=F?Ne:$.bpd==="tb"||$.bpd==="rl"?Ne==="before"?"over":"under":Ne==="before"?"under":"over",ue.parentElement.style[oe]=ae)}),new p("http://www.w3.org/ns/ttml#styling showBackground",null),new p("http://www.w3.org/ns/ttml#styling textAlign",function($,ue,he,Ne){var ae;ae=Ne==="start"?$.ipd==="rl"?"right":"left":Ne==="end"?$.ipd==="rl"?"left":"right":Ne,ue.style.textAlign=ae}),new p("http://www.w3.org/ns/ttml#styling textDecoration",function($,ue,he,Ne){ue.style.textDecoration=Ne.join(" ").replace("lineThrough","line-through")}),new p("http://www.w3.org/ns/ttml#styling textOutline",function($,ue,he,Ne){}),new p("http://www.w3.org/ns/ttml#styling textShadow",function($,ue,he,Ne){var ae=he.styleAttrs[i.byName.textOutline.qname];if(Ne==="none"&&ae==="none")ue.style.textShadow="";else{var we=[];if(ae!=="none"){var Me="rgba("+ae.color[0].toString()+","+ae.color[1].toString()+","+ae.color[2].toString()+","+(ae.color[3]/255).toString()+")";we.push("1px 1px 1px "+Me),we.push("-1px 1px 1px "+Me),we.push("1px -1px 1px "+Me),we.push("-1px -1px 1px "+Me)}if(Ne!=="none")for(var je=0;je<Ne.length;je++)we.push(Ne[je].x_off.toUsedLength($.w,$.h)+"px "+Ne[je].y_off.toUsedLength($.w,$.h)+"px "+Ne[je].b_radius.toUsedLength($.w,$.h)+"px rgba("+Ne[je].color[0].toString()+","+Ne[je].color[1].toString()+","+Ne[je].color[2].toString()+","+(Ne[je].color[3]/255).toString()+")");ue.style.textShadow=we.join(",")}}),new p("http://www.w3.org/ns/ttml#styling textCombine",function($,ue,he,Ne){ue.style.textCombineUpright=Ne}),new p("http://www.w3.org/ns/ttml#styling textEmphasis",function($,ue,he,Ne){}),new p("http://www.w3.org/ns/ttml#styling unicodeBidi",function($,ue,he,Ne){var ae;ae=Ne==="bidiOverride"?"bidi-override":Ne,ue.style.unicodeBidi=ae}),new p("http://www.w3.org/ns/ttml#styling visibility",function($,ue,he,Ne){ue.style.visibility=Ne}),new p("http://www.w3.org/ns/ttml#styling wrapOption",function($,ue,he,Ne){Ne==="wrap"?he.space==="preserve"?ue.style.whiteSpace="pre-wrap":ue.style.whiteSpace="normal":he.space==="preserve"?ue.style.whiteSpace="pre":ue.style.whiteSpace="noWrap"}),new p("http://www.w3.org/ns/ttml#styling writingMode",function($,ue,he,Ne){Ne==="lrtb"||Ne==="lr"||Ne==="rltb"||Ne==="rl"?ue.style.writingMode="horizontal-tb":Ne==="tblr"?ue.style.writingMode="vertical-lr":Ne!=="tbrl"&&Ne!=="tb"||(ue.style.writingMode="vertical-rl")}),new p("http://www.w3.org/ns/ttml#styling zIndex",function($,ue,he,Ne){ue.style.zIndex=Ne}),new p("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function($,ue,he,Ne){$.displayForcedOnlyMode&&Ne===!1&&(ue.style.visibility="hidden")})],U={},q=0;q<N.length;q++)U[N[q].qname]=N[q];var F="webkitRubyPosition"in window.getComputedStyle(document.documentElement),oe=F?"webkitRubyPosition":"rubyPosition",x="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",ne="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition";function de($,ue){if($&&$.error&&$.error(ue))throw ue}})(H,typeof imscNames>"u"?S(210):imscNames,typeof imscStyles>"u"?S(6811):imscStyles,typeof imscUtils>"u"?S(5926):imscUtils)},4080:function(Z,H,S){(function(Y,A,o,i){Y.generateISD=function(p,N,U){var q,F=new y(p),oe={},x={},ne=p.head.styling.initials[o.byName.showBackground.qname],de=p.head.styling.initials[o.byName.backgroundColor.qname];for(var $ in p.head.layout.regions)if(p.head.layout.regions.hasOwnProperty($)){var ue=p.head.layout.regions[$],he=ue.styleAttrs[o.byName.showBackground.qname]||ne,Ne=ue.styleAttrs[o.byName.backgroundColor.qname]||de;x[ue.id]=(he==="always"||he===void 0)&&Ne!==void 0&&!(N<ue.begin||N>=ue.end)}for(var ae in p.body&&p.body.regionID&&(x[p.body.regionID]=!0),q=p.body!==null?function Me(je,Ie){if(Ie.contents){var Le={};for(var Qe in Ie)Ie.hasOwnProperty(Qe)&&(Le[Qe]=Ie[Qe]);return Le.contents=[],Ie.contents.filter(function(nt){return!(je<nt.begin||je>=nt.end)}).forEach(function(nt){var Re=Me(je,nt);Re.regionID&&(x[Re.regionID]=!0),Re!==null&&Le.contents.push(Re)}),Le}return Ie}(N,p.body):null,x[""]!==void 0&&(x[""]=!0),x)if(x[ae]){var we=E(p,N,p.head.layout.regions[ae],q,null,"",p.head.layout.regions[ae],U,oe);we!==null&&F.contents.push(we.element)}return F};var _=[o.byName.color.qname,o.byName.textCombine.qname,o.byName.textDecoration.qname,o.byName.textEmphasis.qname,o.byName.textOutline.qname,o.byName.textShadow.qname];function E(p,N,U,q,F,oe,x,ne,de){if(N<x.begin||N>=x.end)return null;var $="regionID"in x&&x.regionID!==""?x.regionID:oe;if(F!==null&&$!==U.id&&(!("contents"in x)||"contents"in x&&x.contents.length===0||$!==""))return null;var ue=new r(x);if("sets"in x)for(var he=0;he<x.sets.length;he++)N<x.sets[he].begin||N>=x.sets[he].end||(ue.styleAttrs[x.sets[he].qname]=x.sets[he].value);var Ne={};for(var ae in ue.styleAttrs)if(ue.styleAttrs.hasOwnProperty(ae)&&(Ne[ae]=!0,ue.kind==="region"&&ae===o.byName.writingMode.qname&&!(o.byName.direction.qname in ue.styleAttrs))){var we=ue.styleAttrs[ae];we==="lrtb"||we==="lr"?ue.styleAttrs[o.byName.direction.qname]="ltr":we!=="rltb"&&we!=="rl"||(ue.styleAttrs[o.byName.direction.qname]="rtl")}if(F!==null)for(var Me=0;Me<o.all.length;Me++){var je=o.all[Me];if(je.qname===o.byName.textDecoration.qname){var Ie=F.styleAttrs[je.qname],Le=ue.styleAttrs[je.qname],Qe=[];Le===void 0?Qe=Ie:Le.indexOf("none")===-1?((Le.indexOf("noUnderline")===-1&&Ie.indexOf("underline")!==-1||Le.indexOf("underline")!==-1)&&Qe.push("underline"),(Le.indexOf("noLineThrough")===-1&&Ie.indexOf("lineThrough")!==-1||Le.indexOf("lineThrough")!==-1)&&Qe.push("lineThrough"),(Le.indexOf("noOverline")===-1&&Ie.indexOf("overline")!==-1||Le.indexOf("overline")!==-1)&&Qe.push("overline")):Qe.push("none"),ue.styleAttrs[je.qname]=Qe}else if(je.qname!==o.byName.fontSize.qname||je.qname in ue.styleAttrs||ue.kind!=="span"||ue.styleAttrs[o.byName.ruby.qname]!=="textContainer")if(je.qname!==o.byName.fontSize.qname||je.qname in ue.styleAttrs||ue.kind!=="span"||ue.styleAttrs[o.byName.ruby.qname]!=="text")je.inherit&&je.qname in F.styleAttrs&&!(je.qname in ue.styleAttrs)&&(ue.styleAttrs[je.qname]=F.styleAttrs[je.qname]);else{var nt=F.styleAttrs[o.byName.fontSize.qname];F.styleAttrs[o.byName.ruby.qname]==="textContainer"?ue.styleAttrs[je.qname]=nt:ue.styleAttrs[je.qname]=new i.ComputedLength(.5*nt.rw,.5*nt.rh)}else{var Re=F.styleAttrs[o.byName.fontSize.qname];ue.styleAttrs[je.qname]=new i.ComputedLength(.5*Re.rw,.5*Re.rh)}}for(var Fe=0;Fe<o.all.length;Fe++){var Tt=o.all[Fe];if(!(Tt.qname in ue.styleAttrs)&&!(Tt.qname===o.byName.position.qname&&o.byName.origin.qname in ue.styleAttrs||Tt.qname===o.byName.origin.qname&&o.byName.position.qname in ue.styleAttrs)){var vt=p.head.styling.initials[Tt.qname]||Tt.initial;if(vt!==null&&(ue.kind==="region"||Tt.inherit===!1&&vt!==null)){var ze=Tt.parse(vt);ze!==null?(ue.styleAttrs[Tt.qname]=ze,Ne[Tt.qname]=!0):l(ne,"Invalid initial value for '"+Tt.qname+"' on element '"+ue.kind)}}}for(var at=0;at<o.all.length;at++){var Te=o.all[at];if(Te.qname in Ne&&Te.compute!==null){var Ae=Te.compute(p,F,ue,ue.styleAttrs[Te.qname],de);Ae!==null?ue.styleAttrs[Te.qname]=Ae:(ue.styleAttrs[Te.qname]=Te.compute(p,F,ue,Te.parse(Te.initial),de),l(ne,"Style '"+Te.qname+"' on element '"+ue.kind+"' cannot be computed"))}}if(ue.styleAttrs[o.byName.display.qname]==="none")return null;var He=null;F===null?He=q===null?[]:[q]:"contents"in x&&(He=x.contents);for(var m=0;He!==null&&m<He.length;m++){var d=E(p,N,U,q,ue,$,He[m],ne,de);d!==null&&ue.contents.push(d.element)}for(var b in ue.styleAttrs)if(ue.styleAttrs.hasOwnProperty(b)){var C=!1;if(ue.kind==="span"){var re=ue.styleAttrs[o.byName.ruby.qname];(C=(re==="container"||re==="textContainer"||re==="baseContainer")&&_.indexOf(b)!==-1)||(C=re!=="container"&&b===o.byName.rubyAlign.qname),C||(C=!(re==="textContainer"||re==="text")&&b===o.byName.rubyPosition.qname)}if(!C){var te=o.byQName[b];"applies"in te&&(C=te.applies.indexOf(ue.kind)===-1)}C&&delete ue.styleAttrs[b]}var De=ue.styleAttrs[o.byName.ruby.qname];if(ue.kind==="p"||ue.kind==="span"&&(De==="textContainer"||De==="text")){var tt=[];f(ue,tt),function(Ge){for(var Be,Pe=0;Pe<Ge.length;)if((Be=Ge[Pe]).kind!=="br"&&Be.space!=="preserve"){var Ye=Be.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(Ye)&&(Pe===0||(ot=Ge[Pe-1]).kind==="br"||/[\r\n\t ]$/.test(ot.text))&&(Ye=Ye.substring(1)),Be.text=Ye,Ye.length===0?Ge.splice(Pe,1):Pe++}else Pe++;var ot,St;for(Pe=0;Pe<Ge.length;Pe++)(Be=Ge[Pe]).kind!=="br"&&Be.space!=="preserve"?/[ ]$/.test(Be.text)&&(Pe===Ge.length-1||(St=Ge[Pe+1]).kind==="br"||St.space==="preserve"&&/^[\r\n]/.test(St.text))&&(Be.text=Be.text.slice(0,-1)):Pe++}(tt),R(ue)}return ue.kind==="div"&&o.byName.backgroundImage.qname in ue.styleAttrs||ue.kind==="br"||ue.kind==="image"||"contents"in ue&&ue.contents.length>0||ue.kind==="span"&&ue.text!==null||ue.kind==="region"&&ue.styleAttrs[o.byName.showBackground.qname]==="always"?{region_id:$,element:ue}:null}function f(p,N){if("contents"in p)for(var U=0;U<p.contents.length;U++){var q=p.contents[U],F=q.styleAttrs[o.byName.ruby.qname];(q.kind!=="span"||F!=="textContainer"&&F!=="text")&&("contents"in q?f(q,N):(q.kind==="span"&&q.text.length!==0||q.kind==="br")&&N.push(q))}}function R(p){if(p.kind==="br")return!1;if("text"in p)return p.text.length===0;if("contents"in p){for(var N=p.contents.length;N--;)R(p.contents[N])&&p.contents.splice(N,1);return p.contents.length===0}}function y(p){this.contents=[],this.aspectRatio=p.aspectRatio,this.lang=p.lang}function r(p){for(var N in this.kind=p.kind||"region",this.lang=p.lang,p.id&&(this.id=p.id),this.styleAttrs={},p.styleAttrs)p.styleAttrs.hasOwnProperty(N)&&(this.styleAttrs[N]=p.styleAttrs[N]);"src"in p&&(this.src=p.src),"type"in p&&(this.type=p.type),"text"in p?this.text=p.text:(this.kind==="region"||"contents"in p)&&(this.contents=[]),"space"in p&&(this.space=p.space)}function l(p,N){if(p&&p.error&&p.error(N))throw N}})(H,typeof imscNames>"u"?S(210):imscNames,typeof imscStyles>"u"?S(6811):imscStyles,typeof imscUtils>"u"?S(5926):imscUtils)},4403:function(Z,H,S){H.generateISD=S(4080).generateISD,H.fromXML=S(3362).fromXML,H.renderHTML=S(506).render},210:function(Z,H){(function(S){S.ns_tt="http://www.w3.org/ns/ttml",S.ns_tts="http://www.w3.org/ns/ttml#styling",S.ns_ttp="http://www.w3.org/ns/ttml#parameter",S.ns_xml="http://www.w3.org/XML/1998/namespace",S.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",S.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",S.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",S.ns_ebutts="urn:ebu:tt:style"})(H)},6811:function(Z,H,S){(function(Y,A,o){function i(f,R,y,r,l,p,N,U){this.name=R,this.ns=f,this.qname=f+" "+R,this.inherit=l,this.animatable=p,this.initial=y,this.applies=r,this.parse=N,this.compute=U}for(var _ in Y.all=[new i(A.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,o.parseColor,null),new i(A.ns_tts,"color","white",["span"],!0,!0,o.parseColor,null),new i(A.ns_tts,"direction","ltr",["p","span"],!0,!0,function(f){return f},null),new i(A.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(f){return f},null),new i(A.ns_tts,"displayAlign","before",["region"],!1,!0,function(f){return f},null),new i(A.ns_tts,"extent","auto",["tt","region"],!1,!0,function(f){if(f==="auto")return f;var R=f.split(" ");if(R.length!==2)return null;var y=o.parseLength(R[0]),r=o.parseLength(R[1]);return r&&y?{h:r,w:y}:null},function(f,R,y,r,l){var p,N;if(r==="auto")p=new o.ComputedLength(0,1);else if((p=o.toComputedLength(r.h.value,r.h.unit,null,f.dimensions.h,null,f.pxLength.h))===null)return null;if(r==="auto")N=new o.ComputedLength(1,0);else if((N=o.toComputedLength(r.w.value,r.w.unit,null,f.dimensions.w,null,f.pxLength.w))===null)return null;return{h:p,w:N}}),new i(A.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(f){for(var R=f.split(","),y=[],r=0;r<R.length;r++)R[r]=R[r].trim(),R[r].charAt(0)!=="'"&&R[r].charAt(0)!=='"'&&R[r]==="default"?y.push("monospaceSerif"):y.push(R[r]);return y},null),new i(A.ns_tts,"shear","0%",["p"],!0,!0,o.parseLength,function(f,R,y,r){return r.unit!=="%"?null:Math.abs(r.value)>100?100*Math.sign(r.value):r.value}),new i(A.ns_tts,"fontSize","1c",["span","p"],!0,!0,o.parseLength,function(f,R,y,r,l){return o.toComputedLength(r.value,r.unit,R!==null?R.styleAttrs[Y.byName.fontSize.qname]:f.cellLength.h,R!==null?R.styleAttrs[Y.byName.fontSize.qname]:f.cellLength.h,f.cellLength.h,f.pxLength.h)}),new i(A.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(f){return f},null),new i(A.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(f){return f},null),new i(A.ns_tts,"lineHeight","normal",["p"],!0,!0,function(f){return f==="normal"?f:o.parseLength(f)},function(f,R,y,r,l){var p;if(r==="normal")p=r;else if((p=o.toComputedLength(r.value,r.unit,y.styleAttrs[Y.byName.fontSize.qname],y.styleAttrs[Y.byName.fontSize.qname],f.cellLength.h,f.pxLength.h))===null)return null;return p}),new i(A.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new i(A.ns_tts,"origin","auto",["region"],!1,!0,function(f){if(f==="auto")return f;var R=f.split(" ");if(R.length!==2)return null;var y=o.parseLength(R[0]),r=o.parseLength(R[1]);return r&&y?{h:r,w:y}:null},function(f,R,y,r,l){var p,N;if(r==="auto")p=new o.ComputedLength(0,0);else if((p=o.toComputedLength(r.h.value,r.h.unit,null,f.dimensions.h,null,f.pxLength.h))===null)return null;if(r==="auto")N=new o.ComputedLength(0,0);else if((N=o.toComputedLength(r.w.value,r.w.unit,null,f.dimensions.w,null,f.pxLength.w))===null)return null;return{h:p,w:N}}),new i(A.ns_tts,"overflow","hidden",["region"],!1,!0,function(f){return f},null),new i(A.ns_tts,"padding","0px",["region"],!1,!0,function(f){var R=f.split(" ");if(R.length>4)return null;for(var y=[],r=0;r<R.length;r++){var l=o.parseLength(R[r]);if(!l)return null;y.push(l)}return y},function(f,R,y,r,l){var p;if(r.length===1)p=[r[0],r[0],r[0],r[0]];else if(r.length===2)p=[r[0],r[1],r[0],r[1]];else if(r.length===3)p=[r[0],r[1],r[2],r[1]];else{if(r.length!==4)return null;p=[r[0],r[1],r[2],r[3]]}var N=y.styleAttrs[Y.byName.writingMode.qname];if(N==="lrtb"||N==="lr")p=[p[0],p[3],p[2],p[1]];else if(N==="rltb"||N==="rl")p=[p[0],p[1],p[2],p[3]];else if(N==="tblr")p=[p[3],p[0],p[1],p[2]];else{if(N!=="tbrl"&&N!=="tb")return null;p=[p[3],p[2],p[1],p[0]]}for(var U=[],q=0;q<p.length;q++)if(p[q].value===0)U[q]=new o.ComputedLength(0,0);else if(U[q]=o.toComputedLength(p[q].value,p[q].unit,y.styleAttrs[Y.byName.fontSize.qname],q===0||q===2?y.styleAttrs[Y.byName.extent.qname].h:y.styleAttrs[Y.byName.extent.qname].w,q===0||q===2?f.cellLength.h:f.cellLength.w,q===0||q===2?f.pxLength.h:f.pxLength.w),U[q]===null)return null;return U}),new i(A.ns_tts,"position","top left",["region"],!1,!0,function(f){return o.parsePosition(f)},function(f,R,y,r){var l,p;return(l=o.toComputedLength(r.v.offset.value,r.v.offset.unit,null,new o.ComputedLength(-y.styleAttrs[Y.byName.extent.qname].h.rw,f.dimensions.h.rh-y.styleAttrs[Y.byName.extent.qname].h.rh),null,f.pxLength.h))===null?null:(r.v.edge==="bottom"&&(l=new o.ComputedLength(-l.rw-y.styleAttrs[Y.byName.extent.qname].h.rw,f.dimensions.h.rh-l.rh-y.styleAttrs[Y.byName.extent.qname].h.rh)),p=o.toComputedLength(r.h.offset.value,r.h.offset.unit,null,new o.ComputedLength(f.dimensions.w.rw-y.styleAttrs[Y.byName.extent.qname].w.rw,-y.styleAttrs[Y.byName.extent.qname].w.rh),null,f.pxLength.w),l===null?null:(r.h.edge==="right"&&(p=new o.ComputedLength(f.dimensions.w.rw-p.rw-y.styleAttrs[Y.byName.extent.qname].w.rw,-p.rh-y.styleAttrs[Y.byName.extent.qname].w.rh)),{h:l,w:p}))}),new i(A.ns_tts,"ruby","none",["span"],!1,!0,function(f){return f},null),new i(A.ns_tts,"rubyAlign","center",["span"],!0,!0,function(f){return f!=="center"&&f!=="spaceAround"?null:f},null),new i(A.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(f){return f},null),new i(A.ns_tts,"rubyReserve","none",["p"],!0,!0,function(f){var R=f.split(" "),y=[null,null];if(R.length===0||R.length>2||R[0]!=="none"&&R[0]!=="both"&&R[0]!=="after"&&R[0]!=="before"&&R[0]!=="outside")return null;if(y[0]=R[0],R.length===2&&R[0]!=="none"){var r=o.parseLength(R[1]);if(!r)return null;y[1]=r}return y},function(f,R,y,r,l){if(r[0]==="none")return r;var p;return(p=r[1]===null?new o.ComputedLength(.5*y.styleAttrs[Y.byName.fontSize.qname].rw,.5*y.styleAttrs[Y.byName.fontSize.qname].rh):o.toComputedLength(r[1].value,r[1].unit,y.styleAttrs[Y.byName.fontSize.qname],y.styleAttrs[Y.byName.fontSize.qname],f.cellLength.h,f.pxLength.h))===null?null:[r[0],p]}),new i(A.ns_tts,"showBackground","always",["region"],!1,!0,function(f){return f},null),new i(A.ns_tts,"textAlign","start",["p"],!0,!0,function(f){return f},function(f,R,y,r,l){return r==="left"?"start":r==="right"?"end":r}),new i(A.ns_tts,"textCombine","none",["span"],!0,!0,function(f){return f==="none"||f==="all"?f:null},null),new i(A.ns_tts,"textDecoration","none",["span"],!0,!0,function(f){return f.split(" ")},null),new i(A.ns_tts,"textEmphasis","none",["span"],!0,!0,function(f){for(var R=f.split(" "),y={style:null,symbol:null,color:null,position:null},r=0;r<R.length;r++)if(R[r]==="none"||R[r]==="auto")y.style=R[r];else if(R[r]==="filled"||R[r]==="open")y.style=R[r];else if(R[r]==="circle"||R[r]==="dot"||R[r]==="sesame")y.symbol=R[r];else if(R[r]==="current")y.color=R[r];else if(R[r]==="outside"||R[r]==="before"||R[r]==="after")y.position=R[r];else if(y.color=o.parseColor(R[r]),y.color===null)return null;return y.style==null&&y.symbol==null?y.style="auto":(y.symbol=y.symbol||"circle",y.style=y.style||"filled"),y.position=y.position||"outside",y.color=y.color||"current",y},null),new i(A.ns_tts,"textOutline","none",["span"],!0,!0,function(f){if(f==="none")return f;var R={},y=f.split(" ");if(y.length===0||y.length>2)return null;var r=o.parseColor(y[0]);if(R.color=r,r!==null&&y.shift(),y.length!==1)return null;var l=o.parseLength(y[0]);return l?(R.thickness=l,R):null},function(f,R,y,r,l){if(r==="none")return r;var p={};return r.color===null?p.color=y.styleAttrs[Y.byName.color.qname]:p.color=r.color,p.thickness=o.toComputedLength(r.thickness.value,r.thickness.unit,y.styleAttrs[Y.byName.fontSize.qname],y.styleAttrs[Y.byName.fontSize.qname],f.cellLength.h,f.pxLength.h),p.thickness===null?null:p}),new i(A.ns_tts,"textShadow","none",["span"],!0,!0,o.parseTextShadow,function(f,R,y,r){if(r==="none")return r;for(var l=[],p=0;p<r.length;p++){var N={};if(N.x_off=o.toComputedLength(r[p][0].value,r[p][0].unit,null,y.styleAttrs[Y.byName.fontSize.qname],null,f.pxLength.w),N.x_off===null||(N.y_off=o.toComputedLength(r[p][1].value,r[p][1].unit,null,y.styleAttrs[Y.byName.fontSize.qname],null,f.pxLength.h),N.y_off===null))return null;if(r[p][2]===null)N.b_radius=0;else if(N.b_radius=o.toComputedLength(r[p][2].value,r[p][2].unit,null,y.styleAttrs[Y.byName.fontSize.qname],null,f.pxLength.h),N.b_radius===null)return null;r[p][3]===null?N.color=y.styleAttrs[Y.byName.color.qname]:N.color=r[p][3],l.push(N)}return l}),new i(A.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(f){return f},null),new i(A.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(f){return f},null),new i(A.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(f){return f},null),new i(A.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(f){return f},null),new i(A.ns_tts,"zIndex","auto",["region"],!1,!0,function(f){var R;return f==="auto"?R=f:(R=parseInt(f),isNaN(R)&&(R=null)),R},null),new i(A.ns_ebutts,"linePadding","0c",["p"],!0,!1,o.parseLength,function(f,R,y,r,l){return o.toComputedLength(r.value,r.unit,null,null,f.cellLength.w,null)}),new i(A.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(f){return f},null),new i(A.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(f){return f},null),new i(A.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(f){return f==="true"},null),new i(A.ns_itts,"fillLineGap","false",["p"],!0,!0,function(f){return f==="true"},null)],Y.byQName={},Y.all)Y.byQName[Y.all[_].qname]=Y.all[_];for(var E in Y.byName={},Y.all)Y.byName[Y.all[E].name]=Y.all[E]})(H,typeof imscNames>"u"?S(210):imscNames,typeof imscUtils>"u"?S(5926):imscUtils)},5926:function(Z,H){(function(S){var Y=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,A=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,o=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,i={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};S.parseColor=function(E){var f,R=null,y=i[E.toLowerCase()];return y!==void 0?R=y:(f=Y.exec(E))!==null?R=[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16),f[4]!==void 0?parseInt(f[4],16):255]:(f=A.exec(E))!==null?R=[parseInt(f[1]),parseInt(f[2]),parseInt(f[3]),255]:(f=o.exec(E))!==null&&(R=[parseInt(f[1]),parseInt(f[2]),parseInt(f[3]),parseInt(f[4])]),R};var _=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;S.parseLength=function(E){var f,R=null;return(f=_.exec(E))!==null&&(R={value:parseFloat(f[1]),unit:f[2]}),R},S.parseTextShadow=function(E){for(var f=E.match(/([^\(,\)]|\([^\)]+\))+/g),R=[],y=0;y<f.length;y++){var r=f[y].split(" ");if(r.length===1&&r[0]==="none")return"none";if(r.length>1&&r.length<5){var l=[null,null,null,null],p=S.parseLength(r.shift());if(p===null||(l[0]=p,(p=S.parseLength(r.shift()))===null))return null;if(l[1]=p,r.length===0){R.push(l);continue}if((p=S.parseLength(r[0]))!==null&&(l[2]=p,r.shift()),r.length===0){R.push(l);continue}var N=S.parseColor(r[0]);if(N===null)return null;l[3]=N,R.push(l)}}return R},S.parsePosition=function(E){var f=E.split(" "),R=function(q){return q==="center"||q==="left"||q==="top"||q==="bottom"||q==="right"};if(f.length>4)return null;for(var y=0;y<f.length;y++)if(!R(f[y])){var r=S.parseLength(f[y]);if(r===null)return null;f[y]=r}for(var l={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},p=0;p<f.length;){var N=f[p++];if(R(N)){var U={value:0,unit:"%"};f.length!==2&&p<f.length&&!R(f[p])&&(U=f[p++]),N==="right"?(l.h.edge=N,l.h.offset=U):N==="bottom"?(l.v.edge=N,l.v.offset=U):N==="left"?l.h.offset=U:N==="top"&&(l.v.offset=U)}else{if(f.length!==1&&f.length!==2)return null;p===1?l.h.offset=N:l.v.offset=N}}return l},S.ComputedLength=function(E,f){this.rw=E,this.rh=f},S.ComputedLength.prototype.toUsedLength=function(E,f){return E*this.rw+f*this.rh},S.ComputedLength.prototype.isZero=function(){return this.rw===0&&this.rh===0},S.toComputedLength=function(E,f,R,y,r,l){return f==="%"&&y?new S.ComputedLength(y.rw*E/100,y.rh*E/100):f==="em"&&R?new S.ComputedLength(R.rw*E,R.rh*E):f==="c"&&r?new S.ComputedLength(E*r.rw,E*r.rh):f==="px"&&l?new S.ComputedLength(E*l.rw,E*l.rh):f==="rh"?new S.ComputedLength(0,E/100):f==="rw"?new S.ComputedLength(E/100,0):null}})(H)},3516:function(Z){Z.exports=function(H){var S=typeof H=="string"?H.charCodeAt(0):H;return S>=97&&S<=122||S>=65&&S<=90}},2219:function(Z,H,S){var Y=S(3516),A=S(395);Z.exports=function(o){return Y(o)||A(o)}},395:function(Z){Z.exports=function(H){var S=typeof H=="string"?H.charCodeAt(0):H;return S>=48&&S<=57}},3875:function(Z){function H(A){if(typeof A!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(A))}function S(A,o){for(var i,_="",E=0,f=-1,R=0,y=0;y<=A.length;++y){if(y<A.length)i=A.charCodeAt(y);else{if(i===47)break;i=47}if(i===47){if(!(f===y-1||R===1))if(f!==y-1&&R===2){if(_.length<2||E!==2||_.charCodeAt(_.length-1)!==46||_.charCodeAt(_.length-2)!==46){if(_.length>2){var r=_.lastIndexOf("/");if(r!==_.length-1){r===-1?(_="",E=0):E=(_=_.slice(0,r)).length-1-_.lastIndexOf("/"),f=y,R=0;continue}}else if(_.length===2||_.length===1){_="",E=0,f=y,R=0;continue}}o&&(_.length>0?_+="/..":_="..",E=2)}else _.length>0?_+="/"+A.slice(f+1,y):_=A.slice(f+1,y),E=y-f-1;f=y,R=0}else i===46&&R!==-1?++R:R=-1}return _}var Y={resolve:function(){for(var A,o="",i=!1,_=arguments.length-1;_>=-1&&!i;_--){var E;_>=0?E=arguments[_]:(A===void 0&&(A=process.cwd()),E=A),H(E),E.length!==0&&(o=E+"/"+o,i=E.charCodeAt(0)===47)}return o=S(o,!i),i?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(A){if(H(A),A.length===0)return".";var o=A.charCodeAt(0)===47,i=A.charCodeAt(A.length-1)===47;return(A=S(A,!o)).length!==0||o||(A="."),A.length>0&&i&&(A+="/"),o?"/"+A:A},isAbsolute:function(A){return H(A),A.length>0&&A.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var A,o=0;o<arguments.length;++o){var i=arguments[o];H(i),i.length>0&&(A===void 0?A=i:A+="/"+i)}return A===void 0?".":Y.normalize(A)},relative:function(A,o){if(H(A),H(o),A===o||(A=Y.resolve(A))===(o=Y.resolve(o)))return"";for(var i=1;i<A.length&&A.charCodeAt(i)===47;++i);for(var _=A.length,E=_-i,f=1;f<o.length&&o.charCodeAt(f)===47;++f);for(var R=o.length-f,y=E<R?E:R,r=-1,l=0;l<=y;++l){if(l===y){if(R>y){if(o.charCodeAt(f+l)===47)return o.slice(f+l+1);if(l===0)return o.slice(f+l)}else E>y&&(A.charCodeAt(i+l)===47?r=l:l===0&&(r=0));break}var p=A.charCodeAt(i+l);if(p!==o.charCodeAt(f+l))break;p===47&&(r=l)}var N="";for(l=i+r+1;l<=_;++l)l!==_&&A.charCodeAt(l)!==47||(N.length===0?N+="..":N+="/..");return N.length>0?N+o.slice(f+r):(f+=r,o.charCodeAt(f)===47&&++f,o.slice(f))},_makeLong:function(A){return A},dirname:function(A){if(H(A),A.length===0)return".";for(var o=A.charCodeAt(0),i=o===47,_=-1,E=!0,f=A.length-1;f>=1;--f)if((o=A.charCodeAt(f))===47){if(!E){_=f;break}}else E=!1;return _===-1?i?"/":".":i&&_===1?"//":A.slice(0,_)},basename:function(A,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');H(A);var i,_=0,E=-1,f=!0;if(o!==void 0&&o.length>0&&o.length<=A.length){if(o.length===A.length&&o===A)return"";var R=o.length-1,y=-1;for(i=A.length-1;i>=0;--i){var r=A.charCodeAt(i);if(r===47){if(!f){_=i+1;break}}else y===-1&&(f=!1,y=i+1),R>=0&&(r===o.charCodeAt(R)?--R==-1&&(E=i):(R=-1,E=y))}return _===E?E=y:E===-1&&(E=A.length),A.slice(_,E)}for(i=A.length-1;i>=0;--i)if(A.charCodeAt(i)===47){if(!f){_=i+1;break}}else E===-1&&(f=!1,E=i+1);return E===-1?"":A.slice(_,E)},extname:function(A){H(A);for(var o=-1,i=0,_=-1,E=!0,f=0,R=A.length-1;R>=0;--R){var y=A.charCodeAt(R);if(y!==47)_===-1&&(E=!1,_=R+1),y===46?o===-1?o=R:f!==1&&(f=1):o!==-1&&(f=-1);else if(!E){i=R+1;break}}return o===-1||_===-1||f===0||f===1&&o===_-1&&o===i+1?"":A.slice(o,_)},format:function(A){if(A===null||typeof A!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof A);return function(o,i){var _=i.dir||i.root,E=i.base||(i.name||"")+(i.ext||"");return _?_===i.root?_+E:_+"/"+E:E}(0,A)},parse:function(A){H(A);var o={root:"",dir:"",base:"",ext:"",name:""};if(A.length===0)return o;var i,_=A.charCodeAt(0),E=_===47;E?(o.root="/",i=1):i=0;for(var f=-1,R=0,y=-1,r=!0,l=A.length-1,p=0;l>=i;--l)if((_=A.charCodeAt(l))!==47)y===-1&&(r=!1,y=l+1),_===46?f===-1?f=l:p!==1&&(p=1):f!==-1&&(p=-1);else if(!r){R=l+1;break}return f===-1||y===-1||p===0||p===1&&f===y-1&&f===R+1?y!==-1&&(o.base=o.name=R===0&&E?A.slice(1,y):A.slice(R,y)):(R===0&&E?(o.name=A.slice(1,f),o.base=A.slice(1,y)):(o.name=A.slice(R,f),o.base=A.slice(R,y)),o.ext=A.slice(f,y)),R>0?o.dir=A.slice(0,R-1):E&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};Y.posix=Y,Z.exports=Y},8387:function(Z,H,S){var Y=S(1549),A=Y.Buffer;function o(_,E){for(var f in _)E[f]=_[f]}function i(_,E,f){return A(_,E,f)}A.from&&A.alloc&&A.allocUnsafe&&A.allocUnsafeSlow?Z.exports=Y:(o(Y,H),H.Buffer=i),o(A,i),i.from=function(_,E,f){if(typeof _=="number")throw new TypeError("Argument must not be a number");return A(_,E,f)},i.alloc=function(_,E,f){if(typeof _!="number")throw new TypeError("Argument must be a number");var R=A(_);return E!==void 0?typeof f=="string"?R.fill(E,f):R.fill(E):R.fill(0),R},i.allocUnsafe=function(_){if(typeof _!="number")throw new TypeError("Argument must be a number");return A(_)},i.allocUnsafeSlow=function(_){if(typeof _!="number")throw new TypeError("Argument must be a number");return Y.SlowBuffer(_)}},5378:function(Z,H,S){(function(Y){Y.parser=function(m,d){return new i(m,d)},Y.SAXParser=i,Y.SAXStream=E,Y.createStream=function(m,d){return new E(m,d)},Y.MAX_BUFFER_LENGTH=65536;var A,o=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function i(m,d){if(!(this instanceof i))return new i(m,d);var b=this;(function(C){for(var re=0,te=o.length;re<te;re++)C[o[re]]=""})(b),b.q=b.c="",b.bufferCheckPosition=Y.MAX_BUFFER_LENGTH,b.opt=d||{},b.opt.lowercase=b.opt.lowercase||b.opt.lowercasetags,b.looseCase=b.opt.lowercase?"toLowerCase":"toUpperCase",b.tags=[],b.closed=b.closedRoot=b.sawRoot=!1,b.tag=b.error=null,b.strict=!!m,b.noscript=!(!m&&!b.opt.noscript),b.state=ae.BEGIN,b.strictEntities=b.opt.strictEntities,b.ENTITIES=b.strictEntities?Object.create(Y.XML_ENTITIES):Object.create(Y.ENTITIES),b.attribList=[],b.opt.xmlns&&(b.ns=Object.create(U)),b.trackPosition=b.opt.position!==!1,b.trackPosition&&(b.position=b.line=b.column=0),Me(b,"onready")}Y.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(m){function d(){}return d.prototype=m,new d}),Object.keys||(Object.keys=function(m){var d=[];for(var b in m)m.hasOwnProperty(b)&&d.push(b);return d}),i.prototype={end:function(){nt(this)},write:function(m){var d=this;if(this.error)throw this.error;if(d.closed)return Qe(d,"Cannot write after close. Assign an onready handler.");if(m===null)return nt(d);typeof m=="object"&&(m=m.toString());for(var b=0,C="";C=He(m,b++),d.c=C,C;)switch(d.trackPosition&&(d.position++,C===`
`?(d.line++,d.column=0):d.column++),d.state){case ae.BEGIN:if(d.state=ae.BEGIN_WHITESPACE,C==="\uFEFF")continue;Ae(d,C);continue;case ae.BEGIN_WHITESPACE:Ae(d,C);continue;case ae.TEXT:if(d.sawRoot&&!d.closedRoot){for(var re=b-1;C&&C!=="<"&&C!=="&";)(C=He(m,b++))&&d.trackPosition&&(d.position++,C===`
`?(d.line++,d.column=0):d.column++);d.textNode+=m.substring(re,b-1)}C!=="<"||d.sawRoot&&d.closedRoot&&!d.strict?(!$(f,C)||d.sawRoot&&!d.closedRoot||Re(d,"Text data outside of root node."),C==="&"?d.state=ae.TEXT_ENTITY:d.textNode+=C):(d.state=ae.OPEN_WAKA,d.startTagPosition=d.position);continue;case ae.SCRIPT:C==="<"?d.state=ae.SCRIPT_ENDING:d.script+=C;continue;case ae.SCRIPT_ENDING:C==="/"?d.state=ae.CLOSE_TAG:(d.script+="<"+C,d.state=ae.SCRIPT);continue;case ae.OPEN_WAKA:if(C==="!")d.state=ae.SGML_DECL,d.sgmlDecl="";else if(!de(f,C))if(de(q,C))d.state=ae.OPEN_TAG,d.tagName=C;else if(C==="/")d.state=ae.CLOSE_TAG,d.tagName="";else if(C==="?")d.state=ae.PROC_INST,d.procInstName=d.procInstBody="";else{if(Re(d,"Unencoded <"),d.startTagPosition+1<d.position){var te=d.position-d.startTagPosition;C=new Array(te).join(" ")+C}d.textNode+="<"+C,d.state=ae.TEXT}continue;case ae.SGML_DECL:(d.sgmlDecl+C).toUpperCase()==="[CDATA["?(je(d,"onopencdata"),d.state=ae.CDATA,d.sgmlDecl="",d.cdata=""):d.sgmlDecl+C==="--"?(d.state=ae.COMMENT,d.comment="",d.sgmlDecl=""):(d.sgmlDecl+C).toUpperCase()==="DOCTYPE"?(d.state=ae.DOCTYPE,(d.doctype||d.sawRoot)&&Re(d,"Inappropriately located doctype declaration"),d.doctype="",d.sgmlDecl=""):C===">"?(je(d,"onsgmldeclaration",d.sgmlDecl),d.sgmlDecl="",d.state=ae.TEXT):(de(r,C)&&(d.state=ae.SGML_DECL_QUOTED),d.sgmlDecl+=C);continue;case ae.SGML_DECL_QUOTED:C===d.q&&(d.state=ae.SGML_DECL,d.q=""),d.sgmlDecl+=C;continue;case ae.DOCTYPE:C===">"?(d.state=ae.TEXT,je(d,"ondoctype",d.doctype),d.doctype=!0):(d.doctype+=C,C==="["?d.state=ae.DOCTYPE_DTD:de(r,C)&&(d.state=ae.DOCTYPE_QUOTED,d.q=C));continue;case ae.DOCTYPE_QUOTED:d.doctype+=C,C===d.q&&(d.q="",d.state=ae.DOCTYPE);continue;case ae.DOCTYPE_DTD:d.doctype+=C,C==="]"?d.state=ae.DOCTYPE:de(r,C)&&(d.state=ae.DOCTYPE_DTD_QUOTED,d.q=C);continue;case ae.DOCTYPE_DTD_QUOTED:d.doctype+=C,C===d.q&&(d.state=ae.DOCTYPE_DTD,d.q="");continue;case ae.COMMENT:C==="-"?d.state=ae.COMMENT_ENDING:d.comment+=C;continue;case ae.COMMENT_ENDING:C==="-"?(d.state=ae.COMMENT_ENDED,d.comment=Le(d.opt,d.comment),d.comment&&je(d,"oncomment",d.comment),d.comment=""):(d.comment+="-"+C,d.state=ae.COMMENT);continue;case ae.COMMENT_ENDED:C!==">"?(Re(d,"Malformed comment"),d.comment+="--"+C,d.state=ae.COMMENT):d.state=ae.TEXT;continue;case ae.CDATA:C==="]"?d.state=ae.CDATA_ENDING:d.cdata+=C;continue;case ae.CDATA_ENDING:C==="]"?d.state=ae.CDATA_ENDING_2:(d.cdata+="]"+C,d.state=ae.CDATA);continue;case ae.CDATA_ENDING_2:C===">"?(d.cdata&&je(d,"oncdata",d.cdata),je(d,"onclosecdata"),d.cdata="",d.state=ae.TEXT):C==="]"?d.cdata+="]":(d.cdata+="]]"+C,d.state=ae.CDATA);continue;case ae.PROC_INST:C==="?"?d.state=ae.PROC_INST_ENDING:de(f,C)?d.state=ae.PROC_INST_BODY:d.procInstName+=C;continue;case ae.PROC_INST_BODY:if(!d.procInstBody&&de(f,C))continue;C==="?"?d.state=ae.PROC_INST_ENDING:d.procInstBody+=C;continue;case ae.PROC_INST_ENDING:C===">"?(je(d,"onprocessinginstruction",{name:d.procInstName,body:d.procInstBody}),d.procInstName=d.procInstBody="",d.state=ae.TEXT):(d.procInstBody+="?"+C,d.state=ae.PROC_INST_BODY);continue;case ae.OPEN_TAG:de(F,C)?d.tagName+=C:(Fe(d),C===">"?ze(d):C==="/"?d.state=ae.OPEN_TAG_SLASH:($(f,C)&&Re(d,"Invalid character in tag name"),d.state=ae.ATTRIB));continue;case ae.OPEN_TAG_SLASH:C===">"?(ze(d,!0),at(d)):(Re(d,"Forward-slash in opening tag not followed by >"),d.state=ae.ATTRIB);continue;case ae.ATTRIB:if(de(f,C))continue;C===">"?ze(d):C==="/"?d.state=ae.OPEN_TAG_SLASH:de(q,C)?(d.attribName=C,d.attribValue="",d.state=ae.ATTRIB_NAME):Re(d,"Invalid attribute name");continue;case ae.ATTRIB_NAME:C==="="?d.state=ae.ATTRIB_VALUE:C===">"?(Re(d,"Attribute without value"),d.attribValue=d.attribName,vt(d),ze(d)):de(f,C)?d.state=ae.ATTRIB_NAME_SAW_WHITE:de(F,C)?d.attribName+=C:Re(d,"Invalid attribute name");continue;case ae.ATTRIB_NAME_SAW_WHITE:if(C==="=")d.state=ae.ATTRIB_VALUE;else{if(de(f,C))continue;Re(d,"Attribute without value"),d.tag.attributes[d.attribName]="",d.attribValue="",je(d,"onattribute",{name:d.attribName,value:""}),d.attribName="",C===">"?ze(d):de(q,C)?(d.attribName=C,d.state=ae.ATTRIB_NAME):(Re(d,"Invalid attribute name"),d.state=ae.ATTRIB)}continue;case ae.ATTRIB_VALUE:if(de(f,C))continue;de(r,C)?(d.q=C,d.state=ae.ATTRIB_VALUE_QUOTED):(Re(d,"Unquoted attribute value"),d.state=ae.ATTRIB_VALUE_UNQUOTED,d.attribValue=C);continue;case ae.ATTRIB_VALUE_QUOTED:if(C!==d.q){C==="&"?d.state=ae.ATTRIB_VALUE_ENTITY_Q:d.attribValue+=C;continue}vt(d),d.q="",d.state=ae.ATTRIB_VALUE_CLOSED;continue;case ae.ATTRIB_VALUE_CLOSED:de(f,C)?d.state=ae.ATTRIB:C===">"?ze(d):C==="/"?d.state=ae.OPEN_TAG_SLASH:de(q,C)?(Re(d,"No whitespace between attributes"),d.attribName=C,d.attribValue="",d.state=ae.ATTRIB_NAME):Re(d,"Invalid attribute name");continue;case ae.ATTRIB_VALUE_UNQUOTED:if($(l,C)){C==="&"?d.state=ae.ATTRIB_VALUE_ENTITY_U:d.attribValue+=C;continue}vt(d),C===">"?ze(d):d.state=ae.ATTRIB;continue;case ae.CLOSE_TAG:if(d.tagName)C===">"?at(d):de(F,C)?d.tagName+=C:d.script?(d.script+="</"+d.tagName,d.tagName="",d.state=ae.SCRIPT):($(f,C)&&Re(d,"Invalid tagname in closing tag"),d.state=ae.CLOSE_TAG_SAW_WHITE);else{if(de(f,C))continue;$(q,C)?d.script?(d.script+="</"+C,d.state=ae.SCRIPT):Re(d,"Invalid tagname in closing tag."):d.tagName=C}continue;case ae.CLOSE_TAG_SAW_WHITE:if(de(f,C))continue;C===">"?at(d):Re(d,"Invalid characters in closing tag");continue;case ae.TEXT_ENTITY:case ae.ATTRIB_VALUE_ENTITY_Q:case ae.ATTRIB_VALUE_ENTITY_U:var De,tt;switch(d.state){case ae.TEXT_ENTITY:De=ae.TEXT,tt="textNode";break;case ae.ATTRIB_VALUE_ENTITY_Q:De=ae.ATTRIB_VALUE_QUOTED,tt="attribValue";break;case ae.ATTRIB_VALUE_ENTITY_U:De=ae.ATTRIB_VALUE_UNQUOTED,tt="attribValue"}C===";"?(d[tt]+=Te(d),d.entity="",d.state=De):de(d.entity.length?x:oe,C)?d.entity+=C:(Re(d,"Invalid character in entity name"),d[tt]+="&"+d.entity+C,d.entity="",d.state=De);continue;default:throw new Error(d,"Unknown state: "+d.state)}return d.position>=d.bufferCheckPosition&&function(Ge){for(var Be=Math.max(Y.MAX_BUFFER_LENGTH,10),Pe=0,Ye=0,ot=o.length;Ye<ot;Ye++){var St=Ge[o[Ye]].length;if(St>Be)switch(o[Ye]){case"textNode":Ie(Ge);break;case"cdata":je(Ge,"oncdata",Ge.cdata),Ge.cdata="";break;case"script":je(Ge,"onscript",Ge.script),Ge.script="";break;default:Qe(Ge,"Max buffer length exceeded: "+o[Ye])}Pe=Math.max(Pe,St)}var ft=Y.MAX_BUFFER_LENGTH-Pe;Ge.bufferCheckPosition=ft+Ge.position}(d),d},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var m;Ie(m=this),m.cdata!==""&&(je(m,"oncdata",m.cdata),m.cdata=""),m.script!==""&&(je(m,"onscript",m.script),m.script="")}};try{A=S(182).Stream}catch{A=function(){}}var _=Y.EVENTS.filter(function(m){return m!=="error"&&m!=="end"});function E(m,d){if(!(this instanceof E))return new E(m,d);A.apply(this),this._parser=new i(m,d),this.writable=!0,this.readable=!0;var b=this;this._parser.onend=function(){b.emit("end")},this._parser.onerror=function(C){b.emit("error",C),b._parser.error=null},this._decoder=null,_.forEach(function(C){Object.defineProperty(b,"on"+C,{get:function(){return b._parser["on"+C]},set:function(re){if(!re)return b.removeAllListeners(C),b._parser["on"+C]=re,re;b.on(C,re)},enumerable:!0,configurable:!1})})}E.prototype=Object.create(A.prototype,{constructor:{value:E}}),E.prototype.write=function(m){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(m)){if(!this._decoder){var d=S(7503).s;this._decoder=new d("utf8")}m=this._decoder.write(m)}return this._parser.write(m.toString()),this.emit("data",m),!0},E.prototype.end=function(m){return m&&m.length&&this.write(m),this._parser.end(),!0},E.prototype.on=function(m,d){var b=this;return b._parser["on"+m]||_.indexOf(m)===-1||(b._parser["on"+m]=function(){var C=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);C.splice(0,0,m),b.emit.apply(b,C)}),A.prototype.on.call(b,m,d)};var f=`\r
	 `,R="0124356789",y="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=`'"`,l=f+">",p="http://www.w3.org/XML/1998/namespace",N="http://www.w3.org/2000/xmlns/",U={xml:p,xmlns:N};f=ne(f),R=ne(R),y=ne(y);var q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,F=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,oe=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,x=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function ne(m){return m.split("").reduce(function(d,b){return d[b]=!0,d},{})}function de(m,d){return function(b){return Object.prototype.toString.call(b)==="[object RegExp]"}(m)?!!d.match(m):m[d]}function $(m,d){return!de(m,d)}r=ne(r),l=ne(l);var ue,he,Ne,ae=0;for(var we in Y.STATE={BEGIN:ae++,BEGIN_WHITESPACE:ae++,TEXT:ae++,TEXT_ENTITY:ae++,OPEN_WAKA:ae++,SGML_DECL:ae++,SGML_DECL_QUOTED:ae++,DOCTYPE:ae++,DOCTYPE_QUOTED:ae++,DOCTYPE_DTD:ae++,DOCTYPE_DTD_QUOTED:ae++,COMMENT_STARTING:ae++,COMMENT:ae++,COMMENT_ENDING:ae++,COMMENT_ENDED:ae++,CDATA:ae++,CDATA_ENDING:ae++,CDATA_ENDING_2:ae++,PROC_INST:ae++,PROC_INST_BODY:ae++,PROC_INST_ENDING:ae++,OPEN_TAG:ae++,OPEN_TAG_SLASH:ae++,ATTRIB:ae++,ATTRIB_NAME:ae++,ATTRIB_NAME_SAW_WHITE:ae++,ATTRIB_VALUE:ae++,ATTRIB_VALUE_QUOTED:ae++,ATTRIB_VALUE_CLOSED:ae++,ATTRIB_VALUE_UNQUOTED:ae++,ATTRIB_VALUE_ENTITY_Q:ae++,ATTRIB_VALUE_ENTITY_U:ae++,CLOSE_TAG:ae++,CLOSE_TAG_SAW_WHITE:ae++,SCRIPT:ae++,SCRIPT_ENDING:ae++},Y.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},Y.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(Y.ENTITIES).forEach(function(m){var d=Y.ENTITIES[m],b=typeof d=="number"?String.fromCharCode(d):d;Y.ENTITIES[m]=b}),Y.STATE)Y.STATE[Y.STATE[we]]=we;function Me(m,d,b){m[d]&&m[d](b)}function je(m,d,b){m.textNode&&Ie(m),Me(m,d,b)}function Ie(m){m.textNode=Le(m.opt,m.textNode),m.textNode&&Me(m,"ontext",m.textNode),m.textNode=""}function Le(m,d){return m.trim&&(d=d.trim()),m.normalize&&(d=d.replace(/\s+/g," ")),d}function Qe(m,d){return Ie(m),m.trackPosition&&(d+=`
Line: `+m.line+`
Column: `+m.column+`
Char: `+m.c),d=new Error(d),m.error=d,Me(m,"onerror",d),m}function nt(m){return m.sawRoot&&!m.closedRoot&&Re(m,"Unclosed root tag"),m.state!==ae.BEGIN&&m.state!==ae.BEGIN_WHITESPACE&&m.state!==ae.TEXT&&Qe(m,"Unexpected end"),Ie(m),m.c="",m.closed=!0,Me(m,"onend"),i.call(m,m.strict,m.opt),m}function Re(m,d){if(typeof m!="object"||!(m instanceof i))throw new Error("bad call to strictFail");m.strict&&Qe(m,d)}function Fe(m){m.strict||(m.tagName=m.tagName[m.looseCase]());var d=m.tags[m.tags.length-1]||m,b=m.tag={name:m.tagName,attributes:{}};m.opt.xmlns&&(b.ns=d.ns),m.attribList.length=0,je(m,"onopentagstart",b)}function Tt(m,d){var b=m.indexOf(":")<0?["",m]:m.split(":"),C=b[0],re=b[1];return d&&m==="xmlns"&&(C="xmlns",re=""),{prefix:C,local:re}}function vt(m){if(m.strict||(m.attribName=m.attribName[m.looseCase]()),m.attribList.indexOf(m.attribName)!==-1||m.tag.attributes.hasOwnProperty(m.attribName))m.attribName=m.attribValue="";else{if(m.opt.xmlns){var d=Tt(m.attribName,!0),b=d.prefix,C=d.local;if(b==="xmlns")if(C==="xml"&&m.attribValue!==p)Re(m,"xml: prefix must be bound to "+p+`
Actual: `+m.attribValue);else if(C==="xmlns"&&m.attribValue!==N)Re(m,"xmlns: prefix must be bound to "+N+`
Actual: `+m.attribValue);else{var re=m.tag,te=m.tags[m.tags.length-1]||m;re.ns===te.ns&&(re.ns=Object.create(te.ns)),re.ns[C]=m.attribValue}m.attribList.push([m.attribName,m.attribValue])}else m.tag.attributes[m.attribName]=m.attribValue,je(m,"onattribute",{name:m.attribName,value:m.attribValue});m.attribName=m.attribValue=""}}function ze(m,d){if(m.opt.xmlns){var b=m.tag,C=Tt(m.tagName);b.prefix=C.prefix,b.local=C.local,b.uri=b.ns[C.prefix]||"",b.prefix&&!b.uri&&(Re(m,"Unbound namespace prefix: "+JSON.stringify(m.tagName)),b.uri=C.prefix);var re=m.tags[m.tags.length-1]||m;b.ns&&re.ns!==b.ns&&Object.keys(b.ns).forEach(function(zt){je(m,"onopennamespace",{prefix:zt,uri:b.ns[zt]})});for(var te=0,De=m.attribList.length;te<De;te++){var tt=m.attribList[te],Ge=tt[0],Be=tt[1],Pe=Tt(Ge,!0),Ye=Pe.prefix,ot=Pe.local,St=Ye===""?"":b.ns[Ye]||"",ft={name:Ge,value:Be,prefix:Ye,local:ot,uri:St};Ye&&Ye!=="xmlns"&&!St&&(Re(m,"Unbound namespace prefix: "+JSON.stringify(Ye)),ft.uri=Ye),m.tag.attributes[Ge]=ft,je(m,"onattribute",ft)}m.attribList.length=0}m.tag.isSelfClosing=!!d,m.sawRoot=!0,m.tags.push(m.tag),je(m,"onopentag",m.tag),d||(m.noscript||m.tagName.toLowerCase()!=="script"?m.state=ae.TEXT:m.state=ae.SCRIPT,m.tag=null,m.tagName=""),m.attribName=m.attribValue="",m.attribList.length=0}function at(m){if(!m.tagName)return Re(m,"Weird empty close tag."),m.textNode+="</>",void(m.state=ae.TEXT);if(m.script){if(m.tagName!=="script")return m.script+="</"+m.tagName+">",m.tagName="",void(m.state=ae.SCRIPT);je(m,"onscript",m.script),m.script=""}var d=m.tags.length,b=m.tagName;m.strict||(b=b[m.looseCase]());for(var C=b;d--&&m.tags[d].name!==C;)Re(m,"Unexpected close tag");if(d<0)return Re(m,"Unmatched closing tag: "+m.tagName),m.textNode+="</"+m.tagName+">",void(m.state=ae.TEXT);m.tagName=b;for(var re=m.tags.length;re-- >d;){var te=m.tag=m.tags.pop();m.tagName=m.tag.name,je(m,"onclosetag",m.tagName);var De={};for(var tt in te.ns)De[tt]=te.ns[tt];var Ge=m.tags[m.tags.length-1]||m;m.opt.xmlns&&te.ns!==Ge.ns&&Object.keys(te.ns).forEach(function(Be){var Pe=te.ns[Be];je(m,"onclosenamespace",{prefix:Be,uri:Pe})})}d===0&&(m.closedRoot=!0),m.tagName=m.attribValue=m.attribName="",m.attribList.length=0,m.state=ae.TEXT}function Te(m){var d,b=m.entity,C=b.toLowerCase(),re="";return m.ENTITIES[b]?m.ENTITIES[b]:m.ENTITIES[C]?m.ENTITIES[C]:((b=C).charAt(0)==="#"&&(b.charAt(1)==="x"?(b=b.slice(2),re=(d=parseInt(b,16)).toString(16)):(b=b.slice(1),re=(d=parseInt(b,10)).toString(10))),b=b.replace(/^0+/,""),re.toLowerCase()!==b?(Re(m,"Invalid character entity"),"&"+m.entity+";"):String.fromCodePoint(d))}function Ae(m,d){d==="<"?(m.state=ae.OPEN_WAKA,m.startTagPosition=m.position):$(f,d)&&(Re(m,"Non-whitespace before first tag."),m.textNode=d,m.state=ae.TEXT)}function He(m,d){var b="";return d<m.length&&(b=m.charAt(d)),b}ae=Y.STATE,String.fromCodePoint||(ue=String.fromCharCode,he=Math.floor,Ne=function(){var m,d,b=16384,C=[],re=-1,te=arguments.length;if(!te)return"";for(var De="";++re<te;){var tt=Number(arguments[re]);if(!isFinite(tt)||tt<0||tt>1114111||he(tt)!==tt)throw RangeError("Invalid code point: "+tt);tt<=65535?C.push(tt):(m=55296+((tt-=65536)>>10),d=tt%1024+56320,C.push(m,d)),(re+1===te||C.length>b)&&(De+=ue.apply(null,C),C.length=0)}return De},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:Ne,configurable:!0,writable:!0}):String.fromCodePoint=Ne)})(H)},182:function(Z,H,S){Z.exports=A;var Y=S(1159).EventEmitter;function A(){Y.call(this)}S(1765)(A,Y),A.Readable=S(2846),A.Writable=S(8318),A.Duplex=S(6138),A.Transform=S(9798),A.PassThrough=S(5472),A.finished=S(8800),A.pipeline=S(7295),A.Stream=A,A.prototype.pipe=function(o,i){var _=this;function E(N){o.writable&&o.write(N)===!1&&_.pause&&_.pause()}function f(){_.readable&&_.resume&&_.resume()}_.on("data",E),o.on("drain",f),o._isStdio||i&&i.end===!1||(_.on("end",y),_.on("close",r));var R=!1;function y(){R||(R=!0,o.end())}function r(){R||(R=!0,typeof o.destroy=="function"&&o.destroy())}function l(N){if(p(),Y.listenerCount(this,"error")===0)throw N}function p(){_.removeListener("data",E),o.removeListener("drain",f),_.removeListener("end",y),_.removeListener("close",r),_.removeListener("error",l),o.removeListener("error",l),_.removeListener("end",p),_.removeListener("close",p),o.removeListener("close",p)}return _.on("error",l),o.on("error",l),_.on("end",p),_.on("close",p),o.on("close",p),o.emit("pipe",_),o}},1765:function(Z){typeof Object.create=="function"?Z.exports=function(H,S){S&&(H.super_=S,H.prototype=Object.create(S.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}))}:Z.exports=function(H,S){if(S){H.super_=S;var Y=function(){};Y.prototype=S.prototype,H.prototype=new Y,H.prototype.constructor=H}}},3690:function(Z){var H={};function S(A,o,i){i||(i=Error);var _=function(E){var f,R;function y(r,l,p){return E.call(this,function(N,U,q){return typeof o=="string"?o:o(N,U,q)}(r,l,p))||this}return R=E,(f=y).prototype=Object.create(R.prototype),f.prototype.constructor=f,f.__proto__=R,y}(i);_.prototype.name=i.name,_.prototype.code=A,H[A]=_}function Y(A,o){if(Array.isArray(A)){var i=A.length;return A=A.map(function(_){return String(_)}),i>2?"one of ".concat(o," ").concat(A.slice(0,i-1).join(", "),", or ")+A[i-1]:i===2?"one of ".concat(o," ").concat(A[0]," or ").concat(A[1]):"of ".concat(o," ").concat(A[0])}return"of ".concat(o," ").concat(String(A))}S("ERR_INVALID_OPT_VALUE",function(A,o){return'The value "'+o+'" is invalid for option "'+A+'"'},TypeError),S("ERR_INVALID_ARG_TYPE",function(A,o,i){var _,E,f,R,y;if(typeof o=="string"&&(E="not ",o.substr(0,E.length)===E)?(_="must not be",o=o.replace(/^not /,"")):_="must be",function(l,p,N){return(N===void 0||N>l.length)&&(N=l.length),l.substring(N-p.length,N)===p}(A," argument"))f="The ".concat(A," ").concat(_," ").concat(Y(o,"type"));else{var r=(typeof y!="number"&&(y=0),y+1>(R=A).length||R.indexOf(".",y)===-1?"argument":"property");f='The "'.concat(A,'" ').concat(r," ").concat(_," ").concat(Y(o,"type"))}return f+". Received type ".concat(typeof i)},TypeError),S("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),S("ERR_METHOD_NOT_IMPLEMENTED",function(A){return"The "+A+" method is not implemented"}),S("ERR_STREAM_PREMATURE_CLOSE","Premature close"),S("ERR_STREAM_DESTROYED",function(A){return"Cannot call "+A+" after a stream was destroyed"}),S("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),S("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),S("ERR_STREAM_WRITE_AFTER_END","write after end"),S("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),S("ERR_UNKNOWN_ENCODING",function(A){return"Unknown encoding: "+A},TypeError),S("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Z.exports.q=H},6138:function(Z,H,S){var Y=Object.keys||function(r){var l=[];for(var p in r)l.push(p);return l};Z.exports=f;var A=S(2846),o=S(8318);S(1765)(f,A);for(var i=Y(o.prototype),_=0;_<i.length;_++){var E=i[_];f.prototype[E]||(f.prototype[E]=o.prototype[E])}function f(r){if(!(this instanceof f))return new f(r);A.call(this,r),o.call(this,r),this.allowHalfOpen=!0,r&&(r.readable===!1&&(this.readable=!1),r.writable===!1&&(this.writable=!1),r.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",R)))}function R(){this._writableState.ended||process.nextTick(y,this)}function y(r){r.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(r){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=r,this._writableState.destroyed=r)}})},5472:function(Z,H,S){Z.exports=A;var Y=S(9798);function A(o){if(!(this instanceof A))return new A(o);Y.call(this,o)}S(1765)(A,Y),A.prototype._transform=function(o,i,_){_(null,o)}},2846:function(Z,H,S){var Y;Z.exports=ue,ue.ReadableState=$,S(1159).EventEmitter;var A,o=function(Te,Ae){return Te.listeners(Ae).length},i=S(9299),_=S(1549).Buffer,E=S.g.Uint8Array||function(){},f=S(964);A=f&&f.debuglog?f.debuglog("stream"):function(){};var R,y,r,l=S(8393),p=S(6163),N=S(7269).getHighWaterMark,U=S(3690).q,q=U.ERR_INVALID_ARG_TYPE,F=U.ERR_STREAM_PUSH_AFTER_EOF,oe=U.ERR_METHOD_NOT_IMPLEMENTED,x=U.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;S(1765)(ue,i);var ne=p.errorOrDestroy,de=["error","close","destroy","pause","resume"];function $(Te,Ae,He){Y=Y||S(6138),Te=Te||{},typeof He!="boolean"&&(He=Ae instanceof Y),this.objectMode=!!Te.objectMode,He&&(this.objectMode=this.objectMode||!!Te.readableObjectMode),this.highWaterMark=N(this,Te,"readableHighWaterMark",He),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Te.emitClose!==!1,this.autoDestroy=!!Te.autoDestroy,this.destroyed=!1,this.defaultEncoding=Te.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Te.encoding&&(R||(R=S(7503).s),this.decoder=new R(Te.encoding),this.encoding=Te.encoding)}function ue(Te){if(Y=Y||S(6138),!(this instanceof ue))return new ue(Te);var Ae=this instanceof Y;this._readableState=new $(Te,this,Ae),this.readable=!0,Te&&(typeof Te.read=="function"&&(this._read=Te.read),typeof Te.destroy=="function"&&(this._destroy=Te.destroy)),i.call(this)}function he(Te,Ae,He,m,d){A("readableAddChunk",Ae);var b,C=Te._readableState;if(Ae===null)C.reading=!1,function(re,te){if(A("onEofChunk"),!te.ended){if(te.decoder){var De=te.decoder.end();De&&De.length&&(te.buffer.push(De),te.length+=te.objectMode?1:De.length)}te.ended=!0,te.sync?Me(re):(te.needReadable=!1,te.emittedReadable||(te.emittedReadable=!0,je(re)))}}(Te,C);else if(d||(b=function(re,te){var De,tt;return tt=te,_.isBuffer(tt)||tt instanceof E||typeof te=="string"||te===void 0||re.objectMode||(De=new q("chunk",["string","Buffer","Uint8Array"],te)),De}(C,Ae)),b)ne(Te,b);else if(C.objectMode||Ae&&Ae.length>0)if(typeof Ae=="string"||C.objectMode||Object.getPrototypeOf(Ae)===_.prototype||(Ae=function(re){return _.from(re)}(Ae)),m)C.endEmitted?ne(Te,new x):Ne(Te,C,Ae,!0);else if(C.ended)ne(Te,new F);else{if(C.destroyed)return!1;C.reading=!1,C.decoder&&!He?(Ae=C.decoder.write(Ae),C.objectMode||Ae.length!==0?Ne(Te,C,Ae,!1):Ie(Te,C)):Ne(Te,C,Ae,!1)}else m||(C.reading=!1,Ie(Te,C));return!C.ended&&(C.length<C.highWaterMark||C.length===0)}function Ne(Te,Ae,He,m){Ae.flowing&&Ae.length===0&&!Ae.sync?(Ae.awaitDrain=0,Te.emit("data",He)):(Ae.length+=Ae.objectMode?1:He.length,m?Ae.buffer.unshift(He):Ae.buffer.push(He),Ae.needReadable&&Me(Te)),Ie(Te,Ae)}Object.defineProperty(ue.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Te){this._readableState&&(this._readableState.destroyed=Te)}}),ue.prototype.destroy=p.destroy,ue.prototype._undestroy=p.undestroy,ue.prototype._destroy=function(Te,Ae){Ae(Te)},ue.prototype.push=function(Te,Ae){var He,m=this._readableState;return m.objectMode?He=!0:typeof Te=="string"&&((Ae=Ae||m.defaultEncoding)!==m.encoding&&(Te=_.from(Te,Ae),Ae=""),He=!0),he(this,Te,Ae,!1,He)},ue.prototype.unshift=function(Te){return he(this,Te,null,!0,!1)},ue.prototype.isPaused=function(){return this._readableState.flowing===!1},ue.prototype.setEncoding=function(Te){R||(R=S(7503).s);var Ae=new R(Te);this._readableState.decoder=Ae,this._readableState.encoding=this._readableState.decoder.encoding;for(var He=this._readableState.buffer.head,m="";He!==null;)m+=Ae.write(He.data),He=He.next;return this._readableState.buffer.clear(),m!==""&&this._readableState.buffer.push(m),this._readableState.length=m.length,this};var ae=1073741824;function we(Te,Ae){return Te<=0||Ae.length===0&&Ae.ended?0:Ae.objectMode?1:Te!=Te?Ae.flowing&&Ae.length?Ae.buffer.head.data.length:Ae.length:(Te>Ae.highWaterMark&&(Ae.highWaterMark=function(He){return He>=ae?He=ae:(He--,He|=He>>>1,He|=He>>>2,He|=He>>>4,He|=He>>>8,He|=He>>>16,He++),He}(Te)),Te<=Ae.length?Te:Ae.ended?Ae.length:(Ae.needReadable=!0,0))}function Me(Te){var Ae=Te._readableState;A("emitReadable",Ae.needReadable,Ae.emittedReadable),Ae.needReadable=!1,Ae.emittedReadable||(A("emitReadable",Ae.flowing),Ae.emittedReadable=!0,process.nextTick(je,Te))}function je(Te){var Ae=Te._readableState;A("emitReadable_",Ae.destroyed,Ae.length,Ae.ended),Ae.destroyed||!Ae.length&&!Ae.ended||(Te.emit("readable"),Ae.emittedReadable=!1),Ae.needReadable=!Ae.flowing&&!Ae.ended&&Ae.length<=Ae.highWaterMark,Fe(Te)}function Ie(Te,Ae){Ae.readingMore||(Ae.readingMore=!0,process.nextTick(Le,Te,Ae))}function Le(Te,Ae){for(;!Ae.reading&&!Ae.ended&&(Ae.length<Ae.highWaterMark||Ae.flowing&&Ae.length===0);){var He=Ae.length;if(A("maybeReadMore read 0"),Te.read(0),He===Ae.length)break}Ae.readingMore=!1}function Qe(Te){var Ae=Te._readableState;Ae.readableListening=Te.listenerCount("readable")>0,Ae.resumeScheduled&&!Ae.paused?Ae.flowing=!0:Te.listenerCount("data")>0&&Te.resume()}function nt(Te){A("readable nexttick read 0"),Te.read(0)}function Re(Te,Ae){A("resume",Ae.reading),Ae.reading||Te.read(0),Ae.resumeScheduled=!1,Te.emit("resume"),Fe(Te),Ae.flowing&&!Ae.reading&&Te.read(0)}function Fe(Te){var Ae=Te._readableState;for(A("flow",Ae.flowing);Ae.flowing&&Te.read()!==null;);}function Tt(Te,Ae){return Ae.length===0?null:(Ae.objectMode?He=Ae.buffer.shift():!Te||Te>=Ae.length?(He=Ae.decoder?Ae.buffer.join(""):Ae.buffer.length===1?Ae.buffer.first():Ae.buffer.concat(Ae.length),Ae.buffer.clear()):He=Ae.buffer.consume(Te,Ae.decoder),He);var He}function vt(Te){var Ae=Te._readableState;A("endReadable",Ae.endEmitted),Ae.endEmitted||(Ae.ended=!0,process.nextTick(ze,Ae,Te))}function ze(Te,Ae){if(A("endReadableNT",Te.endEmitted,Te.length),!Te.endEmitted&&Te.length===0&&(Te.endEmitted=!0,Ae.readable=!1,Ae.emit("end"),Te.autoDestroy)){var He=Ae._writableState;(!He||He.autoDestroy&&He.finished)&&Ae.destroy()}}function at(Te,Ae){for(var He=0,m=Te.length;He<m;He++)if(Te[He]===Ae)return He;return-1}ue.prototype.read=function(Te){A("read",Te),Te=parseInt(Te,10);var Ae=this._readableState,He=Te;if(Te!==0&&(Ae.emittedReadable=!1),Te===0&&Ae.needReadable&&((Ae.highWaterMark!==0?Ae.length>=Ae.highWaterMark:Ae.length>0)||Ae.ended))return A("read: emitReadable",Ae.length,Ae.ended),Ae.length===0&&Ae.ended?vt(this):Me(this),null;if((Te=we(Te,Ae))===0&&Ae.ended)return Ae.length===0&&vt(this),null;var m,d=Ae.needReadable;return A("need readable",d),(Ae.length===0||Ae.length-Te<Ae.highWaterMark)&&A("length less than watermark",d=!0),Ae.ended||Ae.reading?A("reading or ended",d=!1):d&&(A("do read"),Ae.reading=!0,Ae.sync=!0,Ae.length===0&&(Ae.needReadable=!0),this._read(Ae.highWaterMark),Ae.sync=!1,Ae.reading||(Te=we(He,Ae))),(m=Te>0?Tt(Te,Ae):null)===null?(Ae.needReadable=Ae.length<=Ae.highWaterMark,Te=0):(Ae.length-=Te,Ae.awaitDrain=0),Ae.length===0&&(Ae.ended||(Ae.needReadable=!0),He!==Te&&Ae.ended&&vt(this)),m!==null&&this.emit("data",m),m},ue.prototype._read=function(Te){ne(this,new oe("_read()"))},ue.prototype.pipe=function(Te,Ae){var He=this,m=this._readableState;switch(m.pipesCount){case 0:m.pipes=Te;break;case 1:m.pipes=[m.pipes,Te];break;default:m.pipes.push(Te)}m.pipesCount+=1,A("pipe count=%d opts=%j",m.pipesCount,Ae);var d=Ae&&Ae.end===!1||Te===process.stdout||Te===process.stderr?Be:b;function b(){A("onend"),Te.end()}m.endEmitted?process.nextTick(d):He.once("end",d),Te.on("unpipe",function Pe(Ye,ot){A("onunpipe"),Ye===He&&ot&&ot.hasUnpiped===!1&&(ot.hasUnpiped=!0,A("cleanup"),Te.removeListener("close",tt),Te.removeListener("finish",Ge),Te.removeListener("drain",C),Te.removeListener("error",De),Te.removeListener("unpipe",Pe),He.removeListener("end",b),He.removeListener("end",Be),He.removeListener("data",te),re=!0,!m.awaitDrain||Te._writableState&&!Te._writableState.needDrain||C())});var C=function(Pe){return function(){var Ye=Pe._readableState;A("pipeOnDrain",Ye.awaitDrain),Ye.awaitDrain&&Ye.awaitDrain--,Ye.awaitDrain===0&&o(Pe,"data")&&(Ye.flowing=!0,Fe(Pe))}}(He);Te.on("drain",C);var re=!1;function te(Pe){A("ondata");var Ye=Te.write(Pe);A("dest.write",Ye),Ye===!1&&((m.pipesCount===1&&m.pipes===Te||m.pipesCount>1&&at(m.pipes,Te)!==-1)&&!re&&(A("false write response, pause",m.awaitDrain),m.awaitDrain++),He.pause())}function De(Pe){A("onerror",Pe),Be(),Te.removeListener("error",De),o(Te,"error")===0&&ne(Te,Pe)}function tt(){Te.removeListener("finish",Ge),Be()}function Ge(){A("onfinish"),Te.removeListener("close",tt),Be()}function Be(){A("unpipe"),He.unpipe(Te)}return He.on("data",te),function(Pe,Ye,ot){if(typeof Pe.prependListener=="function")return Pe.prependListener(Ye,ot);Pe._events&&Pe._events[Ye]?Array.isArray(Pe._events[Ye])?Pe._events[Ye].unshift(ot):Pe._events[Ye]=[ot,Pe._events[Ye]]:Pe.on(Ye,ot)}(Te,"error",De),Te.once("close",tt),Te.once("finish",Ge),Te.emit("pipe",He),m.flowing||(A("pipe resume"),He.resume()),Te},ue.prototype.unpipe=function(Te){var Ae=this._readableState,He={hasUnpiped:!1};if(Ae.pipesCount===0)return this;if(Ae.pipesCount===1)return Te&&Te!==Ae.pipes||(Te||(Te=Ae.pipes),Ae.pipes=null,Ae.pipesCount=0,Ae.flowing=!1,Te&&Te.emit("unpipe",this,He)),this;if(!Te){var m=Ae.pipes,d=Ae.pipesCount;Ae.pipes=null,Ae.pipesCount=0,Ae.flowing=!1;for(var b=0;b<d;b++)m[b].emit("unpipe",this,{hasUnpiped:!1});return this}var C=at(Ae.pipes,Te);return C===-1||(Ae.pipes.splice(C,1),Ae.pipesCount-=1,Ae.pipesCount===1&&(Ae.pipes=Ae.pipes[0]),Te.emit("unpipe",this,He)),this},ue.prototype.on=function(Te,Ae){var He=i.prototype.on.call(this,Te,Ae),m=this._readableState;return Te==="data"?(m.readableListening=this.listenerCount("readable")>0,m.flowing!==!1&&this.resume()):Te==="readable"&&(m.endEmitted||m.readableListening||(m.readableListening=m.needReadable=!0,m.flowing=!1,m.emittedReadable=!1,A("on readable",m.length,m.reading),m.length?Me(this):m.reading||process.nextTick(nt,this))),He},ue.prototype.addListener=ue.prototype.on,ue.prototype.removeListener=function(Te,Ae){var He=i.prototype.removeListener.call(this,Te,Ae);return Te==="readable"&&process.nextTick(Qe,this),He},ue.prototype.removeAllListeners=function(Te){var Ae=i.prototype.removeAllListeners.apply(this,arguments);return Te!=="readable"&&Te!==void 0||process.nextTick(Qe,this),Ae},ue.prototype.resume=function(){var Te=this._readableState;return Te.flowing||(A("resume"),Te.flowing=!Te.readableListening,function(Ae,He){He.resumeScheduled||(He.resumeScheduled=!0,process.nextTick(Re,Ae,He))}(this,Te)),Te.paused=!1,this},ue.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},ue.prototype.wrap=function(Te){var Ae=this,He=this._readableState,m=!1;for(var d in Te.on("end",function(){if(A("wrapped end"),He.decoder&&!He.ended){var C=He.decoder.end();C&&C.length&&Ae.push(C)}Ae.push(null)}),Te.on("data",function(C){A("wrapped data"),He.decoder&&(C=He.decoder.write(C)),He.objectMode&&C==null||(He.objectMode||C&&C.length)&&(Ae.push(C)||(m=!0,Te.pause()))}),Te)this[d]===void 0&&typeof Te[d]=="function"&&(this[d]=function(C){return function(){return Te[C].apply(Te,arguments)}}(d));for(var b=0;b<de.length;b++)Te.on(de[b],this.emit.bind(this,de[b]));return this._read=function(C){A("wrapped _read",C),m&&(m=!1,Te.resume())},this},typeof Symbol=="function"&&(ue.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=S(7299)),y(this)}),Object.defineProperty(ue.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ue.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ue.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Te){this._readableState&&(this._readableState.flowing=Te)}}),ue._fromList=Tt,Object.defineProperty(ue.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(ue.from=function(Te,Ae){return r===void 0&&(r=S(6233)),r(ue,Te,Ae)})},9798:function(Z,H,S){Z.exports=R;var Y=S(3690).q,A=Y.ERR_METHOD_NOT_IMPLEMENTED,o=Y.ERR_MULTIPLE_CALLBACK,i=Y.ERR_TRANSFORM_ALREADY_TRANSFORMING,_=Y.ERR_TRANSFORM_WITH_LENGTH_0,E=S(6138);function f(l,p){var N=this._transformState;N.transforming=!1;var U=N.writecb;if(U===null)return this.emit("error",new o);N.writechunk=null,N.writecb=null,p!=null&&this.push(p),U(l);var q=this._readableState;q.reading=!1,(q.needReadable||q.length<q.highWaterMark)&&this._read(q.highWaterMark)}function R(l){if(!(this instanceof R))return new R(l);E.call(this,l),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",y)}function y(){var l=this;typeof this._flush!="function"||this._readableState.destroyed?r(this,null,null):this._flush(function(p,N){r(l,p,N)})}function r(l,p,N){if(p)return l.emit("error",p);if(N!=null&&l.push(N),l._writableState.length)throw new _;if(l._transformState.transforming)throw new i;return l.push(null)}S(1765)(R,E),R.prototype.push=function(l,p){return this._transformState.needTransform=!1,E.prototype.push.call(this,l,p)},R.prototype._transform=function(l,p,N){N(new A("_transform()"))},R.prototype._write=function(l,p,N){var U=this._transformState;if(U.writecb=N,U.writechunk=l,U.writeencoding=p,!U.transforming){var q=this._readableState;(U.needTransform||q.needReadable||q.length<q.highWaterMark)&&this._read(q.highWaterMark)}},R.prototype._read=function(l){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},R.prototype._destroy=function(l,p){E.prototype._destroy.call(this,l,function(N){p(N)})}},8318:function(Z,H,S){function Y(Ie){var Le=this;this.next=null,this.entry=null,this.finish=function(){(function(Qe,nt,Re){var Fe=Qe.entry;for(Qe.entry=null;Fe;){var Tt=Fe.callback;nt.pendingcb--,Tt(void 0),Fe=Fe.next}nt.corkedRequestsFree.next=Qe})(Le,Ie)}}var A;Z.exports=ue,ue.WritableState=$;var o,i={deprecate:S(7839)},_=S(9299),E=S(1549).Buffer,f=S.g.Uint8Array||function(){},R=S(6163),y=S(7269).getHighWaterMark,r=S(3690).q,l=r.ERR_INVALID_ARG_TYPE,p=r.ERR_METHOD_NOT_IMPLEMENTED,N=r.ERR_MULTIPLE_CALLBACK,U=r.ERR_STREAM_CANNOT_PIPE,q=r.ERR_STREAM_DESTROYED,F=r.ERR_STREAM_NULL_VALUES,oe=r.ERR_STREAM_WRITE_AFTER_END,x=r.ERR_UNKNOWN_ENCODING,ne=R.errorOrDestroy;function de(){}function $(Ie,Le,Qe){A=A||S(6138),Ie=Ie||{},typeof Qe!="boolean"&&(Qe=Le instanceof A),this.objectMode=!!Ie.objectMode,Qe&&(this.objectMode=this.objectMode||!!Ie.writableObjectMode),this.highWaterMark=y(this,Ie,"writableHighWaterMark",Qe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var nt=Ie.decodeStrings===!1;this.decodeStrings=!nt,this.defaultEncoding=Ie.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Re){(function(Fe,Tt){var vt=Fe._writableState,ze=vt.sync,at=vt.writecb;if(typeof at!="function")throw new N;if(function(Ae){Ae.writing=!1,Ae.writecb=null,Ae.length-=Ae.writelen,Ae.writelen=0}(vt),Tt)(function(Ae,He,m,d,b){--He.pendingcb,m?(process.nextTick(b,d),process.nextTick(je,Ae,He),Ae._writableState.errorEmitted=!0,ne(Ae,d)):(b(d),Ae._writableState.errorEmitted=!0,ne(Ae,d),je(Ae,He))})(Fe,vt,ze,Tt,at);else{var Te=we(vt)||Fe.destroyed;Te||vt.corked||vt.bufferProcessing||!vt.bufferedRequest||ae(Fe,vt),ze?process.nextTick(Ne,Fe,vt,Te,at):Ne(Fe,vt,Te,at)}})(Le,Re)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Ie.emitClose!==!1,this.autoDestroy=!!Ie.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Y(this)}function ue(Ie){var Le=this instanceof(A=A||S(6138));if(!Le&&!o.call(ue,this))return new ue(Ie);this._writableState=new $(Ie,this,Le),this.writable=!0,Ie&&(typeof Ie.write=="function"&&(this._write=Ie.write),typeof Ie.writev=="function"&&(this._writev=Ie.writev),typeof Ie.destroy=="function"&&(this._destroy=Ie.destroy),typeof Ie.final=="function"&&(this._final=Ie.final)),_.call(this)}function he(Ie,Le,Qe,nt,Re,Fe,Tt){Le.writelen=nt,Le.writecb=Tt,Le.writing=!0,Le.sync=!0,Le.destroyed?Le.onwrite(new q("write")):Qe?Ie._writev(Re,Le.onwrite):Ie._write(Re,Fe,Le.onwrite),Le.sync=!1}function Ne(Ie,Le,Qe,nt){Qe||function(Re,Fe){Fe.length===0&&Fe.needDrain&&(Fe.needDrain=!1,Re.emit("drain"))}(Ie,Le),Le.pendingcb--,nt(),je(Ie,Le)}function ae(Ie,Le){Le.bufferProcessing=!0;var Qe=Le.bufferedRequest;if(Ie._writev&&Qe&&Qe.next){var nt=Le.bufferedRequestCount,Re=new Array(nt),Fe=Le.corkedRequestsFree;Fe.entry=Qe;for(var Tt=0,vt=!0;Qe;)Re[Tt]=Qe,Qe.isBuf||(vt=!1),Qe=Qe.next,Tt+=1;Re.allBuffers=vt,he(Ie,Le,!0,Le.length,Re,"",Fe.finish),Le.pendingcb++,Le.lastBufferedRequest=null,Fe.next?(Le.corkedRequestsFree=Fe.next,Fe.next=null):Le.corkedRequestsFree=new Y(Le),Le.bufferedRequestCount=0}else{for(;Qe;){var ze=Qe.chunk,at=Qe.encoding,Te=Qe.callback;if(he(Ie,Le,!1,Le.objectMode?1:ze.length,ze,at,Te),Qe=Qe.next,Le.bufferedRequestCount--,Le.writing)break}Qe===null&&(Le.lastBufferedRequest=null)}Le.bufferedRequest=Qe,Le.bufferProcessing=!1}function we(Ie){return Ie.ending&&Ie.length===0&&Ie.bufferedRequest===null&&!Ie.finished&&!Ie.writing}function Me(Ie,Le){Ie._final(function(Qe){Le.pendingcb--,Qe&&ne(Ie,Qe),Le.prefinished=!0,Ie.emit("prefinish"),je(Ie,Le)})}function je(Ie,Le){var Qe=we(Le);if(Qe&&(function(Re,Fe){Fe.prefinished||Fe.finalCalled||(typeof Re._final!="function"||Fe.destroyed?(Fe.prefinished=!0,Re.emit("prefinish")):(Fe.pendingcb++,Fe.finalCalled=!0,process.nextTick(Me,Re,Fe)))}(Ie,Le),Le.pendingcb===0&&(Le.finished=!0,Ie.emit("finish"),Le.autoDestroy))){var nt=Ie._readableState;(!nt||nt.autoDestroy&&nt.endEmitted)&&Ie.destroy()}return Qe}S(1765)(ue,_),$.prototype.getBuffer=function(){for(var Ie=this.bufferedRequest,Le=[];Ie;)Le.push(Ie),Ie=Ie.next;return Le},function(){try{Object.defineProperty($.prototype,"buffer",{get:i.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(ue,Symbol.hasInstance,{value:function(Ie){return!!o.call(this,Ie)||this===ue&&Ie&&Ie._writableState instanceof $}})):o=function(Ie){return Ie instanceof this},ue.prototype.pipe=function(){ne(this,new U)},ue.prototype.write=function(Ie,Le,Qe){var nt,Re=this._writableState,Fe=!1,Tt=!Re.objectMode&&(nt=Ie,E.isBuffer(nt)||nt instanceof f);return Tt&&!E.isBuffer(Ie)&&(Ie=function(vt){return E.from(vt)}(Ie)),typeof Le=="function"&&(Qe=Le,Le=null),Tt?Le="buffer":Le||(Le=Re.defaultEncoding),typeof Qe!="function"&&(Qe=de),Re.ending?function(vt,ze){var at=new oe;ne(vt,at),process.nextTick(ze,at)}(this,Qe):(Tt||function(vt,ze,at,Te){var Ae;return at===null?Ae=new F:typeof at=="string"||ze.objectMode||(Ae=new l("chunk",["string","Buffer"],at)),!Ae||(ne(vt,Ae),process.nextTick(Te,Ae),!1)}(this,Re,Ie,Qe))&&(Re.pendingcb++,Fe=function(vt,ze,at,Te,Ae,He){if(!at){var m=function(re,te,De){return re.objectMode||re.decodeStrings===!1||typeof te!="string"||(te=E.from(te,De)),te}(ze,Te,Ae);Te!==m&&(at=!0,Ae="buffer",Te=m)}var d=ze.objectMode?1:Te.length;ze.length+=d;var b=ze.length<ze.highWaterMark;if(b||(ze.needDrain=!0),ze.writing||ze.corked){var C=ze.lastBufferedRequest;ze.lastBufferedRequest={chunk:Te,encoding:Ae,isBuf:at,callback:He,next:null},C?C.next=ze.lastBufferedRequest:ze.bufferedRequest=ze.lastBufferedRequest,ze.bufferedRequestCount+=1}else he(vt,ze,!1,d,Te,Ae,He);return b}(this,Re,Tt,Ie,Le,Qe)),Fe},ue.prototype.cork=function(){this._writableState.corked++},ue.prototype.uncork=function(){var Ie=this._writableState;Ie.corked&&(Ie.corked--,Ie.writing||Ie.corked||Ie.bufferProcessing||!Ie.bufferedRequest||ae(this,Ie))},ue.prototype.setDefaultEncoding=function(Ie){if(typeof Ie=="string"&&(Ie=Ie.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Ie+"").toLowerCase())>-1))throw new x(Ie);return this._writableState.defaultEncoding=Ie,this},Object.defineProperty(ue.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ue.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),ue.prototype._write=function(Ie,Le,Qe){Qe(new p("_write()"))},ue.prototype._writev=null,ue.prototype.end=function(Ie,Le,Qe){var nt=this._writableState;return typeof Ie=="function"?(Qe=Ie,Ie=null,Le=null):typeof Le=="function"&&(Qe=Le,Le=null),Ie!=null&&this.write(Ie,Le),nt.corked&&(nt.corked=1,this.uncork()),nt.ending||function(Re,Fe,Tt){Fe.ending=!0,je(Re,Fe),Tt&&(Fe.finished?process.nextTick(Tt):Re.once("finish",Tt)),Fe.ended=!0,Re.writable=!1}(this,nt,Qe),this},Object.defineProperty(ue.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ue.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Ie){this._writableState&&(this._writableState.destroyed=Ie)}}),ue.prototype.destroy=R.destroy,ue.prototype._undestroy=R.undestroy,ue.prototype._destroy=function(Ie,Le){Le(Ie)}},7299:function(Z,H,S){var Y;function A(F,oe,x){return oe in F?Object.defineProperty(F,oe,{value:x,enumerable:!0,configurable:!0,writable:!0}):F[oe]=x,F}var o=S(8800),i=Symbol("lastResolve"),_=Symbol("lastReject"),E=Symbol("error"),f=Symbol("ended"),R=Symbol("lastPromise"),y=Symbol("handlePromise"),r=Symbol("stream");function l(F,oe){return{value:F,done:oe}}function p(F){var oe=F[i];if(oe!==null){var x=F[r].read();x!==null&&(F[R]=null,F[i]=null,F[_]=null,oe(l(x,!1)))}}function N(F){process.nextTick(p,F)}var U=Object.getPrototypeOf(function(){}),q=Object.setPrototypeOf((A(Y={get stream(){return this[r]},next:function(){var F=this,oe=this[E];if(oe!==null)return Promise.reject(oe);if(this[f])return Promise.resolve(l(void 0,!0));if(this[r].destroyed)return new Promise(function($,ue){process.nextTick(function(){F[E]?ue(F[E]):$(l(void 0,!0))})});var x,ne=this[R];if(ne)x=new Promise(function($,ue){return function(he,Ne){$.then(function(){ue[f]?he(l(void 0,!0)):ue[y](he,Ne)},Ne)}}(ne,this));else{var de=this[r].read();if(de!==null)return Promise.resolve(l(de,!1));x=new Promise(this[y])}return this[R]=x,x}},Symbol.asyncIterator,function(){return this}),A(Y,"return",function(){var F=this;return new Promise(function(oe,x){F[r].destroy(null,function(ne){ne?x(ne):oe(l(void 0,!0))})})}),Y),U);Z.exports=function(F){var oe,x=Object.create(q,(A(oe={},r,{value:F,writable:!0}),A(oe,i,{value:null,writable:!0}),A(oe,_,{value:null,writable:!0}),A(oe,E,{value:null,writable:!0}),A(oe,f,{value:F._readableState.endEmitted,writable:!0}),A(oe,y,{value:function(ne,de){var $=x[r].read();$?(x[R]=null,x[i]=null,x[_]=null,ne(l($,!1))):(x[i]=ne,x[_]=de)},writable:!0}),oe));return x[R]=null,o(F,function(ne){if(ne&&ne.code!=="ERR_STREAM_PREMATURE_CLOSE"){var de=x[_];return de!==null&&(x[R]=null,x[i]=null,x[_]=null,de(ne)),void(x[E]=ne)}var $=x[i];$!==null&&(x[R]=null,x[i]=null,x[_]=null,$(l(void 0,!0))),x[f]=!0}),F.on("readable",N.bind(null,x)),x}},8393:function(Z,H,S){function Y(f,R){var y=Object.keys(f);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(f);R&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(f,l).enumerable})),y.push.apply(y,r)}return y}function A(f,R,y){return R in f?Object.defineProperty(f,R,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[R]=y,f}function o(f,R){for(var y=0;y<R.length;y++){var r=R[y];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(f,r.key,r)}}var i=S(1549).Buffer,_=S(9862).inspect,E=_&&_.custom||"inspect";Z.exports=function(){function f(){(function(r,l){if(!(r instanceof l))throw new TypeError("Cannot call a class as a function")})(this,f),this.head=null,this.tail=null,this.length=0}var R,y;return R=f,y=[{key:"push",value:function(r){var l={data:r,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}},{key:"unshift",value:function(r){var l={data:r,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var l=this.head,p=""+l.data;l=l.next;)p+=r+l.data;return p}},{key:"concat",value:function(r){if(this.length===0)return i.alloc(0);for(var l,p,N,U=i.allocUnsafe(r>>>0),q=this.head,F=0;q;)l=q.data,p=U,N=F,i.prototype.copy.call(l,p,N),F+=q.data.length,q=q.next;return U}},{key:"consume",value:function(r,l){var p;return r<this.head.data.length?(p=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):p=r===this.head.data.length?this.shift():l?this._getString(r):this._getBuffer(r),p}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var l=this.head,p=1,N=l.data;for(r-=N.length;l=l.next;){var U=l.data,q=r>U.length?U.length:r;if(q===U.length?N+=U:N+=U.slice(0,r),(r-=q)==0){q===U.length?(++p,l.next?this.head=l.next:this.head=this.tail=null):(this.head=l,l.data=U.slice(q));break}++p}return this.length-=p,N}},{key:"_getBuffer",value:function(r){var l=i.allocUnsafe(r),p=this.head,N=1;for(p.data.copy(l),r-=p.data.length;p=p.next;){var U=p.data,q=r>U.length?U.length:r;if(U.copy(l,l.length-r,0,q),(r-=q)==0){q===U.length?(++N,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=U.slice(q));break}++N}return this.length-=N,l}},{key:E,value:function(r,l){return _(this,function(p){for(var N=1;N<arguments.length;N++){var U=arguments[N]!=null?arguments[N]:{};N%2?Y(Object(U),!0).forEach(function(q){A(p,q,U[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(U)):Y(Object(U)).forEach(function(q){Object.defineProperty(p,q,Object.getOwnPropertyDescriptor(U,q))})}return p}({},l,{depth:0,customInspect:!1}))}}],y&&o(R.prototype,y),f}()},6163:function(Z){function H(A,o){Y(A,o),S(A)}function S(A){A._writableState&&!A._writableState.emitClose||A._readableState&&!A._readableState.emitClose||A.emit("close")}function Y(A,o){A.emit("error",o)}Z.exports={destroy:function(A,o){var i=this,_=this._readableState&&this._readableState.destroyed,E=this._writableState&&this._writableState.destroyed;return _||E?(o?o(A):A&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Y,this,A)):process.nextTick(Y,this,A)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(A||null,function(f){!o&&f?i._writableState?i._writableState.errorEmitted?process.nextTick(S,i):(i._writableState.errorEmitted=!0,process.nextTick(H,i,f)):process.nextTick(H,i,f):o?(process.nextTick(S,i),o(f)):process.nextTick(S,i)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(A,o){var i=A._readableState,_=A._writableState;i&&i.autoDestroy||_&&_.autoDestroy?A.destroy(o):A.emit("error",o)}}},8800:function(Z,H,S){var Y=S(3690).q.ERR_STREAM_PREMATURE_CLOSE;function A(){}Z.exports=function o(i,_,E){if(typeof _=="function")return o(i,null,_);_||(_={}),E=function(oe){var x=!1;return function(){if(!x){x=!0;for(var ne=arguments.length,de=new Array(ne),$=0;$<ne;$++)de[$]=arguments[$];oe.apply(this,de)}}}(E||A);var f=_.readable||_.readable!==!1&&i.readable,R=_.writable||_.writable!==!1&&i.writable,y=function(){i.writable||l()},r=i._writableState&&i._writableState.finished,l=function(){R=!1,r=!0,f||E.call(i)},p=i._readableState&&i._readableState.endEmitted,N=function(){f=!1,p=!0,R||E.call(i)},U=function(oe){E.call(i,oe)},q=function(){var oe;return f&&!p?(i._readableState&&i._readableState.ended||(oe=new Y),E.call(i,oe)):R&&!r?(i._writableState&&i._writableState.ended||(oe=new Y),E.call(i,oe)):void 0},F=function(){i.req.on("finish",l)};return function(oe){return oe.setHeader&&typeof oe.abort=="function"}(i)?(i.on("complete",l),i.on("abort",q),i.req?F():i.on("request",F)):R&&!i._writableState&&(i.on("end",y),i.on("close",y)),i.on("end",N),i.on("finish",l),_.error!==!1&&i.on("error",U),i.on("close",q),function(){i.removeListener("complete",l),i.removeListener("abort",q),i.removeListener("request",F),i.req&&i.req.removeListener("finish",l),i.removeListener("end",y),i.removeListener("close",y),i.removeListener("finish",l),i.removeListener("end",N),i.removeListener("error",U),i.removeListener("close",q)}}},6233:function(Z){Z.exports=function(){throw new Error("Readable.from is not available in the browser")}},7295:function(Z,H,S){var Y,A=S(3690).q,o=A.ERR_MISSING_ARGS,i=A.ERR_STREAM_DESTROYED;function _(r){if(r)throw r}function E(r,l,p,N){N=function(F){var oe=!1;return function(){oe||(oe=!0,F.apply(void 0,arguments))}}(N);var U=!1;r.on("close",function(){U=!0}),Y===void 0&&(Y=S(8800)),Y(r,{readable:l,writable:p},function(F){if(F)return N(F);U=!0,N()});var q=!1;return function(F){if(!U&&!q)return q=!0,function(oe){return oe.setHeader&&typeof oe.abort=="function"}(r)?r.abort():typeof r.destroy=="function"?r.destroy():void N(F||new i("pipe"))}}function f(r){r()}function R(r,l){return r.pipe(l)}function y(r){return r.length?typeof r[r.length-1]!="function"?_:r.pop():_}Z.exports=function(){for(var r=arguments.length,l=new Array(r),p=0;p<r;p++)l[p]=arguments[p];var N,U=y(l);if(Array.isArray(l[0])&&(l=l[0]),l.length<2)throw new o("streams");var q=l.map(function(F,oe){var x=oe<l.length-1;return E(F,x,oe>0,function(ne){N||(N=ne),ne&&q.forEach(f),x||(q.forEach(f),U(N))})});return l.reduce(R)}},7269:function(Z,H,S){var Y=S(3690).q.ERR_INVALID_OPT_VALUE;Z.exports={getHighWaterMark:function(A,o,i,_){var E=function(f,R,y){return f.highWaterMark!=null?f.highWaterMark:R?f[y]:null}(o,_,i);if(E!=null){if(!isFinite(E)||Math.floor(E)!==E||E<0)throw new Y(_?i:"highWaterMark",E);return Math.floor(E)}return A.objectMode?16:16384}}},9299:function(Z,H,S){Z.exports=S(1159).EventEmitter},7503:function(Z,H,S){var Y=S(8387).Buffer,A=Y.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(p){var N;switch(this.encoding=function(U){var q=function(F){if(!F)return"utf8";for(var oe;;)switch(F){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return F;default:if(oe)return;F=(""+F).toLowerCase(),oe=!0}}(U);if(typeof q!="string"&&(Y.isEncoding===A||!A(U)))throw new Error("Unknown encoding: "+U);return q||U}(p),this.encoding){case"utf16le":this.text=E,this.end=f,N=4;break;case"utf8":this.fillLast=_,N=4;break;case"base64":this.text=R,this.end=y,N=3;break;default:return this.write=r,void(this.end=l)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Y.allocUnsafe(N)}function i(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function _(p){var N=this.lastTotal-this.lastNeed,U=function(q,F,oe){if((192&F[0])!=128)return q.lastNeed=0,"";if(q.lastNeed>1&&F.length>1){if((192&F[1])!=128)return q.lastNeed=1,"";if(q.lastNeed>2&&F.length>2&&(192&F[2])!=128)return q.lastNeed=2,""}}(this,p);return U!==void 0?U:this.lastNeed<=p.length?(p.copy(this.lastChar,N,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,N,0,p.length),void(this.lastNeed-=p.length))}function E(p,N){if((p.length-N)%2==0){var U=p.toString("utf16le",N);if(U){var q=U.charCodeAt(U.length-1);if(q>=55296&&q<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],U.slice(0,-1)}return U}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",N,p.length-1)}function f(p){var N=p&&p.length?this.write(p):"";if(this.lastNeed){var U=this.lastTotal-this.lastNeed;return N+this.lastChar.toString("utf16le",0,U)}return N}function R(p,N){var U=(p.length-N)%3;return U===0?p.toString("base64",N):(this.lastNeed=3-U,this.lastTotal=3,U===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",N,p.length-U))}function y(p){var N=p&&p.length?this.write(p):"";return this.lastNeed?N+this.lastChar.toString("base64",0,3-this.lastNeed):N}function r(p){return p.toString(this.encoding)}function l(p){return p&&p.length?this.write(p):""}H.s=o,o.prototype.write=function(p){if(p.length===0)return"";var N,U;if(this.lastNeed){if((N=this.fillLast(p))===void 0)return"";U=this.lastNeed,this.lastNeed=0}else U=0;return U<p.length?N?N+this.text(p,U):this.text(p,U):N||""},o.prototype.end=function(p){var N=p&&p.length?this.write(p):"";return this.lastNeed?N+"":N},o.prototype.text=function(p,N){var U=function(F,oe,x){var ne=oe.length-1;if(ne<x)return 0;var de=i(oe[ne]);return de>=0?(de>0&&(F.lastNeed=de-1),de):--ne<x||de===-2?0:(de=i(oe[ne]))>=0?(de>0&&(F.lastNeed=de-2),de):--ne<x||de===-2?0:(de=i(oe[ne]))>=0?(de>0&&(de===2?de=0:F.lastNeed=de-3),de):0}(this,p,N);if(!this.lastNeed)return p.toString("utf8",N);this.lastTotal=U;var q=p.length-(U-this.lastNeed);return p.copy(this.lastChar,0,q),p.toString("utf8",N,q)},o.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},1067:function(Z,H,S){var Y;(function(A,o){var i="function",_="undefined",E="object",f="string",R="major",y="model",r="name",l="type",p="vendor",N="version",U="architecture",q="console",F="mobile",oe="tablet",x="smarttv",ne="wearable",de="embedded",$="Amazon",ue="Apple",he="ASUS",Ne="BlackBerry",ae="Browser",we="Chrome",Me="Firefox",je="Google",Ie="Huawei",Le="LG",Qe="Microsoft",nt="Motorola",Re="Opera",Fe="Samsung",Tt="Sharp",vt="Sony",ze="Xiaomi",at="Zebra",Te="Facebook",Ae="Chromium OS",He="Mac OS",m=function(Ye){for(var ot={},St=0;St<Ye.length;St++)ot[Ye[St].toUpperCase()]=Ye[St];return ot},d=function(Ye,ot){return typeof Ye===f&&b(ot).indexOf(b(Ye))!==-1},b=function(Ye){return Ye.toLowerCase()},C=function(Ye,ot){if(typeof Ye===f)return Ye=Ye.replace(/^\s\s*/,""),typeof ot===_?Ye:Ye.substring(0,500)},re=function(Ye,ot){for(var St,ft,zt,Ot,Gt,Zt,cn=0;cn<ot.length&&!Gt;){var Tn=ot[cn],kn=ot[cn+1];for(St=ft=0;St<Tn.length&&!Gt&&Tn[St];)if(Gt=Tn[St++].exec(Ye))for(zt=0;zt<kn.length;zt++)Zt=Gt[++ft],typeof(Ot=kn[zt])===E&&Ot.length>0?Ot.length===2?typeof Ot[1]==i?this[Ot[0]]=Ot[1].call(this,Zt):this[Ot[0]]=Ot[1]:Ot.length===3?typeof Ot[1]!==i||Ot[1].exec&&Ot[1].test?this[Ot[0]]=Zt?Zt.replace(Ot[1],Ot[2]):o:this[Ot[0]]=Zt?Ot[1].call(this,Zt,Ot[2]):o:Ot.length===4&&(this[Ot[0]]=Zt?Ot[3].call(this,Zt.replace(Ot[1],Ot[2])):o):this[Ot]=Zt||o;cn+=2}},te=function(Ye,ot){for(var St in ot)if(typeof ot[St]===E&&ot[St].length>0){for(var ft=0;ft<ot[St].length;ft++)if(d(ot[St][ft],Ye))return St==="?"?o:St}else if(d(ot[St],Ye))return St==="?"?o:St;return Ye},De={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},tt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[N,[r,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[N,[r,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[r,N],[/opios[\/ ]+([\w\.]+)/i],[N,[r,Re+" Mini"]],[/\bopr\/([\w\.]+)/i],[N,[r,Re]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[N,[r,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[r,N],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[N,[r,"UC"+ae]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[N,[r,"WeChat"]],[/konqueror\/([\w\.]+)/i],[N,[r,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[N,[r,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[N,[r,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[N,[r,"Smart Lenovo "+ae]],[/(avast|avg)\/([\w\.]+)/i],[[r,/(.+)/,"$1 Secure "+ae],N],[/\bfocus\/([\w\.]+)/i],[N,[r,Me+" Focus"]],[/\bopt\/([\w\.]+)/i],[N,[r,Re+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[N,[r,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[N,[r,"Dolphin"]],[/coast\/([\w\.]+)/i],[N,[r,Re+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[N,[r,"MIUI "+ae]],[/fxios\/([-\w\.]+)/i],[N,[r,Me]],[/\bqihu|(qi?ho?o?|360)browser/i],[[r,"360 "+ae]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[r,/(.+)/,"$1 "+ae],N],[/samsungbrowser\/([\w\.]+)/i],[N,[r,Fe+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[r,/_/g," "],N],[/metasr[\/ ]?([\d\.]+)/i],[N,[r,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[r,"Sogou Mobile"],N],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[r,N],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[r],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[r,Te],N],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[r,N],[/\bgsa\/([\w\.]+) .*safari\//i],[N,[r,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[N,[r,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[N,[r,we+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[r,we+" WebView"],N],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[N,[r,"Android "+ae]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[r,N],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[N,[r,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[N,r],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[r,[N,te,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[r,N],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[r,"Netscape"],N],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[N,[r,Me+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[r,N],[/(cobalt)\/([\w\.]+)/i],[r,[N,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[U,"amd64"]],[/(ia32(?=;))/i],[[U,b]],[/((?:i[346]|x)86)[;\)]/i],[[U,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[U,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[U,"armhf"]],[/windows (ce|mobile); ppc;/i],[[U,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[U,/ower/,"",b]],[/(sun4\w)[;\)]/i],[[U,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[U,b]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[y,[p,Fe],[l,oe]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[y,[p,Fe],[l,F]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[y,[p,ue],[l,F]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[y,[p,ue],[l,oe]],[/(macintosh);/i],[y,[p,ue]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[y,[p,Tt],[l,F]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[y,[p,Ie],[l,oe]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[y,[p,Ie],[l,F]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[y,/_/g," "],[p,ze],[l,F]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[y,/_/g," "],[p,ze],[l,oe]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[y,[p,"OPPO"],[l,F]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[y,[p,"Vivo"],[l,F]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[y,[p,"Realme"],[l,F]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[y,[p,nt],[l,F]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[y,[p,nt],[l,oe]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[y,[p,Le],[l,oe]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[y,[p,Le],[l,F]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[y,[p,"Lenovo"],[l,oe]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[y,/_/g," "],[p,"Nokia"],[l,F]],[/(pixel c)\b/i],[y,[p,je],[l,oe]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[y,[p,je],[l,F]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[y,[p,vt],[l,F]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[y,"Xperia Tablet"],[p,vt],[l,oe]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[y,[p,"OnePlus"],[l,F]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[y,[p,$],[l,oe]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[y,/(.+)/g,"Fire Phone $1"],[p,$],[l,F]],[/(playbook);[-\w\),; ]+(rim)/i],[y,p,[l,oe]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[y,[p,Ne],[l,F]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[y,[p,he],[l,oe]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[y,[p,he],[l,F]],[/(nexus 9)/i],[y,[p,"HTC"],[l,oe]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[y,/_/g," "],[l,F]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[y,[p,"Acer"],[l,oe]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[y,[p,"Meizu"],[l,F]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[y,[p,"Ulefone"],[l,F]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,y,[l,F]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,y,[l,oe]],[/(surface duo)/i],[y,[p,Qe],[l,oe]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[y,[p,"Fairphone"],[l,F]],[/(u304aa)/i],[y,[p,"AT&T"],[l,F]],[/\bsie-(\w*)/i],[y,[p,"Siemens"],[l,F]],[/\b(rct\w+) b/i],[y,[p,"RCA"],[l,oe]],[/\b(venue[\d ]{2,7}) b/i],[y,[p,"Dell"],[l,oe]],[/\b(q(?:mv|ta)\w+) b/i],[y,[p,"Verizon"],[l,oe]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[y,[p,"Barnes & Noble"],[l,oe]],[/\b(tm\d{3}\w+) b/i],[y,[p,"NuVision"],[l,oe]],[/\b(k88) b/i],[y,[p,"ZTE"],[l,oe]],[/\b(nx\d{3}j) b/i],[y,[p,"ZTE"],[l,F]],[/\b(gen\d{3}) b.+49h/i],[y,[p,"Swiss"],[l,F]],[/\b(zur\d{3}) b/i],[y,[p,"Swiss"],[l,oe]],[/\b((zeki)?tb.*\b) b/i],[y,[p,"Zeki"],[l,oe]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],y,[l,oe]],[/\b(ns-?\w{0,9}) b/i],[y,[p,"Insignia"],[l,oe]],[/\b((nxa|next)-?\w{0,9}) b/i],[y,[p,"NextBook"],[l,oe]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],y,[l,F]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],y,[l,F]],[/\b(ph-1) /i],[y,[p,"Essential"],[l,F]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[y,[p,"Envizen"],[l,oe]],[/\b(trio[-\w\. ]+) b/i],[y,[p,"MachSpeed"],[l,oe]],[/\btu_(1491) b/i],[y,[p,"Rotor"],[l,oe]],[/(shield[\w ]+) b/i],[y,[p,"Nvidia"],[l,oe]],[/(sprint) (\w+)/i],[p,y,[l,F]],[/(kin\.[onetw]{3})/i],[[y,/\./g," "],[p,Qe],[l,F]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[y,[p,at],[l,oe]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[y,[p,at],[l,F]],[/smart-tv.+(samsung)/i],[p,[l,x]],[/hbbtv.+maple;(\d+)/i],[[y,/^/,"SmartTV"],[p,Fe],[l,x]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,Le],[l,x]],[/(apple) ?tv/i],[p,[y,ue+" TV"],[l,x]],[/crkey/i],[[y,we+"cast"],[p,je],[l,x]],[/droid.+aft(\w+)( bui|\))/i],[y,[p,$],[l,x]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[y,[p,Tt],[l,x]],[/(bravia[\w ]+)( bui|\))/i],[y,[p,vt],[l,x]],[/(mitv-\w{5}) bui/i],[y,[p,ze],[l,x]],[/Hbbtv.*(technisat) (.*);/i],[p,y,[l,x]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,C],[y,C],[l,x]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[l,x]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,y,[l,q]],[/droid.+; (shield) bui/i],[y,[p,"Nvidia"],[l,q]],[/(playstation [345portablevi]+)/i],[y,[p,vt],[l,q]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[y,[p,Qe],[l,q]],[/((pebble))app/i],[p,y,[l,ne]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[y,[p,ue],[l,ne]],[/droid.+; (glass) \d/i],[y,[p,je],[l,ne]],[/droid.+; (wt63?0{2,3})\)/i],[y,[p,at],[l,ne]],[/(quest( 2| pro)?)/i],[y,[p,Te],[l,ne]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[l,de]],[/(aeobc)\b/i],[y,[p,$],[l,de]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[y,[l,F]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[y,[l,oe]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[l,oe]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[l,F]],[/(android[-\w\. ]{0,9});.+buil/i],[y,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[N,[r,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[N,[r,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[r,N],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[N,r]],os:[[/microsoft (windows) (vista|xp)/i],[r,N],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[r,[N,te,De]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[N,te,De],[r,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[N,/_/g,"."],[r,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[r,He],[N,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[N,r],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[r,N],[/\(bb(10);/i],[N,[r,Ne]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[N,[r,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[N,[r,Me+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[N,[r,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[N,[r,"watchOS"]],[/crkey\/([\d\.]+)/i],[N,[r,we+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[r,Ae],N],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[r,N],[/(sunos) ?([\w\.\d]*)/i],[[r,"Solaris"],N],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[r,N]]},Ge=function(Ye,ot){if(typeof Ye===E&&(ot=Ye,Ye=o),!(this instanceof Ge))return new Ge(Ye,ot).getResult();var St=typeof A!==_&&A.navigator?A.navigator:o,ft=Ye||(St&&St.userAgent?St.userAgent:""),zt=St&&St.userAgentData?St.userAgentData:o,Ot=ot?function(Zt,cn){var Tn={};for(var kn in Zt)cn[kn]&&cn[kn].length%2==0?Tn[kn]=cn[kn].concat(Zt[kn]):Tn[kn]=Zt[kn];return Tn}(tt,ot):tt,Gt=St&&St.userAgent==ft;return this.getBrowser=function(){var Zt,cn={};return cn[r]=o,cn[N]=o,re.call(cn,ft,Ot.browser),cn[R]=typeof(Zt=cn[N])===f?Zt.replace(/[^\d\.]/g,"").split(".")[0]:o,Gt&&St&&St.brave&&typeof St.brave.isBrave==i&&(cn[r]="Brave"),cn},this.getCPU=function(){var Zt={};return Zt[U]=o,re.call(Zt,ft,Ot.cpu),Zt},this.getDevice=function(){var Zt={};return Zt[p]=o,Zt[y]=o,Zt[l]=o,re.call(Zt,ft,Ot.device),Gt&&!Zt[l]&&zt&&zt.mobile&&(Zt[l]=F),Gt&&Zt[y]=="Macintosh"&&St&&typeof St.standalone!==_&&St.maxTouchPoints&&St.maxTouchPoints>2&&(Zt[y]="iPad",Zt[l]=oe),Zt},this.getEngine=function(){var Zt={};return Zt[r]=o,Zt[N]=o,re.call(Zt,ft,Ot.engine),Zt},this.getOS=function(){var Zt={};return Zt[r]=o,Zt[N]=o,re.call(Zt,ft,Ot.os),Gt&&!Zt[r]&&zt&&zt.platform!="Unknown"&&(Zt[r]=zt.platform.replace(/chrome os/i,Ae).replace(/macos/i,He)),Zt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ft},this.setUA=function(Zt){return ft=typeof Zt===f&&Zt.length>500?C(Zt,500):Zt,this},this.setUA(ft),this};Ge.VERSION="1.0.37",Ge.BROWSER=m([r,N,R]),Ge.CPU=m([U]),Ge.DEVICE=m([y,p,l,q,F,x,oe,ne,de]),Ge.ENGINE=Ge.OS=m([r,N]),typeof H!==_?(Z.exports&&(H=Z.exports=Ge),H.UAParser=Ge):S.amdO?(Y=(function(){return Ge}).call(H,S,H,Z))===o||(Z.exports=Y):typeof A!==_&&(A.UAParser=Ge);var Be=typeof A!==_&&(A.jQuery||A.Zepto);if(Be&&!Be.ua){var Pe=new Ge;Be.ua=Pe.getResult(),Be.ua.get=function(){return Pe.getUA()},Be.ua.set=function(Ye){Pe.setUA(Ye);var ot=Pe.getResult();for(var St in ot)Be.ua[St]=ot[St]}}})(typeof window=="object"?window:this)},7839:function(Z,H,S){function Y(A){try{if(!S.g.localStorage)return!1}catch{return!1}var o=S.g.localStorage[A];return o!=null&&String(o).toLowerCase()==="true"}Z.exports=function(A,o){if(Y("noDeprecation"))return A;var i=!1;return function(){if(!i){if(Y("throwDeprecation"))throw new Error(o);Y("traceDeprecation")?console.trace(o):console.warn(o),i=!0}return A.apply(this,arguments)}}},9862:function(){},964:function(){},3165:function(Z){Z.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},5813:function(Z){Z.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},9460:function(Z){Z.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},7778:function(Z){Z.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},8589:function(Z){Z.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},858:function(Z){Z.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')}},u={};function v(Z){var H=u[Z];if(H!==void 0)return H.exports;var S=u[Z]={exports:{}};return n[Z].call(S.exports,S,S.exports,v),S.exports}v.amdO={},v.n=function(Z){var H=Z&&Z.__esModule?function(){return Z.default}:function(){return Z};return v.d(H,{a:H}),H},v.d=function(Z,H){for(var S in H)v.o(H,S)&&!v.o(Z,S)&&Object.defineProperty(Z,S,{enumerable:!0,get:H[S]})},v.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),v.o=function(Z,H){return Object.prototype.hasOwnProperty.call(Z,H)};var M={};return function(){v.d(M,{default:function(){return E}}),v(8416);var Z,H=v(1715),S=v(8080),Y=v(1737),A=v(1139),o=function(){var f,R="application/dash+xml";function y(l,p,N){if(!l||!/^VIDEO$/i.test(l.nodeName))return null;if(l._dashjs_player)return l._dashjs_player;var U,q=l.id||l.name||"video element";if(!(p=p||[].slice.call(l.querySelectorAll("source")).filter(function(F){return F.type==R})[0])&&l.src)(p=document.createElement("source")).src=l.src;else if(!p&&!l.src)return null;return N=N||{},(U=(0,A.Z)(N).create()).initialize(l,p.src,l.autoplay),f||(f=U.getDebug().getLogger()),f.debug("Converted "+q+" to dash.js player and added content: "+p.src),l._dashjs_player=U,U}function r(l){return/^VIDEO$/i.test(l.nodeName)?l:r(l.parentNode)}return{create:y,createAll:function(l,p){var N=[];l=l||"[data-dashjs-player]";for(var U=(p=p||document).querySelectorAll(l),q=0;q<U.length;q++){var F=y(U[q],null);N.push(F)}for(var oe=p.querySelectorAll('source[type="'+R+'"]'),x=0;x<oe.length;x++){var ne=y(r(oe[x]),null);N.push(ne)}return N}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&(window.document.readyState==="complete"?window.dashjs?o.createAll():Z=window.setInterval(function(){window.dashjs&&(window.clearInterval(Z),o.createAll())},500):window.addEventListener("load",function f(){window.removeEventListener("load",f),o.createAll()}));var i=o,_=v(6398);dashjs.Protection=Y.default,dashjs.MetricsReporting=S.default,dashjs.MediaPlayerFactory=i,dashjs.Debug=_.Z,dashjs.supportsMediaSource=H.B;var E=dashjs}(),M.default}()})})(xm);var $_=xm.exports;const Tp=Sp($_);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),km=(...e)=>e.filter((t,n,u)=>!!t&&u.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=Rn.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:u,className:v="",children:M,iconNode:Z,...H},S)=>Rn.createElement("svg",{ref:S,...eT,width:t,height:t,stroke:e,strokeWidth:u?Number(n)*24/Number(t):n,className:km("lucide",v),...H},[...Z.map(([Y,A])=>Rn.createElement(Y,A)),...Array.isArray(M)?M:[M]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=(e,t)=>{const n=Rn.forwardRef(({className:u,...v},M)=>Rn.createElement(tT,{ref:M,iconNode:t,className:km(`lucide-${J_(e)}`,u),...v}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=lo("Captions",[["rect",{width:"18",height:"14",x:"3",y:"5",rx:"2",ry:"2",key:"12ruh7"}],["path",{d:"M7 15h4M15 15h2M7 11h2M13 11h4",key:"1ueiar"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=lo("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=lo("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=lo("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=lo("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=lo("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=lo("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=lo("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);function cT({src:e}){const t=Rn.useRef(null),n=Rn.useRef(null),u=Rn.useRef(null),[v,M]=Rn.useState(null),[Z,H]=Rn.useState(!1),[S,Y]=Rn.useState(1),[A,o]=Rn.useState(!1),[i,_]=Rn.useState(0),[E,f]=Rn.useState(0),[R,y]=Rn.useState([]),[r,l]=Rn.useState([]),[p,N]=Rn.useState([]),[U,q]=Rn.useState(!1),[F,oe]=Rn.useState(!0),[x,ne]=Rn.useState(!0),[de,$]=Rn.useState(0),[ue,he]=Rn.useState(0),[Ne,ae]=Rn.useState(null),[we,Me]=Rn.useState(!1),[je,Ie]=Rn.useState(!1),[Le,Qe]=Rn.useState("quality");Rn.useEffect(()=>{if(!t.current)return;const m=Tp.MediaPlayer().create();return m.initialize(t.current,e,!1),ne(!0),m.updateSettings({streaming:{buffer:{bufferToKeep:1,bufferPruningInterval:30},abr:{autoSwitchBitrate:{audio:!0,video:!1}},debug:{logLevel:Tp.Debug.LOG_LEVEL_DEBUG}},debug:{logLevel:1}}),M(m),()=>{m&&m.destroy()}},[e]),Rn.useEffect(()=>{if(!v)return;const m=()=>{try{const C=v.getQualityFor("video"),re=v.getBitrateInfoListFor("video");if(re&&re[C]){const te=re[C],De=v.getAverageThroughput("video"),tt=te?te.bitrate:0,Ge=Math.min(De,tt);$(Math.round(Ge/1e3)),ae(C)}}catch(C){console.error("Error updating stats:",C)}};m(),u.current=setInterval(m,1e3);const d=()=>{y(v.getBitrateInfoListFor("video")),l(v.getTracksFor("audio")),N(v.getTracksFor("text")),m()},b=()=>{m()};return v.on("streamInitialized",d),v.on("qualityChangeRendered",b),v.on("playbackTimeUpdated",C=>_(C.time)),v.on("playbackMetaDataLoaded",()=>f(v.duration())),()=>{u.current&&clearInterval(u.current),v.off("streamInitialized",d),v.off("qualityChangeRendered",b)}},[v]),Rn.useEffect(()=>{let m;const d=()=>{clearTimeout(m),oe(!0),m=setTimeout(()=>{oe(!1),Me(!1),Ie(!1)},3e3)},b=n.current;return b.addEventListener("mousemove",d),b.addEventListener("mouseleave",()=>{oe(!1),Me(!1),Ie(!1)}),d(),()=>{clearTimeout(m),b==null||b.removeEventListener("mousemove",d)}},[]);const nt=()=>{if(t.current){const m=t.current.getVideoPlaybackQuality();he(0),t.current.initialFrames=m.totalVideoFrames||0,t.current.initialTime=t.current.currentTime||0}};Rn.useEffect(()=>{const d=setInterval(()=>{if(t.current){const b=t.current.getVideoPlaybackQuality(),C=t.current.currentTime,re=t.current.initialFrames||0,te=t.current.initialTime||0;if(C>te){const De=b.totalVideoFrames-re,tt=C-te,Ge=De/tt;he(Math.round(Ge))}}},1e3);return()=>{clearInterval(d)}},[]),Rn.useEffect(()=>{if(t.current)return t.current.addEventListener("seeked",nt),()=>{t.current.removeEventListener("seeked",nt)}},[t.current]);const Re=()=>{Z?v.pause():v.play(),H(!Z)},Fe=m=>{const d=parseFloat(m.target.value);Y(d),v.setVolume(d),o(d===0)},Tt=m=>{if(!v)return;const d=v.time(),b=!v.isPaused();m==="auto"?(ne(!0),v.updateSettings({streaming:{abr:{autoSwitchBitrate:!0}}})):(ne(!1),v.updateSettings({streaming:{buffer:{bufferToKeep:1,bufferPruningInterval:30},abr:{autoSwitchBitrate:{audio:!0,video:!1}}}}),v.setQualityFor("video",parseInt(m))),setTimeout(()=>{v.seek(d),b&&v.play()},100),Me(!1)},vt=m=>{const d=v.time(),b=!v.isPaused(),C=r.find(re=>(re.id!==void 0?re.id:re.index)===m);C&&(v.setCurrentTrack(C),setTimeout(()=>{v.seek(d),b&&v.play()},100)),Me(!1)},ze=m=>{v&&(v.seek(m),_(m),console.log("as"))},at=m=>{const d=v.time(),b=!v.isPaused();if(m==="off")v.setTextTrack(-1);else{const C=p.find(re=>(re.id!==void 0?re.id:re.index)===m);C&&v.setCurrentTrack(C)}setTimeout(()=>{v.seek(d),b&&v.play()},100),Ie(!1)},Te=m=>{const d=Math.floor(m/3600),b=Math.floor(m%3600/60),C=Math.floor(m%60);return`${d>0?d.toString().padStart(2,"0")+":":""}${b.toString().padStart(2,"0")}:${C.toString().padStart(2,"0")}`},Ae=()=>vn.jsxs("div",{className:"absolute bottom-32 right-4 bg-black bg-opacity-90 text-white rounded-lg p-2 min-w-48",children:[vn.jsxs("div",{className:"flex space-x-2 border-b border-gray-700 pb-2 mb-2",children:[vn.jsx("button",{className:`px-3 py-1 rounded ${Le==="quality"?"bg-blue-500":""}`,onClick:()=>Qe("quality"),children:"Quality"}),vn.jsx("button",{className:`px-3 py-1 rounded ${Le==="audio"?"bg-blue-500":""}`,onClick:()=>Qe("audio"),children:"Audio"})]}),Le==="quality"&&vn.jsxs("div",{className:"space-y-1",children:[vn.jsx("button",{className:`w-full text-left px-3 py-1 hover:bg-gray-700 rounded ${x?"bg-gray-700":""}`,onClick:()=>Tt("auto"),children:"Auto"}),R.map(m=>vn.jsxs("button",{className:`w-full text-left px-3 py-1 hover:bg-gray-700 rounded ${Ne===m.qualityIndex&&!x?"bg-gray-700":""}`,onClick:()=>Tt(m.qualityIndex),children:[m.height,"p"]},m.qualityIndex))]}),Le==="audio"&&vn.jsx("div",{className:"space-y-1",children:r.map(m=>{var d,b;return vn.jsx("button",{className:"w-full text-left px-3 py-1 hover:bg-gray-700 rounded",onClick:()=>vt(m.id||m.index),children:((b=(d=m.labels)==null?void 0:d[0])==null?void 0:b.text)||m.lang||`Audio ${m.index+1}`},m.id||m.index)})})]}),He=()=>vn.jsxs("div",{className:"absolute bottom-32 right-36 bg-black bg-opacity-90 text-white rounded-lg p-2 min-w-48",children:[vn.jsx("button",{className:"w-full text-left px-3 py-1 hover:bg-gray-700 rounded",onClick:()=>at("off"),children:"Off"}),p.map(m=>{var d,b;return vn.jsx("button",{className:"w-full text-left px-3 py-1 hover:bg-gray-700 rounded",onClick:()=>at(m.id||m.index),children:((b=(d=m.labels)==null?void 0:d[0])==null?void 0:b.text)||m.lang||`Subtitle ${m.index+1}`},m.id||m.index)})]});return vn.jsx("div",{ref:n,className:`w-full max-w-6xl mx-auto mt-10 bg-gray-900 p-4 rounded-lg shadow-md relative ${U?"h-screen":"h-3xl"}`,children:vn.jsxs("div",{className:"relative",children:[vn.jsx("video",{ref:t,className:`w-full bg-black rounded-md ${U?"h-screen":""}`}),vn.jsx("div",{className:"absolute top-2 right-2 bg-black bg-opacity-60 text-white px-3 py-2 rounded text-xs font-mono",children:vn.jsxs("div",{className:"flex flex-col space-y-1",children:[vn.jsxs("div",{className:"flex items-center justify-between space-x-4",children:[vn.jsx("span",{className:"text-gray-400",children:"Bitrate:"}),vn.jsxs("span",{className:"text-green-400",children:[de," Kbps"]})]}),vn.jsxs("div",{className:"flex items-center justify-between space-x-4",children:[vn.jsx("span",{className:"text-gray-400",children:"FPS:"}),vn.jsx("span",{className:"text-blue-400",children:Math.round(ue)})]}),Ne!==null&&R[Ne]&&vn.jsxs("div",{className:"flex items-center justify-between space-x-4",children:[vn.jsx("span",{className:"text-gray-400",children:"Quality:"}),vn.jsxs("span",{className:"text-yellow-400",children:[R[Ne].height,"p"]})]})]})}),vn.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4 transition-opacity duration-300 ${F?"opacity-100":"opacity-0"}`,children:[vn.jsxs("div",{className:"flex items-center justify-between mb-4",children:[vn.jsx("button",{className:"p-2 rounded-full hover:bg-gray-700 transition text-white	",onClick:Re,children:Z?vn.jsx(oT,{className:"h-6 w-6"}):vn.jsx(aT,{className:"h-6 w-6"})}),vn.jsxs("div",{className:"flex items-center space-x-4",children:[vn.jsx("button",{className:"p-2 rounded-full hover:bg-gray-700 transition text-white	",onClick:()=>Ie(!je),children:vn.jsx(nT,{className:"h-6 w-6"})}),vn.jsx("button",{className:"p-2 rounded-full hover:bg-gray-700 transition text-white	",onClick:()=>Me(!we),children:vn.jsx(sT,{className:"h-6 w-6"})}),vn.jsxs("div",{className:"flex items-center space-x-2 text-white	",children:[vn.jsx("button",{className:"p-2 rounded-full hover:bg-gray-700 transition",onClick:()=>o(!A),children:A?vn.jsx(uT,{className:"h-6 w-6"}):vn.jsx(lT,{className:"h-6 w-6"})}),vn.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:A?0:S,onChange:Fe,className:"w-24 accent-white"})]}),vn.jsx("button",{className:"p-2 rounded-full hover:bg-gray-700 transition text-white	",onClick:()=>{U?document.exitFullscreen():n.current.requestFullscreen(),q(!U)},children:U?vn.jsx(iT,{className:"h-6 w-6"}):vn.jsx(rT,{className:"h-6 w-6"})})]})]}),vn.jsxs("div",{className:"relative",children:[vn.jsx("input",{type:"range",min:"0",max:E,value:i,onChange:m=>ze(parseFloat(m.target.value)),className:"w-full h-1 bg-gray-600 appearance-none rounded cursor-pointer",style:{background:`linear-gradient(to right, white ${i/E*100}%, gray ${i/E*100}%)`}}),vn.jsxs("div",{className:"flex justify-between text-sm mt-2 text-white	",children:[vn.jsx("span",{children:Te(i)}),vn.jsx("span",{children:Te(E)})]})]})]}),we&&vn.jsx(Ae,{}),je&&vn.jsx(He,{})]})})}function fT(){const[e,t]=Rn.useState("https://s3.ap-south-1.amazonaws.com/nextgen.videos/chuttamalle/final.mpd"),n=u=>{t(u)};return vn.jsx("div",{className:"min-h-screen w-full bg-gray-100 flex items-center justify-center",children:vn.jsxs("div",{className:"container h-[90vh] mx-auto flex flex-col px-4",children:[vn.jsx("h1",{className:"text-3xl font-bold text-center h-1/6 text-gray-800 mb-8",children:"Dash Video Player"}),vn.jsxs("div",{className:"flex justify-center space-x-4 mb-4",children:[vn.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded",onClick:()=>n("https://s3.ap-south-1.amazonaws.com/nextgen.videos/chuttamalle/final.mpd"),children:"Play Chuttamalle"}),vn.jsx("button",{className:"px-4 py-2 bg-green-500 text-white rounded",onClick:()=>n("https://s3.ap-south-1.amazonaws.com/nextgen.videos/chaleya/final.mpd"),children:"Play Chaleya"})]}),vn.jsx(cT,{src:e,className:"h-5/6"})]})})}lc.createRoot(document.getElementById("root")).render(vn.jsx(Bv.StrictMode,{children:vn.jsx(fT,{})}));
