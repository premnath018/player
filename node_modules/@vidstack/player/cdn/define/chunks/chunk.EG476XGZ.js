import{a as h}from"./chunk.W5E4CIVK.js";import{e as s}from"./chunk.X5B2OXGH.js";import{$ as d,a as i,b as n,f as r,ha as c,oa as a,pa as l,qa as m,ra as o}from"./chunk.DPV5XUTO.js";var p=new Set,t=class extends l{constructor(){super();this.__canLoad=!1;this.rr=new h(this);s(this,"poster",e=>{window.requestAnimationFrame(()=>{!this.__canLoad&&!p.has(e)&&(c(e,"prefetch"),p.add(e))}),this.__src=e}),s(this,"canLoad",e=>{this.ir(e),this.__canLoad=e})}static get styles(){return[a`:host{display:block;contain:content;pointer-events:none;object-fit:cover;box-sizing:border-box}:host([hidden]){display:none}img{display:block;width:100%;height:100%;pointer-events:none;object-fit:inherit;object-position:inherit;user-select:none;-webkit-user-select:none;box-sizing:border-box}`]}get src(){return this.__src}connectedCallback(){super.connectedCallback(),this.rr.hidePoster()}disconnectedCallback(){this.rr.showPoster(),super.disconnectedCallback(),this.ir(!1)}render(){return n`<img part="img" src="${r(this.__canLoad?this.src:null)}" alt="${r(this.alt)}" @load="${this.Us}" @error="${this.$s}">`}Bs(){this.removeAttribute("img-error"),this.removeAttribute("img-loaded"),this.src&&this.src.length>0&&this.setAttribute("img-loading","")}Us(){this.removeAttribute("img-loading"),this.setAttribute("img-loaded","")}$s(){this.removeAttribute("img-loading"),this.setAttribute("img-error","")}ir(e){e?this.Bs():(this.removeAttribute("img-error"),this.removeAttribute("img-loaded"),this.removeAttribute("img-loading"))}};i([o()],t.prototype,"__src",2),i([o()],t.prototype,"__canLoad",2),i([m()],t.prototype,"alt",2);d("vds-poster",t);
