import{a as m}from"./chunk.IUWR7EN5.js";import{I as v,i as r,m as a,oa as u,p as o,r as p,u as i,w as h,z as c}from"./chunk.DPV5XUTO.js";var n=class extends v{constructor(t,d,f){super(t,d);this.et=f}get isFullscreen(){return this.isSupportedNatively?this.isNativeFullscreen:this.et.isFullscreenMode}get isSupported(){return this.isSupportedNatively||this.isSupportedOnSafari}get isSupportedOnSafari(){return this.et.isSupported}async Et(){return this.isSupportedNatively?super.Et():this.bn()}async bn(){return this.et.setPresentationMode("fullscreen")}async bt(){return this.isSupportedNatively?super.bt():this.wn()}async wn(){return this.et.setPresentationMode("inline")}ft(t){return this.isSupportedNatively?super.ft(t):this.isSupportedOnSafari?r(this.i,"vds-video-presentation-change",this.ui.bind(this)):i}ui(t){this.yt(t)}gt(t){return this.isSupportedNatively?super.gt(t):i}};var s=class{constructor(e){this.i=e;this.z=void 0;this.b=new a;let t=e.firstUpdated;e.firstUpdated=d=>{t?.call(e,d),this.b.add(this.Cn())},e.addController({hostDisconnected:this.Ee.bind(this)})}Ee(){this.setPresentationMode("inline"),this.b.empty()}get presentationMode(){return this.i.videoElement?.webkitPresentationMode}get isInlineMode(){return this.presentationMode==="inline"}get isPictureInPictureMode(){return this.presentationMode==="inline"}get isFullscreenMode(){return this.presentationMode==="fullscreen"}get isSupported(){return c(this.i.videoElement?.webkitSetPresentationMode)}setPresentationMode(e){this.i.videoElement?.webkitSetPresentationMode?.(e)}Cn(){return!this.isSupported||h(this.i.videoElement)?i:r(this.i.videoElement,"webkitpresentationmodechanged",this.ui.bind(this))}ui(e){p(this.i,e),this.i.dispatchEvent(o("vds-video-presentation-change",{detail:this.presentationMode,triggerEvent:e}))}};var g=class extends m{constructor(){super(...arguments);this.presentationController=new s(this);this.fullscreenController=new n(this,this.screenOrientationController,this.presentationController)}static get styles(){return[u`:host{display:inline-block;background-color:var(--vds-video-bg-color,#000)}:host([hidden]){display:none}::slotted(video:not([width])){width:var(--vds-video-width,100%)}::slotted(video:not([height])){height:var(--vds-video-height,auto)}`]}connectedCallback(){super.connectedCallback(),this.dispatchEvent(o("vds-view-type-change",{detail:"video"}))}get videoElement(){return this.mediaElement}};export{g as a};
